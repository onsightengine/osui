/**
 * @description Suey
 * @about       Lightweight JavaScript UI library.
 * @author      Stephens Nunnally <@stevinz>
 * @license     MIT - Copyright (c) 2024 Stephens Nunnally
 * @source      https://github.com/salinityengine/suey
 * @version     v0.1.27
 */
const e="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 512 512' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:2%3b'%3e%3cpath d='M184.001%2c292.65l-119.111%2c-0c-13.193%2c-0 -23.889%2c-10.695 -23.889%2c-23.889l-0%2c-26.85c-0%2c-13.194 10.696%2c-23.889 23.889%2c-23.889l46.704%2c-0.001l31.681%2c0l74.967%2c0l0%2c-78.878l-0%2c-71.489c-0%2c-7.129 2.832%2c-13.965 7.872%2c-19.004c5.038%2c-5.041 11.875%2c-7.873 19.002%2c-7.873l21.767%2c0c7.127%2c0 13.964%2c2.832 19.003%2c7.873c5.04%2c5.039 7.873%2c11.875 7.873%2c19.004l0%2c150.364l150.365%2c0c7.127%2c0 13.964%2c2.833 19.004%2c7.873c5.04%2c5.041 7.872%2c11.876 7.872%2c19.002l-0%2c20.88c-0%2c7.127 -2.832%2c13.963 -7.872%2c19.003c-5.041%2c5.04 -11.877%2c7.87 -19.004%2c7.87l-72.38%2c0l0.003%2c0.003l-77.988%2c0l0%2c154.707c0%2c6.33 -2.514%2c12.4 -6.99%2c16.876c-4.476%2c4.476 -10.546%2c6.99 -16.877%2c6.99l-27.761%2c0c-6.336%2c0 -12.411%2c-2.516 -16.892%2c-6.996c-4.48%2c-4.48 -6.996%2c-10.556 -6.996%2c-16.892l-0%2c-118.1l-0%2c-36.247l-0.001%2c-0.338l-0.339%2c0.001l-33.902%2c-0Z' style='fill:%23e6e6e6%3b'/%3e%3c/svg%3e",t="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:2%3b'%3e%3cpath d='M373.189%2c648.684c-0%2c-0 -237.09%2c-138.996 -258.087%2c-117.999c-20.997%2c20.997 212.331%2c288.419 212.331%2c288.419c1.975%2c3.009 4.284%2c5.857 6.926%2c8.499c10.698%2c10.698 24.796%2c15.945 38.83%2c15.71c14.035%2c0.235 28.132%2c-5.012 38.831%2c-15.71c2.641%2c-2.642 4.95%2c-5.49 6.926%2c-8.499c-0%2c-0 423.255%2c-489.7 496.91%2c-611.246c9.004%2c-14.859 -15.991%2c-40.415 -34.446%2c-27.458c-108.024%2c75.837 -508.221%2c468.284 -508.221%2c468.284Z' style='fill:%23ebebeb%3b'/%3e%3c/svg%3e",n="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 512 512' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' xmlns:serif='http://www.serif.com/' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:2%3b'%3e%3cpath d='M386.576%2c386.574c-12.567%2c12.568 -33.514%2c12.568 -46.08%2c0.002l-84.496%2c-84.498l-84.497%2c84.498c-12.566%2c12.566 -33.512%2c12.566 -46.079%2c-0c-12.566%2c-12.568 -12.566%2c-33.513 0%2c-46.079l84.497%2c-84.496l-84.497%2c-84.498c-12.566%2c-12.566 -12.566%2c-33.511 0%2c-46.079c12.567%2c-12.565 33.513%2c-12.565 46.079%2c-0l84.496%2c84.498l84.497%2c-84.498c12.566%2c-12.565 33.512%2c-12.565 46.079%2c-0c12.566%2c12.568 12.566%2c33.513 0%2c46.079l-84.497%2c84.496l84.498%2c84.498c12.565%2c12.566 12.565%2c33.51 0%2c46.077Z' style='fill:white%3b'/%3e%3c/svg%3e",s="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:2%3b'%3e%3c/svg%3e",i="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 512 512' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:2%3b'%3e%3cpath d='M202.677%2c396c-6.857%2c0 -13.038%2c-4.13 -15.662%2c-10.465c-2.624%2c-6.335 -1.174%2c-13.626 3.674%2c-18.474c44.911%2c-44.911 130.904%2c-130.904 176.025%2c-176.025c4.906%2c-4.906 12.285%2c-6.374 18.696%2c-3.719c6.41%2c2.656 10.59%2c8.911 10.59%2c15.85c0%2c45.295 0%2c117.022 0%2c159.048c0%2c18.659 -15.126%2c33.785 -33.785%2c33.785l-159.538%2c0Z' style='fill:white%3b'/%3e%3cpath d='M303.059%2c116c6.881%2c-0 13.084%2c4.145 15.717%2c10.502c2.634%2c6.357 1.178%2c13.674 -3.687%2c18.54c-43.748%2c43.748 -126.088%2c126.087 -169.914%2c169.913c-4.888%2c4.888 -12.239%2c6.35 -18.625%2c3.705c-6.386%2c-2.645 -10.55%2c-8.877 -10.55%2c-15.789c-0%2c-43.783 -0%2c-112.154 -0%2c-152.928c-0%2c-18.746 15.197%2c-33.943 33.943%2c-33.943l153.116%2c-0Z' style='fill:white%3b'/%3e%3c/svg%3e",o="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 512 512' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:2%3b'%3e%3cpath d='M256%2c16c132.46%2c-0 240%2c107.54 240%2c240c0%2c132.46 -107.54%2c240 -240%2c240c-132.46%2c0 -240%2c-107.54 -240%2c-240c0%2c-132.46 107.54%2c-240 240%2c-240Zm0%2c57.6c-100.669%2c0 -182.4%2c81.731 -182.4%2c182.4c0%2c100.669 81.731%2c182.4 182.4%2c182.4c100.669%2c0 182.4%2c-81.731 182.4%2c-182.4c0%2c-100.669 -81.731%2c-182.4 -182.4%2c-182.4Z' style='fill:%237f7f7f%3b'/%3e%3cpath d='M256.001%2c320.462c-12.011%2c-0 -21.749%2c-9.737 -21.749%2c-21.749l0%2c-9.225c0%2c-21.468 13.519%2c-40.67 33.639%2c-47.784c15.135%2c-5.352 24.887%2c-20.319 23.715%2c-36.397c-1.284%2c-17.606 -15.538%2c-31.752 -33.157%2c-32.906c-18.636%2c-1.231 -35.239%2c12.228 -37.805%2c30.616c-0.23%2c1.644 -0.346%2c3.329 -0.346%2c5.008c0%2c12.011 -9.737%2c21.749 -21.749%2c21.749c-12.012%2c-0 -21.749%2c-9.738 -21.749%2c-21.749c-0%2c-3.682 0.257%2c-7.389 0.763%2c-11.018c5.698%2c-40.84 42.476%2c-70.72 83.728%2c-68.012c39.162%2c2.565 70.846%2c34.012 73.699%2c73.149c2.593%2c35.571 -19.036%2c68.702 -52.598%2c80.57c-2.776%2c0.981 -4.641%2c3.703 -4.641%2c6.774l-0%2c9.225c-0%2c12.012 -9.738%2c21.749 -21.75%2c21.749Z' style='fill:%237f7f7f%3b'/%3e%3cpath d='M256.001%2c390.135c-14.739%2c0 -26.687%2c-11.948 -26.687%2c-26.687l-0%2c-0.221c-0%2c-14.739 11.948%2c-26.688 26.687%2c-26.688c14.739%2c0 26.688%2c11.949 26.688%2c26.688l-0%2c0.221c0.001%2c14.739 -11.948%2c26.687 -26.688%2c26.687Z' style='fill:%237f7f7f%3b'/%3e%3c/svg%3e",r="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 512 512' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:2%3b'%3e%3cpath d='M256%2c16c132.46%2c0 240%2c107.54 240%2c240c0%2c132.46 -107.54%2c240 -240%2c240c-132.46%2c0 -240%2c-107.54 -240%2c-240c0%2c-132.46 107.54%2c-240 240%2c-240Zm-0%2c57.6c-100.669%2c0 -182.4%2c81.731 -182.4%2c182.4c0%2c100.669 81.731%2c182.4 182.4%2c182.4c100.669%2c0 182.4%2c-81.731 182.4%2c-182.4c-0%2c-100.669 -81.731%2c-182.4 -182.4%2c-182.4Z' style='fill:%237f7f7f%3b'/%3e%3cpath d='M256%2c140.739c18.48%2c0 33.6%2c15.12 33.6%2c33.6c0%2c18.48 -15.12%2c33.6 -33.6%2c33.6c-18.48%2c0 -33.6%2c-15.12 -33.6%2c-33.6c0%2c-18.48 15.12%2c-33.6 33.6%2c-33.6Z' style='fill:%237f7f7f%3b'/%3e%3cpath d='M256%2c219.364c15.464%2c0 28%2c12.536 28%2c28l0%2c100.511c-0%2c15.464 -12.536%2c28 -28%2c28l-0%2c-0c-15.464%2c-0 -28%2c-12.536 -28%2c-28l0%2c-100.511c0%2c-15.464 12.536%2c-28 28%2c-28l0%2c0Z' style='fill:%237f7f7f%3b'/%3e%3c/svg%3e",a="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 512 512' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:2%3b'%3e%3cpath d='M335.44%2c16c12.788%2c-0.01 25.064%2c5.091 34.08%2c14.16l112.32%2c112.32c9.069%2c9.016 14.17%2c21.292 14.16%2c34.08l-0%2c158.88c0.01%2c12.788 -5.091%2c25.064 -14.16%2c34.08l-112.32%2c112.32c-9.016%2c9.069 -21.292%2c14.17 -34.08%2c14.16l-158.88%2c-0c-12.788%2c0.01 -25.064%2c-5.091 -34.08%2c-14.16l-112.32%2c-112.32c-9.069%2c-9.016 -14.17%2c-21.292 -14.16%2c-34.08l0%2c-158.88c-0.01%2c-12.788 5.091%2c-25.064 14.16%2c-34.08l112.32%2c-112.32c9.016%2c-9.069 21.292%2c-14.17 34.08%2c-14.16l158.88%2c0Zm-259.497%2c162.155c-1.5%2c1.5 -2.343%2c3.535 -2.343%2c5.657c-0%2c19.996 -0%2c124.38 -0%2c144.376c-0%2c2.122 0.843%2c4.157 2.343%2c5.657c14.15%2c14.15 88.062%2c88.062 102.212%2c102.212c1.5%2c1.5 3.535%2c2.343 5.657%2c2.343c19.996%2c0 124.38%2c0 144.376%2c0c2.122%2c0 4.157%2c-0.843 5.657%2c-2.343c14.15%2c-14.15 88.062%2c-88.062 102.212%2c-102.212c1.5%2c-1.5 2.343%2c-3.535 2.343%2c-5.657c0%2c-19.996 0%2c-124.38 0%2c-144.376c0%2c-2.122 -0.843%2c-4.157 -2.343%2c-5.657c-14.15%2c-14.15 -88.062%2c-88.062 -102.212%2c-102.212c-1.5%2c-1.5 -3.535%2c-2.343 -5.657%2c-2.343c-19.996%2c-0 -124.38%2c-0 -144.376%2c-0c-2.122%2c-0 -4.157%2c0.843 -5.657%2c2.343c-14.15%2c14.15 -88.062%2c88.062 -102.212%2c102.212Z' style='fill:grey%3b'/%3e%3cpath d='M313.604%2c339.978c-7%2c0.022 -13.725%2c-2.762 -18.662%2c-7.726l-38.941%2c-38.928l-38.941%2c38.947c-4.948%2c4.948 -11.665%2c7.73 -18.662%2c7.73c-14.478%2c-0 -26.392%2c-11.914 -26.392%2c-26.392c0%2c-6.997 2.783%2c-13.714 7.73%2c-18.662l38.941%2c-38.947l-38.947%2c-38.941c-4.948%2c-4.948 -7.73%2c-11.665 -7.73%2c-18.662c0%2c-14.478 11.914%2c-26.392 26.392%2c-26.392c6.997%2c0 13.714%2c2.783 18.662%2c7.73l38.947%2c38.941l38.941%2c-38.947c4.948%2c-4.948 11.665%2c-7.73 18.662%2c-7.73c14.478%2c0 26.392%2c11.914 26.392%2c26.392c-0%2c6.997 -2.783%2c13.714 -7.73%2c18.662l-38.941%2c38.947l38.947%2c38.941c4.946%2c4.946 7.728%2c11.661 7.728%2c18.656c0%2c14.472 -11.909%2c26.381 -26.382%2c26.381c-0.002%2c0 -0.014%2c0 -0.014%2c0Z' style='fill:%237f7f7f%3bfill-rule:nonzero%3b'/%3e%3c/svg%3e",l="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 512 512' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:2%3b'%3e%3cpath d='M217.561%2c65.75c7.968%2c-13.681 22.607%2c-22.096 38.439%2c-22.096c15.832%2c-0 30.471%2c8.415 38.439%2c22.096l195.518%2c335.729c8.012%2c13.759 8.06%2c30.751 0.125%2c44.554c-7.935%2c13.804 -22.642%2c22.313 -38.564%2c22.313l-391.036%2c0c-15.922%2c0 -30.629%2c-8.509 -38.564%2c-22.313c-7.935%2c-13.803 -7.887%2c-30.795 0.125%2c-44.554l195.518%2c-335.729Zm-136.351%2c340.199c-1.08%2c1.856 -1.087%2c4.148 -0.017%2c6.01c1.071%2c1.861 3.055%2c3.009 5.202%2c3.009c52.447%2c0 286.763%2c0 339.21%2c0c2.147%2c0 4.131%2c-1.148 5.202%2c-3.009c1.07%2c-1.862 1.063%2c-4.154 -0.017%2c-6.01c-26.302%2c-45.163 -143.46%2c-246.339 -169.605%2c-291.233c-1.075%2c-1.845 -3.049%2c-2.98 -5.185%2c-2.98c-2.136%2c-0 -4.11%2c1.135 -5.185%2c2.98c-26.145%2c44.894 -143.303%2c246.07 -169.605%2c291.233Z' style='fill:%237f7f7f%3b'/%3e%3cpath d='M283.679%2c215.374l-7.778%2c93.106c-0.813%2c9.752 -8.939%2c17.298 -18.807%2c17.298c-9.868%2c-0 -17.994%2c-7.546 -18.807%2c-17.298l-7.778%2c-93.106c-1.277%2c-15.556 10.913%2c-28.907 26.585%2c-28.907c14.86%2c0 26.701%2c12.074 26.701%2c26.702c0%2c0.696 0%2c1.509 -0.116%2c2.205Z' style='fill:%237f7f7f%3b'/%3e%3cpath d='M257.093%2c385.058c-12.952%2c0 -23.549%2c-10.597 -23.549%2c-23.549c-0%2c-12.952 10.597%2c-23.549 23.549%2c-23.549c12.952%2c-0 23.549%2c10.597 23.549%2c23.549c0%2c12.952 -10.597%2c23.549 -23.549%2c23.549Z' style='fill:%237f7f7f%3b'/%3e%3c/svg%3e",d=25,h=500,c=2,u=5,m="0.3em",p={DARK:0,MID:1,LIGHT:2,FADED:3},g={CLASSIC:43724,STEEL:51395,NAVY:1722575,GRAPE:9834228,FLAMINGO:16716781,RUST:11475993,CARROT:16676608,COFFEE:11628315,GOLDEN:13752405,EMERALD:1755682,RANDOM:-1},b={SHADOW:"shadow",DARKNESS:"darkness",BACKGROUND_DARK:"background-dark",BACKGROUND_LIGHT:"background-light",BUTTON_DARK:"button-dark",BUTTON_LIGHT:"button-light",TEXT_DARK:"text-dark",TEXT:"text",TEXT_LIGHT:"text-light",BLACKLIGHT:"blacklight",DARKLIGHT:"darklight",MIDLIGHT:"midlight",HIGHLIGHT:"highlight",ICON_DARK:"icon-dark",ICON:"icon",ICON_LIGHT:"icon-light",COMPLEMENT:"complement",TRIADIC1:"triadic1",TRIADIC2:"triadic2",TRIADIC3:"triadic3",TRIADIC4:"triadic4",TRIADIC5:"triadic5",TRIADIC6:"triadic6"},y={NONE:"none",SIMPLE:"simple",FANCY:"fancy"},f={TABS:"tabs",NORMAL:"normal"},v={LEFT:"left",RIGHT:"right",BOTH:"both",NONE:"none"},w={CLOSE:"close",MAX:"max"},x={LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom"},k={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right"},C={LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom"},S={QUESTION:"question",INFO:"info",ERROR:"error",WARNING:"warning"},T={ICON:"icon",COMPLEMENT:"complement",TRIADIC1:"triadic1",TRIADIC2:"triadic2",TRIADIC3:"triadic3",TRIADIC4:"triadic4",BLUE:"blue",RED:"red",GREEN:"green",YELLOW:"yellow"},E={OKAY:{text:"Okay",value:0},YES:{text:"Yes",value:1},NO:{text:"No",value:2},CANCEL:{text:"Cancel",value:3}},I={STRAIGHT:"straight",CURVE:"curve",ZIGZAG:"zigzag"},L={LINES:"lines",DOTS:"dots"},M={INPUT:"input",OUTPUT:"output"};class z{static getVariable(e,t){return(e=String(e)).startsWith("--")||(e="--"+e),t&&t.isElement&&(t=t.dom),t&&t instanceof HTMLElement||(t=document.querySelector(":root")),getComputedStyle(t).getPropertyValue(e)}static setVariable(e,t,n){(e=String(e)).startsWith("--")||(e="--"+e),n&&n.isElement&&(n=n.dom),n&&n instanceof HTMLElement||(n=document.querySelector(":root")),n.style.setProperty(e,t)}static baseSize(){return parseFloat(z.getVariable("--base-size"))}static fontSize(e=document.body){e&&e.isElement&&(e=e.dom);let t=getComputedStyle(e).fontSize;return null!=t&&!Number.isNaN(t)&&Number.isFinite(t)||(t=getComputedStyle(document.body).fontSize),parseFloat(t)}static guiScale(e=document.body){return e&&e.isElement&&(e=e.dom),z.fontSize(e)/z.baseSize()}static getTextWidth(e,t){const n=document.createElement("canvas").getContext("2d");return n.font=t,n.measureText(e).width}static getFontCssFromElement(e=document.body){e&&e.isElement&&(e=e.dom);return`${getComputedStyle(e).fontWeight||"normal"} ${getComputedStyle(e).fontSize||"16px"} ${getComputedStyle(e).fontFamily||"Arial"}`}static parentElementWithCSS(e,t,n){const s=Array.isArray(n)?n:[n];t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),e.isElement&&e.dom&&(e=e.dom);let i=e.parentElement;for(;i;){const e=(i.ownerDocument||document).defaultView.getComputedStyle(i,null).getPropertyValue(t);if(e)for(let t=0;t<s.length;t++){if(e==s[t])return i}i=i.parentElement}return document.body}static setCursor(e=""){""===e?(document.body.style.cursor="",document.body.classList.remove("suey-cursor-override")):(document.body.style.cursor=e,document.body.classList.add("suey-cursor-override"))}static parseSize(e){return"string"==typeof e?e.includes("%")||e.includes("px")||e.includes("em")||e.includes("rem")||e.includes("ch")||e.includes("ex")||e.includes("cap")||e.includes("vw")||e.includes("vh")||e.includes("vmin")||e.includes("vmax")?e:parseFloat(e).toFixed(2)+"px":Number.isNaN(e)?"0":parseFloat(e).toFixed(2)+"px"}static toEm(e,t=document.body){t&&t.isElement&&(t=t.dom);const n=z.parseSize(e);return n.includes("px")?parseFloat(n)/10/z.guiScale(t)+"em":n.includes("em")?n:(console.warn(`Css.toEm(): Could not convert to em, unit passed in: ${e}`),size)}static toPx(e,t=document.body,n="w"){t&&t.isElement&&(t=t.dom);const s=z.parseSize(e);if(s.includes("%")){if(t){const s=z.parentElementWithCSS(t,"position",["relative","absolute"]);if(s)return"w"===n?.01*parseFloat(e)*s.offsetWidth+"px":.01*parseFloat(e)*s.offsetHeight+"px"}}else{if(s.includes("px"))return s;if(s.includes("rem"))return parseInt(10*parseFloat(e))+"px";if(s.includes("em"))return parseInt(10*parseFloat(e)*z.guiScale(t))+"px"}return console.warn(`Css.toPx(): Could not convert to pixels, unit passed in: ${e}`),parseInt(s)+"px"}}const R={LEFT:"left",CENTER:"center",MIDDLE:"center",RIGHT:"right"},P={LEFT:"left",RIGHT:"right"},D={OVER:"over",UNDER:"under"};class A{static getLeft(e){return e.getBoundingClientRect().left}static getTop(e){return e.getBoundingClientRect().top}static getWidth(e){return e.offsetWidth}static getHeight(e){return e.offsetHeight}static popOver(e,t,n=R.LEFT,s=0,i=0,o=P.RIGHT){return A.popOverUnder(e,t,D.OVER,n,s,i,o)}static popUnder(e,t,n=R.LEFT,s=0,i=0,o=P.RIGHT){return A.popOverUnder(e,t,D.UNDER,n,s,i,o)}static popOverUnder(e,t,n=D.UNDER,s=R.LEFT,i=0,o=0,r=P.RIGHT){let a=window.innerWidth-4,l=window.innerHeight-4;i=i?parseInt(z.toPx(i),10):0,o=o?parseInt(z.toPx(o),10):0;let d=A.getLeft(t)+i;if(s===R.CENTER){d=A.getLeft(t)+(A.getWidth(t)-A.getWidth(e))/2+i}else if(s===R.RIGHT){d=A.getLeft(t)+(A.getWidth(t)-A.getWidth(e))+i}r===P.LEFT&&(a=A.getLeft(t)+A.getWidth(t));let h=d+A.getWidth(e);h>a&&(d-=h-a),d<4&&(d=4);let c=A.getTop(t)+A.getHeight(t)+o,u=A.getTop(t)-A.getHeight(e)-o,m=c+A.getHeight(e);m>l&&(n=D.OVER),u<4&&(n=D.UNDER);let p=n===D.UNDER?c:u;return n===D.UNDER&&(m=p+A.getHeight(e),m>l&&(p=l-A.getHeight(e),p<4&&(p=4))),e.style.left=z.toPx(d),e.style.top=z.toPx(p),n}}class F{static get NAMES(){return de}static get EXTENDED_NAMES(){return he}constructor(e=16777215,t,n,s=""){this.isColor=!0,this.isIris=!0,this.type="Color",this.r=1,this.g=1,this.b=1,this.set(e,t,n,s)}copy(e){return this.set(e)}clone(){return new this.constructor(this.r,this.g,this.b)}set(e=0,t,n,s=""){if(0===arguments.length)return this.set(0);if(null==e||Number.isNaN(e))(t||n)&&console.warn(`Iris.set(): Invalid 'r' value ${e}`);else if(void 0===t&&void 0===n){let n=e;if("number"==typeof n||0===n)return this.setHex(n);if(n&&(void 0!==(i=n).r&&void 0!==i.g&&void 0!==i.b))return this.setRGBF(n.r,n.g,n.b);if(n&&N(n))return this.setHSL(360*n.h,n.s,n.l);if(n&&B(n))return this.setRYB(255*n.r,255*n.y,255*n.b);if(Array.isArray(n)&&n.length>2){const e=null!=t&&!Number.isNaN(t)&&t>0?t:0;return this.setRGBF(n[e],n[e+1],n[e+2])}if("string"==typeof n)return this.setStyle(n)}else switch(null!=s&&""!==s||Number.isInteger(e)&&Number.isInteger(t)&&Number.isInteger(n)&&e>1&&t>1&&n>1&&(s="rgb"),s){case"rgb":return this.setRGB(e,t,n);case"hsl":return this.setHSL(e,t,n);case"ryb":return this.setRYB(e,t,n);default:return this.setRGBF(e,t,n)}var i;return this}setColorName(e){if(null==e||"string"!=typeof e||""===e)return this;e=(e=e.replace(/\s/g,"")).toLowerCase();const t=de[e]??he[e];return t?this.setHex(t):(console.warn(`Iris.setColorName(): Unknown color ${e}`),this)}setHex(e){((e=Math.floor(e))>16777215||e<0)&&(console.warn(`Iris.setHex(): Given decimal outside of range, value was ${e}`),e=O(e,0,16777215));const t=(16711680&e)>>16,n=(65280&e)>>8,s=255&e;return this.setRGB(t,n,s)}setHSL(e,t,n){e=K(e,0,360),t=O(t,0,1),n=O(n,0,1);let s=(1-Math.abs(2*n-1))*t,i=s*(1-Math.abs(e/60%2-1)),o=n-s/2,r=0,a=0,l=0;return e<60?(r=s,a=i,l=0):60<=e&&e<120?(r=i,a=s,l=0):120<=e&&e<180?(r=0,a=s,l=i):180<=e&&e<240?(r=0,a=i,l=s):240<=e&&e<300?(r=i,a=0,l=s):300<=e&&(r=s,a=0,l=i),this.setRGBF(r+o,a+o,l+o),this}setRandom(){return this.setRGBF(Math.random(),Math.random(),Math.random())}setRGB(e,t,n){return this.setRGBF(e/255,t/255,n/255)}setRGBF(e,t,n){return this.r=O(e,0,1),this.g=O(t,0,1),this.b=O(n,0,1),this}setRYB(e,t,n){const s=oe(O(e,0,255),O(t,0,255),O(n,0,255),255,re.RYB_TO_RGB);return this.setHex(s)}setScalar(e){return this.setRGB(e,e,e)}setScalarF(e){return this.setRGBF(e,e,e)}setStyle(e){let t;if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const n=t[1],s=t[2];switch(n){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const t=Math.min(255,parseInt(e[1],10)),n=Math.min(255,parseInt(e[2],10)),s=Math.min(255,parseInt(e[3],10));return this.setRGB(t,n,s)}if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const t=Math.min(100,parseInt(e[1],10))/100,n=Math.min(100,parseInt(e[2],10))/100,s=Math.min(100,parseInt(e[3],10))/100;return this.setRGBF(t,n,s)}break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const t=parseFloat(e[1]),n=parseInt(e[2],10)/100,s=parseInt(e[3],10)/100;return this.setHSL(t,n,s)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=t[1],n=e.length;if(3===n){const t=parseInt(e.charAt(0)+e.charAt(0),16),n=parseInt(e.charAt(1)+e.charAt(1),16),s=parseInt(e.charAt(2)+e.charAt(2),16);return this.setRGB(t,n,s)}if(6===n){const t=parseInt(e.charAt(0)+e.charAt(1),16),n=parseInt(e.charAt(2)+e.charAt(3),16),s=parseInt(e.charAt(4)+e.charAt(5),16);return this.setRGB(t,n,s)}}return e&&e.length>0?this.setColorName(e):this}cssString(e){return"rgb("+this.rgbString(e)+")"}hex(){return(this.red()<<16)+(this.green()<<8)+this.blue()}hexString(e){return e&&this.set(e),F.hexString(this.hex())}static hexString(e=0){return se.set(e),"#"+("000000"+(se.hex()>>>0).toString(16)).slice(-6)}static randomHex(){return ne.setRandom().hex()}rgbString(e){const t=this.red()+", "+this.green()+", "+this.blue();return null!=e?String(t+", "+e):t}toJSON(){return this.hex()}getHSL(e){if(!e||!N(e))return{h:G(this.hex()),s:U(this.hex()),l:_(this.hex())};e.h=G(this.hex()),e.s=U(this.hex()),e.l=_(this.hex())}getRGB(e){if(!e||!N(e))return{r:this.r,g:this.g,b:this.b};e.r=this.r,e.g=this.g,e.b=this.b}getRYB(e){let t=oe(this.r,this.g,this.b,1,re.RGB_TO_RYB);return e&&B(e)?(e.r=H(t),e.y=V(t),e.b=W(t),e):{r:H(t),y:V(t),b:W(t)}}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}red(){return O(Math.floor(255*this.r),0,255)}green(){return O(Math.floor(255*this.g),0,255)}blue(){return O(Math.floor(255*this.b),0,255)}redF(){return this.r}greenF(){return this.g}blueF(){return this.b}hue(){return $(this.hex())}saturation(){return U(this.hex())}lightness(){return _(this.hex())}hueF(){return G(this.hex())}hueRYB(){for(let e=1;e<le.length;e++)if(le[e]>this.hue())return e-2}add(e){return e.isColor||console.warn("Iris.add(): Missing 'color' object"),this.setRGBF(this.r+e.r,this.g+e.g,this.b+e.b)}addScalar(e){return this.setRGB(this.red()+e,this.green()+e,this.blue()+e)}addScalarF(e){return this.setRGBF(this.r+e,this.g+e,this.b+e)}brighten(e=.5){let t=$(this.hex()),n=U(this.hex()),s=_(this.hex());return s+=(1-s)*e,this.setHSL(t,n,s),this}darken(e=.5){let t=$(this.hex()),n=U(this.hex()),s=_(this.hex())*e;return this.setHSL(t,n,s)}greyscale(e=1,t="luminosity"){return this.grayscale(e,t)}grayscale(e=1,t="luminosity"){let n=0;"luminosity"===t&&(n=.21*this.r+.72*this.g+.07*this.b),n=(this.r+this.g+this.b)/3,e=O(e,0,1);const s=this.r*(1-e)+e*n,i=this.g*(1-e)+e*n,o=this.b*(1-e)+e*n;return this.setRGBF(s,i,o)}hslOffset(e,t,n){return this.setHSL(this.hue()+e,this.saturation()+t,this.lightness()+n)}mix(e,t=.5){e.isColor||console.warn("Iris.mix(): Missing 'color' object"),t=O(t,0,1);const n=this.r*(1-t)+t*e.r,s=this.g*(1-t)+t*e.g,i=this.b*(1-t)+t*e.b;return this.setRGBF(n,s,i)}multiply(e){return e.isColor||console.warn("Iris.multiply(): Missing 'color' object"),this.setRGBF(this.r*e.r,this.g*e.g,this.b*e.b)}multiplyScalar(e){return this.setRGBF(this.r*e,this.g*e,this.b*e)}rgbComplementary(){return this.rgbRotateHue(180)}rgbRotateHue(e=90){const t=K(this.hue()+e);return this.setHSL(t,this.saturation(),this.lightness())}rybAdjust(){return this.setHSL($(ie(this.hue(),ae.RYB)),this.saturation(),this.lightness())}rybComplementary(){return this.rybRotateHue(180)}rybRotateHue(e=90){const t=K(this.hueRYB()+e);return this.setHSL($(ie(t,ae.RYB)),this.saturation(),this.lightness())}subtract(e){return e.isColor||console.warn("Iris.subtract(): Missing 'color' object"),this.setRGBF(this.r-e.r,this.g-e.g,this.b-e.b)}equals(e){return e.isColor||console.warn("Iris.equals(): Missing 'color' object"),Y(this.r,e.r)&&Y(this.g,e.g)&&Y(this.b,e.b)}isEqual(e){return this.equals(e)}isDark(){const e=this.hue(),t=this.lightness();return t<.6&&(e>=210||e<=27)||t<=.32}isLight(){return!this.isDark()}}function N(e){return void 0!==e.h&&void 0!==e.s&&void 0!==e.l}function B(e){return void 0!==e.r&&void 0!==e.y&&void 0!==e.b}function O(e,t,n){return Math.max(t,Math.min(n,e))}function H(e){return function(e){return O((16711680&e)>>16,0,255)}(e)/255}function V(e){return function(e){return O((65280&e)>>8,0,255)}(e)/255}function W(e){return function(e){return O(255&e,0,255)}(e)/255}function $(e){return Q(e,"h")}function G(e){return $(e)/360}function U(e){return Q(e,"s")}function _(e){return Q(e,"l")}function Y(e,t,n=.0015){return e<t+n&&e>t-n}function K(e,t=0,n=360){for(;e>=n;)e-=n-t;for(;e<t;)e+=n-t;return e}let j,X,q,Z;function Q(e,t="h"){if(e!==j){if(null==e)return 0;const t=H(e),n=V(e),s=W(e),i=Math.max(t,n,s),o=Math.min(t,n,s),r=i-o;if(Z=(i+o)/2,0===r)X=q=0;else{switch(q=Z<=.5?r/(i+o):r/(2-i-o),i){case t:X=(n-s)/r+(n<s?6:0);break;case n:X=(s-t)/r+2;break;case s:X=(t-n)/r+4}X=Math.round(60*X),X<0&&(X+=360)}j=e}switch(t){case"h":return X;case"s":return q;case"l":return Z;default:console.warn(`Iris.hsl(): Unknown channel (${t})`)}return 0}const J=new F,ee=new F,te=new F,ne=new F,se=new F;function ie(e,t=ae.RYB){let n=360/t.length,s=n,i=0;for(let o=0;o<t.length;o++){if(e<s){let o=(s-e)/n;return ee.set(t[i+1]),ee.mix(te.set(t[i]),o).hex()}s+=n,i+=1}}function oe(e,t,n,s=255,i=re.RYB_TO_RGB){e=O(e/s,0,1),t=O(t/s,0,1),n=O(n/s,0,1);const o=i[0],r=i[1],a=i[2],l=i[3],d=i[4],h=i[5],c=i[6],u=i[7],m=1-e,p=1-t,g=1-n,b=m*p*g,y=m*p*n,f=m*t*g,v=e*p*g,w=m*t*n,x=e*p*n,k=e*t*g,C=e*t*n,S=b*o[0]+y*r[0]+f*a[0]+v*l[0]+w*d[0]+x*h[0]+k*c[0]+C*u[0],T=b*o[1]+y*r[1]+f*a[1]+v*l[1]+w*d[1]+x*h[1]+k*c[1]+C*u[1],E=b*o[2]+y*r[2]+f*a[2]+v*l[2]+w*d[2]+x*h[2]+k*c[2]+C*u[2];return J.set(S,T,E,"gl").hex()}const re={RYB_TO_RGB:[[1,1,1],[.163,.373,.6],[1,1,0],[1,0,0],[0,.66,.2],[.5,0,.5],[1,.5,0],[0,0,0]],RGB_TO_RYB:[[1,1,1],[0,0,1],[0,1,.483],[1,0,0],[0,.053,.21],[.309,0,.469],[0,1,0],[0,0,0]]},ae={RYB:[16711680,16730368,16741376,16749056,16755200,16760576,16765696,16771072,16776960,13432320,10481152,6808320,52224,44900,39321,745892,1196203,1776563,3740847,5443501,7408042,10879142,13434996,14942277,16711680]},le=[0,1,2,3,5,6,7,8,9,10,11,13,14,15,16,17,18,19,19,20,21,21,22,23,23,24,25,25,26,27,27,28,28,29,29,30,30,31,31,32,32,32,33,33,34,34,35,35,35,36,36,37,37,37,38,38,38,39,39,40,40,40,41,41,41,42,42,42,43,43,43,44,44,44,45,45,45,46,46,46,47,47,47,47,48,48,48,49,49,49,50,50,50,51,51,51,52,52,52,53,53,53,54,54,54,55,55,55,56,56,56,57,57,57,58,58,59,59,59,60,60,61,61,62,63,63,64,65,65,66,67,68,68,69,70,70,71,72,72,73,73,74,75,75,76,77,77,78,79,79,80,81,82,82,83,84,85,86,87,88,88,89,90,91,92,93,95,96,98,100,102,104,105,107,109,111,113,115,116,118,120,122,125,127,129,131,134,136,138,141,143,145,147,150,152,154,156,158,159,161,163,165,166,168,170,171,173,175,177,178,180,182,184,185,187,189,191,192,194,196,198,199,201,203,205,206,207,208,209,210,212,213,214,215,216,217,218,219,220,221,222,223,224,226,227,228,229,230,232,233,234,235,236,238,239,240,241,242,243,244,245,246,247,248,249,250,251,251,252,253,254,255,256,257,257,258,259,260,260,261,262,263,264,264,265,266,267,268,268,269,270,271,272,273,274,274,275,276,277,278,279,280,282,283,284,286,287,289,290,292,293,294,296,297,299,300,302,303,305,307,309,310,312,314,316,317,319,321,323,324,326,327,328,329,330,331,332,333,334,336,337,338,339,340,341,342,343,344,345,347,348,349,350,352,353,354,355,356,358,359,999],de={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,transparent:0,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},he={black:0,charcoal:3556687,darkgreen:143392,darkpurple:3152180,jetblack:3421236,licorice:1774098,matteblack:2631723,midnightblue:1644912,onyx:3488053,aqua:65535,azure:15794175,babyblue:9031664,blue:255,bluegray:7574451,bluegreen:561039,brightblue:38655,cadetblue:6266528,cobaltblue:18347,cornflowerblue:6591981,cyan:65535,darkblue:139,denim:7311279,egyptianblue:1324196,electricblue:8255999,glaucous:6324918,jade:41836,indigo:4129023,iris:6111187,lightblue:11393254,midnightblue:1644912,navyblue:128,neonblue:2052607,pastelblue:10995687,periwinkle:13421823,powderblue:11981026,robineggblue:9887441,royalblue:4286945,sapphireblue:1004218,seafoamgreen:10478271,skyblue:8900331,steelblue:4620980,teal:32896,turquoise:4251856,ultramarine:276466,verdigris:4240813,zaffre:530600,almond:15392202,brass:14795118,bronze:13467442,brown:10824234,buff:14327917,burgundy:8388640,burntsienna:15299665,burntumber:7218702,camel:12687979,chestnut:9782581,chocolate:8077056,cinnamon:13794605,coffee:7294519,cognac:8602419,copper:12088115,cordovan:8470849,darkbrown:6045747,darkred:9109504,darktan:9995608,ecru:12759680,fallow:12687979,fawn:15051376,garnet:10103338,goldenbrown:9857305,khaki:15787660,lightbrown:12887172,mahogany:12599296,maroon:8388608,mocha:9861481,nude:15913661,ochre:13399842,olivegreen:8421376,oxblood:4850692,puce:11099240,redbrown:10824234,redochre:9517105,russet:8406555,saddlebrown:9127187,sand:12759680,sienna:10506797,tan:13808780,taupe:4734002,tuscanred:8138800,wheat:16113331,wine:7483191,ashgray:11714229,bluegray:7574451,charcoal:3556687,darkgray:11119017,glaucous:6324918,gray:8421504,gunmetalgray:8488329,lightgray:13882323,pewter:9016473,platinum:15066338,sagegreen:9083483,silver:12632256,slategray:7372944,smoke:8685700,steelgray:7436670,aqua:65535,aquamarine:8388564,armygreen:4541211,bluegreen:561039,brightgreen:11206400,cadetblue:6266528,cadmiumgreen:620905,celadon:11526575,chartreuse:14679808,citrine:14995466,cyan:65535,darkgreen:143392,electricblue:8255999,emeraldgreen:5294200,eucalyptus:6260085,ferngreen:5208386,forestgreen:2263842,grassgreen:8190976,green:32768,huntergreen:3497531,jade:41836,junglegreen:2796170,kellygreen:5028631,lightgreen:9498256,limegreen:3329330,lincolngreen:4687736,malachite:776785,mintgreen:10025880,mossgreen:9083483,neongreen:1048400,nyanza:15531996,olivegreen:8421376,pastelgreen:12706241,pear:13225023,peridot:11846692,pistachio:9684338,robineggblue:9887441,sagegreen:9083483,seagreen:3050327,seafoamgreen:10478271,shamrockgreen:40544,springgreen:65407,teal:32896,turquoise:4251856,vegasgold:12891220,verdigris:4240813,viridian:4227693,amber:16760576,apricot:16502449,bisque:15913661,brightorange:16755740,bronze:13467442,buff:14327917,burntorange:13391104,burntsienna:15299665,butterscotch:14915134,cadmiumorange:15895592,cinnamon:13794605,copper:12088115,coral:16744272,coralpink:16286585,darkorange:9125888,desert:16438693,gamboge:14981903,goldenyellow:16760832,goldenrod:14329120,lightorange:16766336,mahogany:12599296,mango:16038724,navajowhite:16768685,neonorange:16736031,ochre:13399842,orange:16753920,pastelorange:16435352,peach:16770484,persimmon:15489024,pinkorange:16291968,poppy:14897973,pumpkinorange:16741656,redorange:16729139,safetyorange:16736021,salmon:16416882,seashell:16774638,sienna:10506797,sunsetorange:16408405,tangerine:15761408,terracotta:14906206,yelloworange:16755251,amaranth:10431336,bisque:15913661,cerise:14561635,claret:8459057,coral:16744272,coralpink:16286585,crimson:14423100,darkpink:11154282,dustyrose:13216166,fuchsia:16711935,hotpink:16738740,lightpink:16758465,magenta:16711935,millennialpink:15978438,mulberry:7800631,neonpink:16716016,orchid:14315734,pastelpink:16304348,pastelred:16425120,pink:16761035,pinkorange:16291968,plum:6762823,puce:11099240,purple:8388736,raspberry:14879580,redpurple:9778515,rose:15940202,rosegold:14729144,rosered:12721750,rubyred:14684511,salmon:16416882,seashell:16774638,thistle:14204888,watermelonpink:14906243,amaranth:10431336,brightpurple:12533951,burgundy:8388640,byzantium:7350627,darkpink:11154282,darkpurple:3152180,eggplant:4731464,iris:6111187,lavender:15132410,lightpurple:13353955,lightviolet:13606911,lilac:11180201,mauve:14725375,mauvetaupe:9527149,mulberry:7800631,orchid:14315734,pastelpurple:12825057,periwinkle:13421823,plum:6762823,puce:11099240,purple:8388736,quartz:5325135,redpurple:9778515,thistle:14204888,tyrianpurple:6488880,violet:8323327,wine:7483191,wisteria:12432853,bloodred:8914952,brickred:11160132,brightred:15616811,brown:10824234,burgundy:8388640,burntumber:7218702,burntorange:13391104,burntsienna:15299665,byzantium:7350627,cadmiumred:13773611,cardinalred:12852794,carmine:14090304,cerise:14561635,cherry:13763629,chestnut:9782581,claret:8459057,coralpink:16286585,cordovan:8470849,crimson:14423100,darkred:9109504,falured:8067096,garnet:10103338,mahogany:12599296,maroon:8388608,marsala:9988200,mulberry:7800631,neonred:16724273,oxblood:4850692,pastelred:16425120,persimmon:15489024,poppy:14897973,puce:11099240,raspberry:14879580,red:16711680,redbrown:10824234,redochre:9517105,redorange:16729139,redpurple:9778515,rosered:12721750,rubyred:14684511,russet:8406555,salmon:16416882,scarlet:16720896,sunsetorange:16408405,terracotta:14906206,tuscanred:8138800,tyrianpurple:6488880,venetianred:10758660,vermillion:14893620,wine:7483191,alabaster:15592158,beige:16119260,bonewhite:16381678,cornsilk:16775388,cream:16776656,eggshell:15788758,ivory:16777200,linen:15326409,navajowhite:16768685,offwhite:16447990,parchment:16578021,peach:16770484,pearl:14868434,seashell:16774638,vanilla:15984043,white:16777215,almond:15392202,amber:16760576,apricot:16502449,beige:16119260,brass:14795118,brightyellow:16771584,cadmiumyellow:16636429,canaryyellow:16777103,chartreuse:14679808,citrine:14995466,cornsilk:16775388,cream:16776656,darkyellow:9142272,desert:16438693,ecru:12759680,flax:15654018,gamboge:14981903,gold:16766720,goldenyellow:16760832,goldenrod:14329120,icterine:16577887,ivory:16777200,jasmine:16309886,khaki:15787660,lemonyellow:16448051,maize:16510045,mango:16038724,mustardyellow:16767832,naplesyellow:16439902,navajowhite:16768685,nyanza:15531996,pastelyellow:16775840,peach:16770484,pear:13225023,peridot:11846692,pistachio:9684338,saffron:16041008,vanilla:15984043,vegasgold:12891220,wheat:16113331,yellow:16776960,yelloworange:16755251};class ce{constructor(e,t,n){this.set(e,t,n)}toString(){return`rgb(${Math.round(this.r)}, ${Math.round(this.g)}, ${Math.round(this.b)})`}set(e,t,n){this.r=this.clamp(e),this.g=this.clamp(t),this.b=this.clamp(n)}hueRotate(e=0){e=e/180*Math.PI;let t=Math.sin(e),n=Math.cos(e);this.multiply([.213+.787*n-.213*t,.715-.715*n-.715*t,.072-.072*n+.928*t,.213-.213*n+.143*t,.715+.285*n+.14*t,.072-.072*n-.283*t,.213-.213*n-.787*t,.715-.715*n+.715*t,.072+.928*n+.072*t])}grayscale(e=1){this.multiply([.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e)])}sepia(e=1){this.multiply([.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e)])}saturate(e=1){this.multiply([.213+.787*e,.715-.715*e,.072-.072*e,.213-.213*e,.715+.285*e,.072-.072*e,.213-.213*e,.715-.715*e,.072+.928*e])}multiply(e){let t=this.clamp(this.r*e[0]+this.g*e[1]+this.b*e[2]),n=this.clamp(this.r*e[3]+this.g*e[4]+this.b*e[5]),s=this.clamp(this.r*e[6]+this.g*e[7]+this.b*e[8]);this.r=t,this.g=n,this.b=s}brightness(e=1){this.linear(e)}contrast(e=1){this.linear(e,-.5*e+.5)}linear(e=1,t=0){this.r=this.clamp(this.r*e+255*t),this.g=this.clamp(this.g*e+255*t),this.b=this.clamp(this.b*e+255*t)}invert(e=1){this.r=this.clamp(255*(e+this.r/255*(1-2*e))),this.g=this.clamp(255*(e+this.g/255*(1-2*e))),this.b=this.clamp(255*(e+this.b/255*(1-2*e)))}hsl(){const e=this.r/255,t=this.g/255,n=this.b/255,s=Math.max(e,t,n),i=Math.min(e,t,n),o=s-i;let r,a,l=(s+i)/2;if(0===o)r=a=0;else{switch(a=l<=.5?o/(s+i):o/(2-s-i),s){case e:r=(t-n)/o+(t<n?6:0);break;case t:r=(n-e)/o+2;break;case n:r=(e-t)/o+4}r/=6}return{h:100*r,s:100*a,l:100*l}}clamp(e){return e>255?e=255:e<0&&(e=0),e}}const ue=new F,me=new class{constructor(){this.target=new ce(0,0,0),this.targetHSL={h:0,s:0,l:0},this.reusedColor=new ce(0,0,0)}setTarget(e,t,n){this.target.set(e,t,n),this.targetHSL=this.target.hsl(),this.reusedColor.set(0,0,0)}solve(e=!0){const t=this.solveNarrow(this.solveWide());return{values:t.values,loss:t.loss,filter:this.css(t.values,e)}}solveWide(){const e=[60,180,18e3,600,1.2,1.2];let t={loss:1/0};for(let n=0;t.loss>25&&n<3;n++){const n=[50,20,3750,50,100,100],s=this.spsa(5,e,15,n,1e3);s.loss<t.loss&&(t=s)}return t}solveNarrow(e){const t=e.loss,n=t+1,s=[.25*n,.25*n,n,.25*n,.2*n,.2*n];return this.spsa(t,s,2,e.values,500)}spsa(e,t,n,s,i){let o=null,r=1/0;const a=new Array(6),l=new Array(6),d=new Array(6);for(let c=0;c<i;c++){const i=n/Math.pow(c+1,.16666666666666666);for(let e=0;e<6;e++)a[e]=Math.random()>.5?1:-1,l[e]=s[e]+i*a[e],d[e]=s[e]-i*a[e];const u=this.loss(l)-this.loss(d);for(let n=0;n<6;n++){const o=u/(2*i)*a[n],r=t[n]/Math.pow(e+c+1,1);s[n]=h(s[n]-r*o,n)}const m=this.loss(s);m<r&&(o=s.slice(0),r=m)}return{values:o,loss:r};function h(e,t){let n=100;return 2===t?n=7500:4!==t&&5!==t||(n=200),3===t?e>n?e%=n:e<0&&(e=n+e%n):e<0?e=0:e>n&&(e=n),e}}loss(e){const t=this.reusedColor;t.set(0,0,0),t.invert(e[0]/100),t.sepia(e[1]/100),t.saturate(e[2]/100),t.hueRotate(3.6*e[3]),t.brightness(e[4]/100),t.contrast(e[5]/100);const n=t.hsl();return Math.abs(t.r-this.target.r)+Math.abs(t.g-this.target.g)+Math.abs(t.b-this.target.b)+Math.abs(n.h-this.targetHSL.h)+Math.abs(n.s-this.targetHSL.s)+Math.abs(n.l-this.targetHSL.l)}css(e,t=!0){function n(t,n=1){return Math.round(e[t]*n)}return`${t?"brightness(0) saturate(100%)":""} invert(${n(0)}%) sepia(${n(1)}%) saturate(${n(2)}%) hue-rotate(${n(3,3.6)}deg) brightness(${n(4)}%) contrast(${n(5)}%)`}};class pe{static fromColor(...e){ue.set(...e),me.setTarget(ue.red(),ue.green(),ue.blue());return me.solve(!0).filter}}const ge=new F,be=new F,ye=new F,fe=new F,ve=new F,we=new F,xe=new F,ke=new F,Ce=new F,Se=new F,Te=new F;let Ee=p.DARK,Ie=46255,Le=0,Me=0;class ze{static changeBackground(e){null!=e&&(Ee=e,ze.updateCSS())}static changeColor(e,t,n){null!=e&&(Ie=ge.set(e).hex(),Le=void 0!==t?t:Le,Me=void 0!==n?n:Me,be.set(e),ye.copy(be).brighten(),fe.copy(be).darken(),ve.copy(be).rybRotateHue(180).brighten(.2),we.copy(be).rybRotateHue(120).brighten(.2),xe.copy(ve).rybRotateHue(120).brighten(.2),ke.copy(be).rybRotateHue(90).brighten(.2),Ce.copy(ve).rybRotateHue(90).brighten(.2),Se.copy(be).rybRotateHue(60).brighten(.2),Te.copy(ve).rybRotateHue(60).brighten(.2),ze.updateCSS())}static updateCSS(){for(const e in b){const t=b[e];z.setVariable(`--${t}`,ge.set(ze.color(t)).rgbString())}z.setVariable("--tint-icon",pe.fromColor(ze.color(b.ICON))),z.setVariable("--tint-complement",pe.fromColor(ze.color(b.COMPLEMENT))),z.setVariable("--tint-triadic1",pe.fromColor(ze.color(b.TRIADIC1))),z.setVariable("--tint-triadic2",pe.fromColor(ze.color(b.TRIADIC2))),z.setVariable("--tint-triadic3",pe.fromColor(ze.color(b.TRIADIC3))),z.setVariable("--tint-triadic4",pe.fromColor(ze.color(b.TRIADIC4))),z.setVariable("--tint-triadic5",pe.fromColor(ze.color(b.TRIADIC5))),z.setVariable("--tint-triadic6",pe.fromColor(ze.color(b.TRIADIC6))),z.setVariable("--tint-text",pe.fromColor(ze.color(b.TEXT))),z.setVariable("--bright",Ee==p.LIGHT?"0":"1");const e=ge.set(46255).hue(),t=ge.set(ze.color(b.ICON,!0)).hue()-e+"deg";z.setVariable("--rotate-hue",t)}static toString(){let e="";for(const t in b){const n=b[t];ge.set(ze.color(n)),e+=`${n}`.padEnd(20," "),e+=`${ge.rgbString()}`.padEnd(20," "),e+=`${ge.hexString()}\n`}return e}static color(e,t=!1){if(ge.set(0),null==e)return ge.hex();if(!1===Object.values(b).includes(e))return ge.set(e).hex();let n=Le,s=Me,i=0;switch(Ee){case p.DARK:break;case p.MID:n*=.2,i=.2;break;case p.LIGHT:break;case p.FADED:n*=.1,i=.4}if(Ee==p.LIGHT)switch(e){case b.SHADOW:ge.set(140,140,140,"rgb");break;case b.BACKGROUND_DARK:ge.set(180,180,180,"rgb");break;case b.BACKGROUND_LIGHT:ge.set(190,190,190,"rgb");break;case b.BUTTON_DARK:ge.set(200,200,200,"rgb");break;case b.BUTTON_LIGHT:ge.set(210,210,210,"rgb");break;case b.TEXT_DARK:ge.set(80,80,80,"rgb");break;case b.TEXT:ge.set(50,50,50,"rgb");break;case b.TEXT_LIGHT:ge.set(25,25,25,"rgb");break;case b.BLACKLIGHT:ge.set(255,255,255,"rgb");break;case b.DARKLIGHT:ge.set(200,200,200,"rgb");break;case b.MIDLIGHT:ge.set(220,220,220,"rgb");break;case b.HIGHLIGHT:ge.set(0,0,0,"rgb")}else{switch(e){case b.SHADOW:ge.set(0,0,0,"rgb"),n=0;break;case b.BACKGROUND_DARK:ge.set(24,24,24,"rgb");break;case b.BACKGROUND_LIGHT:ge.set(32,32,32,"rgb");break;case b.BUTTON_DARK:ge.set(40,40,40,"rgb");break;case b.BUTTON_LIGHT:ge.set(60,60,60,"rgb");break;case b.TEXT_DARK:ge.set(100,100,100,"rgb");break;case b.TEXT:ge.set(190,190,190,"rgb");break;case b.TEXT_LIGHT:ge.set(225,225,225,"rgb");break;case b.BLACKLIGHT:ge.set(0,0,0,"rgb"),i=0;break;case b.DARKLIGHT:ge.set(8,8,8,"rgb"),i=0;break;case b.MIDLIGHT:ge.set(85,85,85,"rgb");break;case b.HIGHLIGHT:ge.set(255,255,255,"rgb")}Ee==p.MID&&e==b.DARKLIGHT&&ge.set(64,64,64,"rgb")}if(e===b.DARKNESS)switch(Ee){case p.DARK:ge.set(0,0,0,"rgb");break;case p.MID:ge.set(64,64,64,"rgb");break;case p.LIGHT:ge.set(128,128,128,"rgb");break;case p.FADED:ge.set(0,0,0,"rgb")}switch(e){case b.ICON_DARK:ge.copy(fe);break;case b.ICON:ge.copy(be);break;case b.ICON_LIGHT:ge.copy(ye);break;case b.COMPLEMENT:ge.copy(ve);break;case b.TRIADIC1:ge.copy(we);break;case b.TRIADIC2:ge.copy(xe);break;case b.TRIADIC3:ge.copy(ke);break;case b.TRIADIC4:ge.copy(Ce);break;case b.TRIADIC5:ge.copy(Se);break;case b.TRIADIC6:ge.copy(Te)}switch(e){case b.COMPLEMENT:case b.TRIADIC1:case b.TRIADIC2:case b.TRIADIC3:case b.TRIADIC4:case b.TRIADIC5:case b.TRIADIC6:s=0;case b.ICON_DARK:case b.ICON:case b.ICON_LIGHT:n=0,i=0}return 0!==n&&ge.mix(be,n),0!==i&&ge.brighten(i),0===s||t||ge.hslOffset(0,s,0),ge.hex()}}ze.changeColor(g.CLASSIC,0,0);class Re{static findElementAt(e,t,n){const s=document.elementsFromPoint(t,n);for(const t of s)if(t.classList.contains(e))return t.suey??t;return null}static childWithClass(e,t,n=!0){e.isElement&&e.dom&&(e=e.dom);const s=[e];for(;s.length>0;){const e=s.shift();for(const i of e.children){if(i.classList.contains(t))return i.suey??i;n&&s.push(i)}}return null}static childrenWithClass(e,t,n=!0,s=!0){e.isElement&&e.dom&&(e=e.dom);const i=[],o=[e];for(;o.length>0;){const e=o.shift();for(const r of e.children)r.classList.contains(t)?(i.push(r.suey??r),n&&s&&o.push(r)):n&&o.push(r)}return i}static isChildOf(e,t){e.isElement&&e.dom&&(e=e.dom),t.isElement&&t.dom&&(t=t.dom);let n=e.parentElement;for(;n;){if(n.isSameNode(t))return!0;n=n.parentElement}return!1}static isChildOfElementWithClass(e,t){e.isElement&&e.dom&&(e=e.dom);let n=e.parentElement;for(;n;){if(n.classList.contains(t))return!0;n=n.parentElement}return!1}static parentElementWithClass(e,t){e.isElement&&e.dom&&(e=e.dom);let n=e.parentElement;for(;n;){if(n.classList.contains(t))return n.suey??n;n=n.parentElement}return null}static traverse(e,t=(()=>{}),n=!0){e.isElement&&e.dom&&(e=e.dom),n&&t(e);for(let n=0;n<e.children.length;n++)Re.traverse(e.children[n],t,!0)}static parentScroller(e){return e?(e.isElement&&e.dom&&(e=e.dom),e.scrollHeight>e.clientHeight?e:Re.parentScroller(e.parentElement)):null}static scrollIntoView(e){const t=Re.parentScroller(e);if(t){const n=parseInt(z.toPx("0.2em"));e.offsetTop-t.offsetTop-n<t.scrollTop?t.scrollTop=e.offsetTop-t.offsetTop-n:e.offsetTop>t.scrollTop+t.clientHeight+n-t.offsetTop&&(t.scrollTop=e.offsetTop-t.clientHeight+e.offsetHeight+n-t.offsetTop)}}}class Pe{active=!0;params=null;onceOnly=!1;constructor(e,t,n,s=0){this.listener=t,this.onceOnly=n,this.signal=e,this.priority=s}execute(e){let t,n;return this.active&&this.listener&&(n=this.params?this.params.concat(e):e,t=this.listener.apply(null,n),this.onceOnly&&this.detach()),t}detach(){return this.isBound()?this.signal.remove(this.listener):null}isBound(){return!!this.signal&&!!this.listener}isOnce(){return this.onceOnly}getListener(){return this.listener}getSignal(){return this.signal}destroy(){delete this.signal,delete this.listener}toString(){return"[SignalBinding onceOnly:"+this.onceOnly+", isBound:"+this.isBound()+", active:"+this.active+"]"}}const De=[],Ae={};let Fe=0;class Ne{VERSION="1.0.2";active=!0;memorize=!1;shouldPropagate=!0;static disableSignals(){if(0===De.length){for(const e in Ae)Ae.hasOwnProperty(e)&&delete Ae[e];Fe=0}De.push("false")}static enableSignals(){return De.pop(),De.length>0?{}:Object.fromEntries(Object.entries(Ae).sort((([,e],[,t])=>e.time-t.time)))}constructor(e){this._bindings=[],this._prevParams=null,this.moniker=e}#e(e,t,n){let s,i=this.#t(e);if(-1!==i){if(s=this._bindings[i],s.isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first")}else{s=new Pe(this,e,t,n);let i=this._bindings.length;do{--i}while(this._bindings[i]&&s.priority<=this._bindings[i].priority);this._bindings.splice(i+1,0,s)}return this.memorize&&this._prevParams&&s.execute(this._prevParams),s}#t(e){let t,n=this._bindings.length;for(;n--;)if(t=this._bindings[n],t.listener===e)return n;return-1}has(e){return-1!==this.#t(e)}add(e,t){return Be(e,"add"),this.#e(e,!1,t)}addOnce(e,t){return Be(e,"addOnce"),this.#e(e,!0,t)}remove(e){Be(e,"remove");const t=this.#t(e);return-1!==t&&(this._bindings[t].destroy(),this._bindings.splice(t,1)),e}removeAll(){let e=this._bindings.length;for(;e--;)this._bindings[e].destroy();this._bindings.length=0}getNumListeners(){return this._bindings.length}halt(){this.shouldPropagate=!1}dispatch(){if(!this.active)return;if(De.length>0)return this.moniker in Ae||(Ae[this.moniker]={time:0,args:[]}),Ae[this.moniker].args.push([...arguments]),void(Ae[this.moniker].time=Fe++);let e=[...arguments],t=this._bindings.length;if(this.memorize&&(this._prevParams=e),!t)return;const n=[...this._bindings];this.shouldPropagate=!0;do{t--}while(n[t]&&this.shouldPropagate&&!1!==n[t].execute(e))}forget(){this._prevParams=null}dispose(){this.removeAll(),delete this._bindings,delete this._prevParams}toString(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}}function Be(e,t){if("function"!=typeof e)throw new Error(`'listener' is a required param of ${t}() and should be a Function!`)}class Oe{constructor(e){null==e&&(console.trace("Element.constructor: No HTMLElement provided!"),e=document.createElement("div")),this.isElement=!0;let t=e,n=this;this.parent=void 0,this.children=[],this.slots=[],this.contents=function(){return n},Object.defineProperties(this,{dom:{get:function(){return t},set:function(e){t=e}},id:{configurable:!0,get:function(){return t.id},set:function(e){t.id=e}},name:{get:function(){return t.name??"???"},set:function(e){t.name=String(e)}}}),Object.defineProperties(t,{suey:{get:function(){return n}}}),this.on("destroy",(function(){for(const e of n.slots)"function"==typeof e.detach&&e.detach(),"function"==typeof e.destroy&&e.destroy();n.slots.length=0}))}setID(e){return this.id=e,this}addSlot(e){e instanceof Pe?this.slots.push(e):console.warn(`Element.addSlot(): ID: '${this.id}' / NAME: '${this.name}' failed to add slot`,e)}add(...e){for(const t of e)He(this.contents(),t);return this}addToSelf(...e){for(const t of e)He(this,t);return this}clearContents(){return Ve(this.contents(),!1),this}destroy(){return Ve(this,!0),this}detach(...e){const t=[];for(const n of e){let e=We(this.contents(),n,!1);e||(e=We(this,n,!1)),t.push(e)}if(0!==t.length)return 1===t.length?t[0]:t}remove(...e){const t=[];for(const n of e){let e=We(this.contents(),n,!0);e||(e=We(this,n,!0)),t.push(e)}if(0!==t.length)return 1===t.length?t[0]:t}removeSelf(){this.destroy();return We(this.parent??this.dom?.parentElement,this,!1),this}setClass(...e){return this.dom.className="",this.addClass(...e)}addClass(...e){for(const t of e)t&&"string"==typeof t&&""!=t&&this.dom.classList.add(t);return this}hasClass(e){return this.dom.classList.contains(e)}hasClassWithString(e){e=String(e).toLowerCase();const t=[...this.dom.classList];for(let n=0;n<t.length;n++){if(t[n].toLowerCase().includes(e))return!0}return!1}removeClass(...e){for(const t of e)this.dom.classList.remove(t);return this}toggleClass(e){return null!=e&&"string"==typeof e&&""!==e&&(this.hasClass(e)?this.removeClass(e):this.addClass(e)),this}wantsClass(e,t=!0){return e&&""!=e&&(t?this.addClass(e):this.removeClass(e)),this}setAttribute(e,t){this.dom.setAttribute(e,t)}setDisabled(e=!0){return e?this.addClass("suey-disabled"):this.removeClass("suey-disabled"),this.dom.disabled=e,this}selectable(e){return e?this.removeClass("suey-unselectable"):this.addClass("suey-unselectable"),this}hide(e=!0){this.isHidden()||(e&&this.dom.dispatchEvent(new Event("hidden")),this.addClass("suey-hidden"),this.setStyle("display","none"))}display(e=!0){this.isDisplayed()&&!1===this.hasClass("suey-hidden")||(this.removeClass("suey-hidden"),this.setStyle("display",""),e&&this.dom.dispatchEvent(new Event("displayed")))}isDisplayed(){return"none"!=getComputedStyle(this.dom).display}isHidden(){return"none"==getComputedStyle(this.dom).display}allowFocus(){this.dom.tabIndex=0}allowMouseFocus(){this.dom.tabIndex=-1}focus(){this.dom.focus()}blur(){this.dom.blur()}setTextContent(e){return null!=e&&(this.contents().dom.textContent=e),this}getTextContent(){return this.contents().dom.textContent}setInnerText(e){return null!=e&&(this.contents().dom.innerText=e),this}getInnerText(){return this.contents().dom.innerText}setInnerHtml(e){return null==e&&(e=""),"function"==typeof this.contents().dom.setHTML?this.contents().dom.setHTML(e):this.contents().dom.innerHTML=e,this}getInnerHtml(){return this.contents().dom.innerHTML}setStyle(){for(let e=0,t=arguments.length;e<t;e+=2){const t=arguments[e],n=arguments[e+1];this.dom.style[t]=n}return this}setContentsStyle(){for(let e=0,t=arguments.length;e<t;e+=2){const t=arguments[e],n=arguments[e+1];this.contents().dom.style[t]=n}return this}setColor(){return console.error(`${this.constructor.name}.setColor(): Method must be reimplemented from Element`),this}getLeft(){return this.dom.getBoundingClientRect().left}getTop(){return this.dom.getBoundingClientRect().top}getWidth(){return this.dom.getBoundingClientRect().width}getHeight(){return this.dom.getBoundingClientRect().height}getRelativePosition(){const e=this.dom.getBoundingClientRect();let t=this.dom.offsetParent;for(;t&&"static"===getComputedStyle(t).position;)t=t.offsetParent;if(!t)return{left:e.left,top:e.top};const n=t.getBoundingClientRect();return{left:e.left-n.left,top:e.top-n.top}}traverse(e,t=!0){if(t&&e(this),this.children)for(const t of this.children)t.traverse(e,!0)}traverseAncestors(e,t=!0){t&&e(this),this.parent&&this.parent.traverseAncestors(e,!0)}on(e,t,n=!1){if("function"!=typeof t)console.warn(`Element.on(): No callback function provided for '${e}'`);else{const s=e.toLowerCase(),i=t.bind(this),o=this.dom;n||"destroy"===s?o.addEventListener(s,i,{once:!0}):(o.addEventListener(s,i),o.addEventListener("destroy",(()=>o.removeEventListener(s,i)),{once:!0}))}return this}}function He(e,t){if(!e||!t)return;if(t.isElement){if(e.isElement&&t.parent===e)return;t.parent&&t.parent.isElement&&We(t.parent,t,!1)}const n=e.isElement?e.dom:e,s=t.isElement?t.dom:t;try{n&&n.appendChild(s)}catch(e){}if(t.isElement){let n=!1;for(const s of e.children)if(s.dom.isSameNode(t.dom)){n=!0;break}n||e.children.push(t),t.parent=e}s instanceof HTMLElement&&s.dispatchEvent(new Event("parent-changed"))}function Ve(e,t=!0){if(!e)return;const n=e.isElement?e.dom:e;if(n instanceof HTMLElement){t&&(n.wasDestroyed||(n.dispatchEvent(new Event("destroy")),n.wasDestroyed=!0));for(let e=n.children.length-1;e>=0;e--){const t=n.children[e];Ve(t,!0);try{n.removeChild(t)}catch(e){}}n.suey&&n.suey.isElement&&(n.suey.children.length=0)}}function We(e,t,n=!0){if(e&&t){if(n&&Ve(t,!0),t.isElement&&e.isElement)for(let n=0;n<e.children.length;n++){e.children[n].dom.isSameNode(t.dom)&&(e.children.splice(n,1),t.parent=void 0)}try{if(e.isElement&&(e=e.dom),e instanceof HTMLElement){const n=e.removeChild(t.isElement?t.dom:t);return n&&n.suey?n.suey:n}}catch(e){}}}const $e=new F;class Ge extends Oe{constructor(e=" ",t=!0){super(document.createElement("button"));const n=this;this.setClass("suey-button"),this.allowMouseFocus(),this.dom.textContent=e??" ",this.attachedMenu=void 0,this.menuOffsetX=0,this.menuOffsetY=0,this.alignMenu=R.LEFT,this.overflowMenu=P.RIGHT,this.closesMenus=t,Object.defineProperty(this,"disabled",{get:function(){return!this.dom||this.dom.disabled},set:function(e){this.dom&&(this.dom.disabled=e)}}),this.on("pointerdown",(function(e){const t=new Event("hidetooltip",{bubbles:!0});n.dom.dispatchEvent(t),e.preventDefault()})),this.on("destroy",(()=>{n.attachedMenu&&n.detachMenu()}))}setColor(e){return e="string"==typeof e&&Object.values(b).includes(e)?`var(--${e})`:$e.set(e).rgbString(),this.setStyle("background-image",`linear-gradient(to bottom, rgba(${e}, 0.9), rgba(${e}, 0.65))`),this}attachMenu(e,t=!1){const n=this;function s(t){t.stopPropagation(),t.preventDefault(),!1===n.hasClass("suey-selected")&&(n.addClass("suey-selected"),i(),setTimeout((()=>{n.dom&&e.showMenu(n.dom,!0)}),0)),document.dispatchEvent(new Event("closemenu"))}function i(){const t=A.popUnder(e.dom,n.dom,n.alignMenu,n.menuOffsetX,n.menuOffsetY,n.overflowMenu);e.removeClass("suey-slide-up"),e.removeClass("suey-slide-down"),e.addClass(t===D.UNDER?"suey-slide-down":"suey-slide-up")}if(t&&e.addClass("suey-popup-menu"),!1===e.hasClass("suey-menu"))return this;this.addClass("suey-menu-button"),this.attachedMenu=e,document.body.appendChild(e.dom),this.on("pointerdown",s);new MutationObserver(((e,t)=>{document.contains(this.dom)&&(i(),t.disconnect())})).observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),window.addEventListener("resize",i),this.detachMenu=function(){!1!==n.hasClass("suey-menu-button")&&(n.removeClass("suey-menu-button"),window.removeEventListener("resize",i),n.dom.removeEventListener("pointerdown",s),n.attachedMenu.destroy(),document.body.removeChild(n.attachedMenu.dom),n.attachedMenu=void 0)}}on(e,t,n=!1){return"click"!==e&&"select"!==e||console.warn("Button.on(): Click event for this Element is meant to be used with onPress()"),super.on(e,t,n),this}onPress(e){if("function"!=typeof e)return;const t=this;e=e.bind(t);return super.on("click",(function(n){n.preventDefault(),n.stopPropagation(),t.hasClass("suey-disabled")||(e(n),t.closesMenus&&document.dispatchEvent(new Event("closemenu")))})),t}}class Ue extends Oe{constructor(e){super(document.createElement("div")),this.setInnerHtml(e)}}class _e extends Oe{constructor(e,t=null,n=null,s=!1){const i=document.createElement("img");i.onerror=()=>i.style.visibility="hidden",s||(i.ondragstart=()=>!1),null!=t&&(i.style.width=z.parseSize(t)),null!=n&&(i.style.height=z.parseSize(n)),super(i),this.setClass("suey-image"),this.setImage(e)}setImage(e){if("string"==typeof e&&e.toLowerCase().includes("<svg")){const t=new Blob([e],{type:"image/svg+xml"}),n=URL.createObjectURL(t);this.dom.src=n,this.dom.addEventListener("load",(()=>URL.revokeObjectURL(n)),{once:!0})}else this.dom.src=e;return this}setColor(e){return"string"==typeof e&&Object.values(b).includes(e)?this.setStyle("filter",`var(--tint-${e})`):this.setStyle("filter",pe.fromColor(e)),this}}class Ye extends Ue{constructor(){if(super(),this.setClass("suey-vector-box"),this.img=void 0,0===arguments.length)return this.addImage(s);const e=Array.isArray(arguments[0])?arguments[0]:[...arguments];for(const t of e)this.addImage(t)}setColor(e){return this.firstImage()?.setColor(e),this}firstImage(){for(const e of this.contents().children)if(e&&e.isElement&&e.hasClass("suey-image"))return e}addImage(e=s){const t=new _e(e,"100%","100%",!1);return this.img||(this.img=t),this.add(t),this}enableDragging(){this.dom&&(this.dom.draggable=!0);for(const e of this.contents().children)e.isElement&&e.dom&&(e.dom.ondragstart=()=>{});return this}setImage(e){return this.img.setImage(e)}}class Ke extends Ue{constructor(){if(super(),this.setClass("suey-shadow-box"),this.addClass("suey-drop-shadow"),0===arguments.length)return;const e=Array.isArray(arguments[0])?arguments[0]:[...arguments];for(const t of e)this.add(t&&t.isElement?t:new Ye(t))}setColor(e){return this.firstImage()?.setColor(e),this}firstImage(){for(const e of this.contents().children)if(e&&e.isElement){if(e.hasClass("suey-image"))return e;if(e.hasClass("suey-vector-box"))return e.firstImage()}}fullSize(){return this.addClass("suey-full-size"),this}dropShadow(){return this.addClass("suey-drop-shadow"),this.removeClass("suey-even-shadow"),this}evenShadow(){return this.removeClass("suey-drop-shadow"),this.addClass("suey-even-shadow"),this}noShadow(){return this.removeClass("suey-drop-shadow"),this.removeClass("suey-even-shadow"),this}}class je{static addCloseButton(e,t=v.BOTH,n=0,s=1.3){je.addCornerButton(w.CLOSE,e,t,n,s)}static addMaxButton(e,t=v.BOTH,n=0,s=1.3){je.addCornerButton(w.MAX,e,t,n,s)}static addCornerButton(e=w.CLOSE,t,s,o=0,r=1.3){if(!t||!t.isElement)return void console.warn("Interaction.addCornerButton: Missing element argument");const a=new Ge;let l,d,h;switch(a.setClass("suey-corner-button"),a.addClass("suey-panel-button"),e){case w.CLOSE:a.setStyle("background-color","#e24c4b"),l=n,d="Close Panel",h=0;break;case w.MAX:a.setStyle("background-color","#2bc840"),l=i,d="Toggle Panel",h=1.2}const c=new Ke(l).evenShadow().fullSize().addClass("suey-corner-image");a.add(c),a.setAttribute("tooltip",d),a.setStyle("min-height",`${r}em`,"min-width",`${r}em`);const u=`${.8-(r+.28571)/2+o+h*r}em`;if(a.setStyle("top",.8-(r+.28571)/2+"em"),a.setStyle(s===v.LEFT?"left":"right",u),s===v.BOTH){let e=v.RIGHT;t.on("pointermove",(function(n){const s=t.dom.getBoundingClientRect(),i=s.left+s.width/2,o=n.pageX;let r=v.NONE;o>i&&e!==v.RIGHT?r=v.RIGHT:o<i&&e!==v.LEFT&&(r=v.LEFT),r!==v.NONE&&(a.addClass("suey-item-hidden"),setTimeout((()=>{a.dom.style.removeProperty("left"),a.dom.style.removeProperty("right"),a.setStyle(r,u),a.removeClass("suey-item-hidden")}),100),e=r)}))}switch(e){case w.CLOSE:a.onPress((()=>{t.hasClass("suey-dock")&&t.tabCount()>0?t.removeFloater(t.selectedID,!0):t.removeSelf()}));break;case w.MAX:a.onPress((()=>{"function"==typeof t.toggleMinMax&&t.toggleMinMax()}))}t.on("pointerenter",(()=>a.addClass("suey-item-shown"))),t.on("pointerleave",(()=>a.removeClass("suey-item-shown"))),t.addToSelf(a)}static makeDraggable(e,t=e,n=!1,s,i,o){const r=e&&e.isElement?e.dom:e,a=t&&t.isElement?t.dom:t;let l,d,h,c,u={},m={},p=0,g=!1;function b(t,n=25){return e.snapToGrid?Math.round(t/n)*n:t}function y(e){if(0!==e.button)return;e.stopPropagation(),e.preventDefault(),r.focus(),r.setPointerCapture(e.pointerId),p=0,l=e.pageX,d=e.pageY,h=e.pageX,c=e.pageY;const t=getComputedStyle(a);m.left=u.left=parseFloat(t.left),m.top=u.top=parseFloat(t.top),m.width=u.width=parseFloat(t.width),m.height=u.height=parseFloat(t.height),document.addEventListener("pointermove",f),document.addEventListener("pointerup",v),document.dispatchEvent(new Event("closemenu")),g=!1,"function"==typeof s&&s()}function f(s){s.stopPropagation(),s.preventDefault(),s.isTrusted&&(h=s.pageX,c=s.pageY);const o=getComputedStyle(a);u.width=parseFloat(o.width),u.height=parseFloat(o.height);const y=(m.width-u.width)/2;if(p=Math.max(p,Math.abs(l-h)),p=Math.max(p,Math.abs(d-c)),!g&&p<2)return;g=!0,r.style.cursor="move";const f=e&&e.getScale?e.getScale():1,v=(h-l+y)*(1/f),w=1/f*(c-d+0);let x=b(u.left+v),k=b(u.top+w);if(n){const e=parseInt(z.toPx("3em"));x=Math.min(window.innerWidth-u.width/2,x),k=Math.min(window.innerHeight-e,k),x=Math.max(-u.width/2,x),k=Math.max(0,k)}if(a.suey?a.suey.setStyle("left",`${x}px`,"top",`${k}px`):(a.style.left=`${x}px`,a.style.top=`${k}px`),t.isWindow){const e=t.dom.parentElement.getBoundingClientRect();s.clientX<e.left+50?t.dockLeft():s.clientX>e.right-50?t.dockRight():s.clientY<e.top?t.dockTop():s.clientY>e.bottom-50?t.dockBottom():t.undock()}"function"==typeof i&&i(v,w)}function v(e){e.stopPropagation(),e.preventDefault(),r.releasePointerCapture(e.pointerId),document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",v),r.style.cursor="inherit","function"==typeof o&&o()}r.addEventListener("pointerdown",y),r.addEventListener("destroy",(()=>{r.removeEventListener("pointerdown",y)}),{once:!0})}static makeResizeable(e,t,n,s){if(!e||!e.isElement)return console.warning("Interaction.makeResizeable(): AddToElement not defined");function i(e){const i=(new Ue).addClass("suey-resizer",e);let o,r,a,l,d=!1;function h(e){e.stopPropagation(),e.preventDefault(),i.dom.releasePointerCapture(e.pointerId),d=!1,document.removeEventListener("pointerup",h),"function"==typeof s&&s()}return i.on("pointerdown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),i.dom.setPointerCapture(e.pointerId),d=!0,o=e.pageX,r=e.pageY,a=e.pageX,l=e.pageY,document.addEventListener("pointerup",h),document.dispatchEvent(new Event("closemenu")),"function"==typeof t&&t())})),i.on("pointermove",(function(e){if(!d)return;e.stopPropagation(),e.preventDefault(),e.isTrusted&&(a=e.pageX,l=e.pageY),"function"==typeof n&&n(i,a-o,l-r)})),i}return e.addResizers=function(t=[]){!t.includes(k.TOP_LEFT)&&t.includes(k.LEFT)&&t.includes(k.TOP)&&t.push(k.TOP_LEFT),!t.includes(k.TOP_RIGHT)&&t.includes(k.RIGHT)&&t.includes(k.TOP)&&t.push(k.TOP_RIGHT),!t.includes(k.BOTTOM_LEFT)&&t.includes(k.LEFT)&&t.includes(k.BOTTOM)&&t.push(k.BOTTOM_LEFT),!t.includes(k.BOTTOM_RIGHT)&&t.includes(k.RIGHT)&&t.includes(k.BOTTOM)&&t.push(k.BOTTOM_RIGHT);for(const n in k){const s=k[n];if("all"===t||Array.isArray(t)&&t.includes(s)){const t=`suey-resizer-${s}`;e.children.find((e=>e.hasClass(t)))||e.addToSelf(i(t))}}},e.clearResizers=function(){const t=[];for(const n of e.children)n.hasClass("suey-resizer")&&t.push(n);e.remove(...t)},e}}class Xe{static addSpaces(e){return"string"!=typeof e&&(e=String(e)),(e=(e=e.replace(/([a-z])([A-Z])/g,"$1 $2")).replace(/([A-Z])([A-Z][a-z])/g,"$1 $2")).trim()}static capitalize(e){const t=String(e).split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substring(1);return t.join(" ")}static countDigits(e){return parseFloat(e).toString().length}static escapeHTML(e){return null==e?e:e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}static nameFromUrl(e,t=!0){let n=new String(e.replace(/^.*[\\\/]/,""));return n=n.replace(/\.[^/.]+$/,""),t&&(n=Xe.capitalize(n)),n}static prettyTitle(e){return Xe.addSpaces(Xe.capitalize(e))}}const qe=1,Ze=2;let Qe;const Je=new class{constructor(){const e=(new Ue).setClass("suey-tooltip");e.setInnerHtml(""),document.body.appendChild(e.dom);let t=qe;function n(t){if(t){const e=t.target;if(!(e&&e instanceof HTMLElement))return;if(!e.getAttribute("tooltip"))return}clearTimeout(Qe),e.removeClass("suey-updated")}document.addEventListener("touchstart",(()=>t=Ze),{capture:!0,passive:!0}),document.addEventListener("mousemove",(()=>t=qe),{capture:!0,passive:!0}),document.addEventListener("mouseenter",(function(n){const s=n.target;if(!(s&&s instanceof HTMLElement))return;if(!s.getAttribute("tooltip"))return;if(n instanceof FocusEvent&&t!==qe)return;if("TouchEvent"in window&&n instanceof TouchEvent)return;let i=s.getAttribute("tooltip");if(!i.length)return;clearTimeout(Qe),e.removeClass("suey-updated"),Qe=setTimeout((()=>{e.setInnerHtml(i),A.popUnder(e.dom,s,R.CENTER,null,m),e.addClass("suey-updated")}),parseInt(z.getVariable("--tooltip-delay")))}),{capture:!0,passive:!0}),document.addEventListener("mouseleave",n,{capture:!0,passive:!0}),document.addEventListener("dragleave",n,{capture:!0,passive:!0}),document.addEventListener("blur",n,{capture:!0,passive:!0}),document.addEventListener("hidetooltip",(()=>{n()}),{capture:!0,passive:!0})}};class et extends Oe{constructor(e){super(document.createElement("span")),this.setInnerHtml(e)}}class tt extends et{constructor(){super(),this.addClass("suey-flex-spacer"),this.setStyle("flex","1 1 auto"),this.setStyle("minHeight","0.01em")}}class nt extends Ue{constructor(){super(),this.addClass("suey-row")}}class st extends et{constructor(e){super(e),this.setClass("suey-text"),this.setStyle("cursor","default")}}class it extends Ue{constructor(e="50%",t=f.TABS){super(),this.addClass("suey-property-list"),this.setStyle("display","block"),this.leftPropertyWidth=e,this.leftPropertySpacing=t}setLeftPropertyWidth(e="50%"){return this.leftPropertyWidth=e,this}#n(){let e=this.leftPropertyWidth??"50%";return"string"==typeof this.leftPropertyWidth?e=parseInt(this.leftPropertyWidth):"number"==typeof this.leftPropertyWidth&&(e=100*parseFloat(this.leftPropertyWidth)),!Number.isNaN(e)&&Number.isFinite(e)||(e=50),e=Math.max(e,0),e=Math.min(e,100),e}#s(){return`${this.#n()}%`}#i(){return 100-this.#n()+"%"}addHeader(e="",t){const n=this.createHeader(e,t);return this.add(n),n}addRow(e="",...t){const n=this.createRow(e,...t);return this.add(n),n}addRowWithoutTitle(...e){const t=this.createRowWithoutTitle(...e);return this.add(t),t}createHeader(e="",t){const n=(new Ue).setClass("suey-property-header-title"),s=new Ye(t),i=(new et).setClass("suey-property-header-icon").add(s),o=(new et).setClass("suey-property-header-text").setTextContent(e);return n.add(i,o),n}createRow(e="",...t){const n=this.createControls(...t),s=new st(e).selectable(!1).addClass("suey-property-left");this.leftPropertySpacing===f.TABS&&s.addClass("suey-left-tab-spacing"),z.setVariable("--left-property-width",this.#s(),s),z.setVariable("--right-property-width",this.#i(),n);const i=(new nt).addClass("suey-property-row").add(s,n);return i.leftWidget=s,i.rightWidget=n,i}createRowWithoutTitle(...e){const t=this.createControls(...e);t.removeClass("suey-property-right").addClass("suey-property-full");const n=(new nt).addClass("suey-property-row").add(t);return n.leftWidget=t,n.rightWidget=t,n}createControls(){const e=(new nt).setStyle("margin","0","padding","0").addClass("suey-property-right");let t=arguments;1===arguments.length&&Array.isArray(arguments[0])&&(t=arguments[0]);for(let n=0;n<t.length;n++){const s=t[n];s instanceof Oe&&s.isElement?(e.add(s),n<t.length-1&&e.add((new et).addClass("suey-property-space"))):console.error("PropertyList.createControls(): ",s," is not an instance of Element")}return e}disableInputs(e=!0){const t=["suey-button","suey-checkbox","suey-checkbox-input","suey-number","suey-slider","suey-tick-marks","suey-text-area","suey-text-box"];for(let n=0;n<t.length;n++){const s=this.dom.getElementsByClassName(t[n]);for(let t=0;t<s.length;t++)e?(s[t].classList.add("suey-disabled"),s[t].disabled=!0):(s[t].classList.remove("suey-disabled"),s[t].disabled=!1)}}}class ot extends Ue{constructor({style:e=y.NONE}={}){if(super(),this.setClass("suey-panel"),this.contents=function(){return this},e===y.SIMPLE)this.addClass("suey-panel-simple");else if(e===y.FANCY){this.addClass("suey-panel-fancy");const e=(new ot).setClass("suey-panel-fancy-outer"),t=(new ot).setClass("suey-panel-fancy-border"),n=(new ot).setClass("suey-panel-fancy-inside");t.add(n),e.add(t),this.add(e),this.contents=function(){return n}}this.on("contextmenu",(e=>{e.preventDefault()}))}}class rt extends ot{#o=null;#r=null;#a=0;#l=1/0;#d=0;#h=1/0;constructor({style:e=y.FANCY,resizers:t=[],startWidth:n=null,startHeight:s=null,minWidth:i=0,maxWidth:o=1/0,minHeight:r=0,maxHeight:a=1/0}={}){super({style:e});const l=this;this.addClass("suey-resizeable"),this.#o=parseFloat(n),this.#a=i,this.#l=o,this.#r=parseFloat(s),this.#d=r,this.#h=a;const d={};je.makeResizeable(this,(function(){d.width=l.getWidth(),d.height=l.getHeight(),document.dispatchEvent(new Event("closemenu"))}),(function(e,t,n){e.hasClassWithString("left")&&l.changeWidth(d.width-t),e.hasClassWithString("right")&&l.changeWidth(d.width+t),e.hasClassWithString("top")&&l.changeHeight(d.height-n),e.hasClassWithString("bottom")&&l.changeHeight(d.height+n)})).addResizers(t),null!=n&&this.changeWidth(n),null!=s&&this.changeHeight(s)}changeWidth(e){if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e)||(e=this.#o),null==e)return this.dom.style.removeProperty("width"),null;const t=this.#a*z.guiScale(this.dom),n=Number.isFinite(this.#l)?this.#l*z.guiScale(this.dom):1/0;return e=Math.min(n,Math.max(t,parseFloat(e))).toFixed(1),this.setStyle("width",z.toEm(e,this.dom)),this.dom.dispatchEvent(new Event("resized")),e}changeHeight(e){if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e)||(e=this.#r),null==e)return this.dom.style.removeProperty("height"),null;const t=this.#d*z.guiScale(this.dom),n=Number.isFinite(this.#h)?this.#h*z.guiScale(this.dom):1/0;return e=Math.min(n,Math.max(t,parseFloat(e))).toFixed(1),this.setStyle("height",z.toEm(e,this.dom)),this.dom.dispatchEvent(new Event("resized")),e}}class at extends ot{constructor({title:e="",icon:t="",arrow:n="left",border:s=!0,expanded:i=!0}={}){super();const o=this;this.addClass("suey-shrinkable"),s||this.addClass("suey-borderless-panel"),i&&this.addClass("suey-expanded"),this.isExpanded=i,this.titleDiv=void 0,this.bodyDiv=void 0;const r=(new Ue).setClass("suey-shrink-title"),a=(new et).setClass("suey-shrink-arrow"),l=(new Ue).addClass("suey-shrink-arrow-clicker");a.add(l);const d=(new et).setClass("suey-shrink-text").setInnerHtml(e),h=(new et).setClass("suey-shrink-icon");t&&h.addClass("suey-has-icon");const c=new Ye(t);h.add(c),"right"===n?r.add(h,d,a):r.add(a,h,d);const u=(new Ue).setClass("suey-shrink-body");this.add(r),this.add(u),this.titleDiv=r,this.bodyDiv=u,this.contents=function(){return o.bodyDiv},r.on("pointerdown",(function(){o.toggle()}))}setExpanded(e=!0,t=!0){e=Boolean(e),this.isExpanded=e,this.wantsClass("suey-expanded",e),t&&this.dom.dispatchEvent(new Event("expand"))}sort(){const e=this.contents().children;e.sort(((e,t)=>{const n=String(e.name).toLowerCase(),s=String(t.name).toLowerCase();return n<s?-1:n>s?1:0}));for(let t=0;t<e.length;t++)e[t].setStyle("order",t)}toggle(){this.setExpanded(!this.isExpanded)}}class lt extends ot{constructor({title:e,collapsible:t=!1}={}){super();const n=this;this.addClass("suey-titled"),this.addClass("suey-expanded"),this.isExpanded=!0;const s=(new Ue).addClass("suey-tab-title");if(s.add(new st(Xe.capitalize(e)).addClass("suey-tab-title-text")),this.add(s),this.tabTitle=s,t){this.tabTitle.setStyle("pointer-events","all");const e=(new Ue).setClass("suey-title-arrow-click");e.add((new Ue).setClass("suey-title-arrow")),this.tabTitle.add(e),e.on("click",(()=>{n.toggle()}))}this.scroller=(new Ue).addClass("suey-scroller"),this.add(this.scroller),this.contents=function(){return this.scroller}}setExpanded(e=!0){this.isExpanded=e,e?(this.addClass("suey-expanded"),this.scroller.setStyle("display","")):(this.removeClass("suey-expanded"),this.scroller.setStyle("display","none"))}setTitle(e=""){e=Xe.capitalize(e);const t=this.dom.querySelector(".suey-tab-title-text");t&&(t.textContent=e)}toggle(){this.setExpanded(!this.isExpanded)}}class dt extends Oe{constructor(e){super(document.createElement("label")),this.setClass("suey-checkbox"),this.checkbox=new Oe(document.createElement("input")),this.checkbox.setClass("suey-input"),this.checkbox.addClass("suey-checkbox-input"),this.checkbox.dom.type="checkbox",this.checkbox.dom.name="Checkbox",this.button=(new Ue).addClass("suey-checkbox-button"),this.add(this.checkbox,this.button),this.setValue(e)}getValue(){if(this.checkbox.dom)return this.checkbox.dom.checked}setValue(e){return this.checkbox.dom?(this.checkbox.dom.checked=!!Boolean(e),this):this}}const ht=new F;class ct extends Ge{constructor(){super();const e=this;this.addClass("suey-color-button"),this.addClass("suey-drop-arrow");const t=new Oe(document.createElement("input"));t.setClass("suey-input"),t.addClass("suey-color-input-button"),t.setAttribute("autocomplete","off");try{t.dom.type="color"}catch(e){}this.add(t);const n=(new Ue).addClass("suey-drop-color");n.setStyle("backgroundColor",t.dom.value),this.add(n);let s=!1;function i(){e.removeClass("suey-selected"),s=!1}t.on("click",(function(n){s?(n.stopPropagation(),n.preventDefault(),t.blur()):(e.addClass("suey-selected"),s=!0)})),t.on("input",(function(){n.setStyle("backgroundColor",t.dom.value),e.setAttribute("tooltip",t.dom.value)})),t.on("blur",i),t.on("focusout",i),this.getValue=function(){return t.dom?t.dom.value:0},this.getHexValue=function(){return t.dom?(ht.set(t.dom.value),ht.hex()):0},this.setValue=function(s){return t.dom?(ht.set(s),t.dom.value=ht.hexString(),n.setStyle("backgroundColor",t.dom.value),e.setAttribute("tooltip",t.dom.value),this):this},this.setValue(16777215)}}class ut extends Ue{constructor(){super(),this.setClass("suey-menu-separator")}}const mt=new F;class pt extends Ue{#c=!1;constructor(){super(),this.setClass("suey-menu"),this.mouseSvg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.mouseSvg.setAttribute("class","suey-menu-mouse-triangle"),this.mouseSvg.setAttribute("pointer-events","none"),this.mouseSvg.setAttribute("version","1.1"),this.mouseArea=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this.mouseArea.setAttribute("fill",mt.setRandom().hexString()),this.mouseArea.setAttribute("opacity","0.0"),this.mouseArea.setAttribute("pointer-events","fill"),this.mouseSvg.appendChild(this.mouseArea),this.menuParentDom=void 0}add(){if(!this.#c&&this.children){let e=this.children;if(e.length>0){"MenuSeparator"!==e[e.length-1].constructor.name&&super.add(new ut)}}return arguments&&arguments.length>0&&(this.#c=!0,super.add(...arguments)),this}newCategory(){this.#c=!1}closeMenu(e=!0,t=void 0){if(this.traverse((e=>{t&&Re.isChildOf(e.dom,t)||(e.removeClass("suey-menu-show","suey-selected"),e.attachedMenu&&"function"==typeof e.attachedMenu.closeMenu&&e.attachedMenu.closeMenu(!0),e.dom&&"function"==typeof e.dom.blur&&e.dom.blur())}),e),e){let e=this.menuParentDom;for(;e;)this.menuParentDom.classList.contains("suey-menu-button")?(e.classList.remove("suey-selected"),e=void 0):e=e.parentElement;"function"==typeof this.removeHandlers&&this.removeHandlers(),document.dispatchEvent(new Event("nofocus"))}}isShown(){return this.hasClass("suey-menu-show")}showMenu(e){const t=this;if(this.menuParentDom=e,this.addClass("suey-menu-show"),this.focus(),Re.isChildOfElementWithClass(this.dom,"suey-menu")){this.mouseArea.setAttribute("pointer-events","none"),this.contents().dom.insertBefore(this.mouseSvg,this.contents().dom.firstChild),this.updateMouseArea();const e=1e3*parseFloat(z.getVariable("--menu-timing"));setTimeout((()=>this.updateMouseArea()),e)}function n(){t.closeMenu()}function s(e){"Escape"===e.key&&t.closeMenu()}function i(e){t.dom.contains(e.target)||t.closeMenu()}return document.addEventListener("closemenu",n),document.addEventListener("keydown",s),document.addEventListener("pointerdown",i),this.removeHandlers=function(){document.removeEventListener("closemenu",n),document.removeEventListener("keydown",s),document.removeEventListener("pointerdown",i)},this.on("destroy",(function(){t.removeHandlers()})),this}updateMouseArea(){const e=this.dom.parentElement.getBoundingClientRect(),t=this.dom.getBoundingClientRect();if(this.hasClass("suey-menu-under")){const n=t.width/2,s=n-e.width/2,i=n+e.width/2,o=e.height/1.5;this.mouseSvg.style.left="0",this.mouseSvg.style.top=`-${o}px`,this.mouseSvg.setAttribute("width",`${t.width}px`),this.mouseSvg.setAttribute("height",`${t.height+o}px`);const r=`${s},0`,a=`0,${o}`,l=`0,${t.height+o}`,d=`${t.width},${t.height+o}`,h=`${t.width},${o}`,c=`${i},0`;this.mouseArea.setAttributeNS(null,"points",`${r} ${a} ${l} ${d} ${h} ${c}`),this.mouseArea.setAttribute("pointer-events","fill")}else{const n=e.top-t.top+e.height/2,s=n-e.height/2,i=n+e.height/2,o=e.width/3,r=10;this.mouseSvg.style.left=`-${o}px`,this.mouseSvg.style.top=`-${r}px`,this.mouseSvg.setAttribute("width",`${t.width+o}px`),this.mouseSvg.setAttribute("height",`${t.height+2*r}px`);const a=`${o},0`,l=`0,${r+s}`,d=`0,${r+i}`,h=`${o},${t.height+2*r}`,c=`${o+t.width},${t.height+2*r}`,u=`${o+t.width},0`;this.mouseArea.setAttributeNS(null,"points",`${a} ${l} ${d} ${h} ${c} ${u}`),this.mouseArea.setAttribute("pointer-events","fill")}return this}}class gt extends Ue{constructor(e=void 0){super(),this.setClass("suey-menu-shortcut"),e&&this.setShortcutText(e)}setShortcutText(e){if(!e)return this;this.text=e,this.clearContents();for(let t=0;t<e.length;t++){let n=(new Ue).setClass("suey-menu-shortcut-character"),s=e[t];for(;t+1<e.length&&e[t+1]===e[t+1].toLowerCase();)s+=e[t+1],t++;1===s.length?n.setStyle("width","1em"):(n.setStyle("paddingLeft","0.15em"),n.setStyle("paddingRight","0.15em")),n.dom.textContent=s,this.add(n)}return this}}class bt extends Ue{constructor(e=void 0,t=void 0,n=void 0){super();const s=this;function i(e=void 0){let t=s.parent;for(;t&&!1===t.hasClass("suey-menu");)t=t.parent;t&&"function"==typeof t.closeMenu&&t.closeMenu(!1,e)}this.setClass("suey-menu-item"),this.name=e,this.divIcon=new Ye(t),this.divIconHolder=(new Ue).add(this.divIcon).setClass("suey-menu-icon"),this.divText=(new Ue).setClass("suey-menu-text"),this.divSpacer=(new Ue).setStyle("flex","1 1 auto"),this.divShortcut=new gt(n),this.row=(new nt).add(this.divIconHolder,this.divText,this.divSpacer,this.divShortcut),this.add(this.row),this.checked=!1,this.disabled=!1,this.subMenu=void 0;let o=!1;this.on("contextmenu",(function(e){e.preventDefault()})),this.on("pointerenter",(function(){let e=s.parent;for(;e&&!1===e.hasClass("suey-menu");)e=e.parent;if(!e.hasClass("suey-invisible-menu")){const e=new Event("hidetooltip",{bubbles:!0});s.dom.dispatchEvent(e)}i(s.dom),s.subMenu&&s.subMenu.showMenu(s.dom)})),this.on("pointerleave",(function(){i()})),this.on("pointerdown",(function(e){e.stopPropagation(),e.preventDefault(),s.dom.dispatchEvent(new Event("select")),o=!0})),this.on("pointerup",(function(e){e.stopPropagation(),e.preventDefault(),!0!==o&&s.dom.dispatchEvent(new Event("select")),o=!1})),this.setText(e),this.selectable(!1)}on(e,t,n=!1){return"click"!==e&&"select"!==e||console.warn("MenuItem.on: Click event for this Element is meant to be used with onSelect()"),super.on(e,t,n),this}onSelect(e){if("function"!=typeof e)return;const t=this;e=e.bind(t);return super.on("click",(function(n){n.preventDefault(),n.stopPropagation(),t.hasClass("suey-disabled")||(e(n),t.hasClass("suey-keep-open")||document.dispatchEvent(new Event("closemenu")))})),t}isChecked(){return this.checked}isDisabled(){return this.disabled}keepOpen(){return this.addClass("suey-keep-open"),this}setChecked(e){const n=e?t:s;return this.divIcon.wantsClass("suey-icon-colorize",e),this.setImage(n),this.checked=e,this}setDisabled(e){return this.wantsClass("suey-disabled",e),this.disabled=e,this}setImage(e){return this.divIcon.setImage(e),this}setText(e){return this.divText.dom.textContent=e??" ",this}attachSubMenu(e){return!1===e.hasClass("suey-menu")||(e.addClass("suey-slide-down"),this.removeSubMenu(),this.addClass("suey-sub-menu-item"),this.add(e),this.subMenu=e),this}hasSubMenu(){return this.hasClass("suey-sub-menu-item")}removeSubMenu(){this.removeClass("suey-sub-menu-item");const e=this.subMenu;this.subMenu=void 0;for(let e=this.contents().dom.children.length-1;e>=0;e--){let t=this.contents().dom.children[e];t.classList.contains("suey-menu")&&this.remove(t)}return e}}class yt extends Ge{constructor(e){super(e);const t=this;this.items=[],this.currentIndex=-1,this.value=void 0,this.menuOffsetX=0,this.menuOffsetY=5,this.addClass("suey-dropdown"),this.addClass("suey-drop-arrow"),this.on("wheel",(function(e){e.stopPropagation(),e.preventDefault(),e.deltaY<0?t.currentIndex>0&&(t.setIndex(t.currentIndex-1),t.dom&&t.dom.dispatchEvent(new Event("change"))):t.currentIndex<t.items.length-1&&(t.setIndex(t.currentIndex+1),t.dom&&t.dom.dispatchEvent(new Event("change")))}))}getItemByKey(e){for(let t=0;t<this.items.length;t++)if(this.items[t].value===e)return this.items[t]}getIndex(){return this.currentIndex}getValue(){return this.value}setIndex(e=0){if(e<0||e>=this.items.length||e===this.currentIndex)return;const t=this.items[e];for(let e=0;e<this.items.length;e++)this.items[e].setChecked(!1);return t.setChecked(!0),this.currentIndex=e,this.value=t.value,this.dom&&(this.dom.textContent=t.dom.textContent),this}setValue(e){if(e=String(e),this.value!==e)for(let t=0;t<this.items.length;t++){const n=this.items[t];if(n.value===e){for(let e=0;e<this.items.length;e++)this.items[e].setChecked(!1);return n.setChecked(!0),this.currentIndex=t,this.value=e,this.dom&&(this.dom.textContent=n.dom.textContent),this}}return this}setOptions(e){const t=this;this.detachMenu&&this.detachMenu(),this.items.length=0;for(const n in e){const s=new bt(e[n]);s.value=n,s.onSelect((()=>{t.setValue(s.value),t.dom&&t.dom.dispatchEvent(new Event("change"))})),this.items.push(s)}const n=new pt;for(let e=0;e<this.items.length;e++)n.add(this.items[e]);return this.attachMenu(n),n.addClass("suey-select-menu"),this}}const ft=new Event("change",{bubbles:!0,cancelable:!0});class vt extends Oe{constructor(e){super(document.createElement("input"));const t=this;this.setClass("suey-input"),this.addClass("suey-number"),this.dom.name="NumberBox",this.dom.style.cursor="text",this.dom.value="0.00",this.setAttribute("autocomplete","off"),this.value=0,this.min=-1/0,this.max=1/0,this.precision=3,this.step=.1,this.unit="",this.nudge=1,this.setValue(e),this.on("keydown",(function(e){if(e.stopPropagation(),"z"!==e.key||!e.ctrlKey&&!e.metaKey)switch(e.key){case"Enter":t.dom&&(t.dom.style.cursor="text"),t.dom&&t.dom.blur();break;case"ArrowUp":e.preventDefault(),t.setValue(t.getValue()+t.nudge),t.dom&&t.dom.dispatchEvent(ft);break;case"ArrowDown":e.preventDefault(),t.setValue(t.getValue()-t.nudge),t.dom&&t.dom.dispatchEvent(ft)}else e.preventDefault()})),this.on("keyup",(function(e){e.stopPropagation()})),this.on("wheel",(function(e){e.preventDefault();const n=e.deltaY<0?-1:1,s=t.getValue()-n*t.step;t.setValue(s),t.dom&&t.dom.dispatchEvent(ft)})),this.on("change",(function(e){t.dom&&t.setValue(t.dom.value)}))}getValue(){return parseFloat(this.value)}setValue(e){let t=parseFloat(e);if(void 0===t||isNaN(t)||!isFinite(t))return this;t<this.min&&(t=this.min),t>this.max&&(t=this.max),t=parseFloat(t.toFixed(this.precision));let n=Math.min(this.precision,(s=t,Math.floor(s.valueOf())===s.valueOf()?0:s.toString().split(".")[1].length||0));var s;return t=t.toFixed(n),void 0!==t&&!isNaN(t)&&isFinite(t)&&(this.value=t,this.dom&&(this.dom.value=t),this.dom&&""!==this.unit&&(this.dom.value=t+" "+this.unit)),this}setPrecision(e){return this.precision=parseFloat(e),this}setStep(e){return this.step=parseFloat(e),this}setNudge(e){return this.nudge=parseFloat(e),this}setMin(e){return this.min=parseFloat(e),this}setMax(e){return this.max=parseFloat(e),this}setRange(e,t){return this.setMin(e),this.setMax(t),this}setUnit(e){return this.unit=e,this}}class wt extends vt{constructor(e){super(e);const t=this;this.addClass("suey-number-scroll"),this.dom.style.cursor="ns-resize";let n=0,s=0;const i={x:0,y:0},o={x:0,y:0};this.on("mousedown",(function(e){e.preventDefault(),n=0,s=t.getValue(),o.x=e.clientX,o.y=e.clientY})),this.on("mousemove",(function(e){const r=t.getValue();let a;i.x=e.clientX,i.y=e.clientY,n+=i.x-o.x-(i.y-o.y),a=s+n/(e.shiftKey?.1:1)*t.step,a=Math.min(t.max,Math.max(t.min,a)),r!==a&&(t.setValue(a),t.dom&&t.dom.dispatchEvent(ft)),o.x=e.clientX,o.y=e.clientY})),this.on("mouseup",(function(){Math.abs(n)<2&&t.dom&&t.dom.focus()})),this.on("touchstart",(function(e){1===e.touches.length&&(n=0,s=t.getValue(),o.x=e.touches[0].pageX,o.y=e.touches[0].pageY)})),this.on("touchmove",(function(e){const r=t.getValue();let a;i.x=e.touches[0].pageX,i.y=e.touches[0].pageY,n+=i.x-o.x-(i.y-o.y),a=s+n/(e.shiftKey?5:50)*t.step,a=Math.min(t.max,Math.max(t.min,a)),r!==a&&(t.setValue(a),t.dom&&t.dom.dispatchEvent(ft)),o.x=e.touches[0].pageX,o.y=e.touches[0].pageY})),this.on("touchend",(function(e){0===e.touches.length&&Math.abs(n)<2&&t.dom&&t.dom.focus()})),this.on("focus",(function(){t.dom&&(t.dom.style.cursor="")})),this.on("blur",(function(){t.dom&&(t.dom.style.cursor="ns-resize")}))}}const xt=new Event("change",{bubbles:!0,cancelable:!0});class kt extends Ue{constructor(e=0,t=0,n=100){super();const s=this;this.setClass("suey-slide-container"),this.precision=2;const i=new Oe(document.createElement("input"));i.setClass("suey-input"),i.addClass("suey-slider"),i.dom.type="range",i.dom.value=e,i.dom.min=t,i.dom.max=n;const o=new Ue(" ").addClass("suey-tick-marks");this.slider=i,this.ticks=o,this.add(o,i),i.on("input",(function(){if(!i.dom)return;const e=parseFloat(i.dom.value),t=parseFloat(i.dom.min),n=parseFloat(i.dom.max);i.dom.style.setProperty("--middle",""+(e-t)/(n-t))})),i.on("wheel",(function(e){if(!i.dom)return;e.preventDefault();const t=e.deltaY<0?-1:1,n=parseFloat(i.dom.min),o=parseFloat(i.dom.max);let r=i.dom.step;r="any"===r?Number.isFinite(o)&&Number.isFinite(n)?(o-n)/20:1:parseFloat(r);const a=s.getValue()-t*r;s.setValue(a),i.dom.dispatchEvent(xt)}))}getValue(){return this.slider.dom?parseFloat(this.slider.dom.value):null}setValue(e){if(!this.slider.dom)return this;let t=parseFloat(e);if(void 0===t||isNaN(t)||!isFinite(t))return this;t<this.min&&(t=this.min),t>this.max&&(t=this.max),t=parseFloat(t.toFixed(this.precision));let n=Math.min(this.precision,(s=t,Math.floor(s.valueOf())===s.valueOf()?0:s.toString().split(".")[1].length||0));var s;t=t.toFixed(n),void 0!==t&&!isNaN(t)&&isFinite(t)&&(this.slider.dom.value=t);const i=parseFloat(this.slider.dom.value),o=parseFloat(this.slider.dom.min),r=parseFloat(this.slider.dom.max);return this.slider.dom.style.setProperty("--middle",""+(i-o)/(r-o)),this}setPrecision(e){return this.precision=e,this}setMin(e){return this.slider.dom?(this.slider.dom.min=e,this.setTicks(),this):this}setMax(e){return this.slider.dom?(this.slider.dom.max=e,this.setTicks(),this):this}setRange(e,t){return this.slider.dom?(this.slider.dom.min=e,this.slider.dom.max=t,this.setTicks(),this):this}setStep(e){return this.slider.dom?(this.slider.dom.step=e,this.setTicks(),this):this}setTicks(){if(!this.slider.dom)return this;const e=this.ticks,t=parseFloat(this.slider.dom.min),n=parseFloat(this.slider.dom.max),s=this.slider.dom.step;if("any"!==s&&Number.isFinite(t)&&Number.isFinite(n)){const i=parseFloat((n-t)/s),o=9;let r=i;if(r>o)for(let e=1;e<=o;e++)Number.isInteger(i/e)&&(r=e);e.dom.style.setProperty("--divides",`${r}`)}else e.setStyle("display","none")}}class Ct extends Oe{constructor(e){super(document.createElement("input")),this.setClass("suey-input"),this.addClass("suey-text-box"),this.dom.type="text",this.dom.name="TextBox",this.setAttribute("autocomplete","off"),this.setAttribute("spellcheck","false"),this.setValue(e??""),this.on("keydown",(function(e){e.stopPropagation(),"z"===e.key&&(e.ctrlKey||e.metaKey)&&e.preventDefault()})),this.on("keyup",(function(e){e.stopPropagation()}))}getValue(){return this.dom?this.dom.value:null}setValue(e){return this.dom?(this.dom.value=e,this):this}}const St=new F;class Tt extends rt{constructor(e,t){super({style:y.FANCY,resizers:[k.LEFT],minWidth:100}),this.addClass("suey-gooey"),this.minWidth=180,this.opacity(t);const n=new lt({title:e,collapsible:!0});this.add(n),this.contents=function(){return n.scroller},document.body.appendChild(this.dom)}addFolder(e="",t=""){e&&""!==e&&(e=Xe.capitalize(e));const n=new Et({title:e,icon:t});return this.add(n),n}color(e){return ze.changeColor(e),this}opacity(e){if(null!=e&&!Number.isNaN(e))return e=Math.min(Math.max(e,0),1),z.setVariable("--panel-transparency",e),this}scale(e){e||(e=1);const t=14*(e=parseFloat(e)),n=Math.min(Math.max(t,7),42);return z.setVariable("--font-size",z.toPx(n,this.dom)),this}width(e){if(null!=e)return e<this.minWidth*z.guiScale(this.dom)&&(e=this.minWidth*z.guiScale(this.dom)),e>this.maxWidth*z.guiScale(this.dom)&&(e=this.maxWidth*z.guiScale(this.dom)),this.setStyle("width",z.toEm(e,this.dom)),this}}class Et extends at{constructor({title:e,icon:t}={}){super({title:e,icon:t}),this.props=new it("45%",f.NORMAL),this.add(this.props),this.add=function(e,t,n,s,i,o){const r=e[t];return null==r?null:"boolean"==typeof r?this.addBoolean(e,t):"number"==typeof r?Array.isArray(n)&&n.length>0?this.addList(e,t,n):this.addNumber(e,t,n,s,i,o):"string"==typeof r?Array.isArray(n)&&n.length>0?this.addList(e,t,n):this.addString(e,t):"function"==typeof r?this.addFunction(e,t):Array.isArray(r)&&r.length>0?this.addVector(e,t):void 0}}addBoolean(e,t){const n=new It,s=new dt;s.on("change",(()=>{e[t]=s.getValue(),"function"==typeof n.change&&n.change(),"function"==typeof n.finishChange&&n.finishChange()}));const i=this.props.addRow(Xe.prettyTitle(t),s,new tt);return n.name=function(e){return i.leftWidget.setInnerHtml(e),n},n.updateDisplay=function(){return s.setValue(e[t]),n},n.updateDisplay(),n}addColor(e,t){let n,s=e[t];if(null==s)return null;n="string"==typeof s?"string":Array.isArray(s)?"array":"object"==typeof s?"object":"number";const i=new It,o=new ct;function r(s){switch(St.set(s),n){case"string":e[t]=St.hexString();break;case"array":St.toArray(e[t]);break;case"object":St.getRGB(e[t]);break;case"number":e[t]=St.hex()}}o.on("input",(()=>{r(o.getHexValue()),"function"==typeof i.change&&i.change()})),o.on("change",(()=>{r(o.getHexValue()),"function"==typeof i.change&&i.change(),"function"==typeof i.finishChange&&i.finishChange()}));const a=this.props.addRow(Xe.prettyTitle(t),o);return i.name=function(e){return a.leftWidget.setInnerHtml(e),i},i.updateDisplay=function(){return o.setValue(St.set(e[t]).hex()),i},i.updateDisplay(),i}addFunction(e,t){const n=new It,s=new Ge(Xe.prettyTitle(t));s.onPress((()=>e[t]()));const i=this.props.addRow(Xe.prettyTitle(t),s);return n.name=function(e,t){return i.leftWidget.setInnerHtml(e),t&&s.setInnerHtml(t),n},n}addList(e,t,n){const s=new It,i="string"==typeof e[t]?"string":"number",o={};for(let e of n)o[e]=e;const r=new yt;r.overflowMenu=P.LEFT,r.setOptions(o),r.on("change",(()=>{e[t]="string"===i?r.getValue():r.getIndex(),"function"==typeof s.change&&s.change(),"function"==typeof s.finishChange&&s.finishChange()}));const a=this.props.addRow(Xe.prettyTitle(t),r);return s.name=function(e){return a.leftWidget.setInnerHtml(e),s},s.updateDisplay=function(){return"string"===i?r.setValue(e[t]):r.setIndex(e[t]),s},s.updateDisplay(),s}addNumber(e,t,n=-1/0,s=1/0,i="any",o=2){const r=new It,a=new kt,l=new vt;function d(e){let t=l.min,n=l.max;a.setStep(e),"any"===e&&(e=Number.isFinite(n)&&Number.isFinite(t)?(n-t)/20:1),l.setStep(e)}a.on("input",(()=>{e[t]=a.getValue(),l.setValue(a.getValue()),"function"==typeof r.change&&r.change()})),a.on("change",(()=>{e[t]=a.getValue(),l.setValue(a.getValue()),"function"==typeof r.change&&r.change(),"function"==typeof r.finishChange&&r.finishChange()})),l.on("change",(()=>{e[t]=l.getValue(),a.setValue(l.getValue()),"function"==typeof r.change&&r.change(),"function"==typeof r.finishChange&&r.finishChange()})),a.on("pointerdown",(e=>e.stopPropagation())),a.on("wheel",(e=>e.stopPropagation())),l.on("wheel",(e=>e.stopPropagation())),a.setRange(n,s).setPrecision(o),l.setRange(n,s).setPrecision(o),d(i);const h=Xe.countDigits(parseInt(s))+(o>0?o+.5:0);function c(){Number.isFinite(Number(a.slider.dom.min))&&Number.isFinite(Number(a.slider.dom.max))?(l.addClass("suey-property-tiny-row"),a.setStyle("display","")):(l.removeClass("suey-property-tiny-row"),a.setStyle("display","none"))}l.dom.style.setProperty("--min-width",`${h+1.5}ch`),l.setStyle("marginLeft","0.14286em"),c();const u=this.props.addRow(Xe.prettyTitle(t),a,l);return r.name=function(e){return u.leftWidget.setInnerHtml(e),r},r.min=function(e){return a.setMin(e),l.setMin(e),c(),r},r.max=function(e){return a.setMax(e),l.setMax(e),c(),r},r.step=function(e){return d(e),r},r.precision=function(e){return a.setPrecision(e),l.setPrecision(e),r},r.updateDisplay=function(){return a.setValue(e[t]),l.setValue(e[t]),e[t]=a.getValue(),r},r.updateDisplay(),r}addString(e,t){const n=new It,s=new Ct;s.on("change",(()=>{e[t]=s.getValue(),"function"==typeof n.change&&n.change(),"function"==typeof n.finishChange&&n.finishChange()}));const i=this.props.addRow(Xe.prettyTitle(t),s);return n.name=function(e){return i.leftWidget.setInnerHtml(e),n},n.updateDisplay=function(){return s.setValue(e[t]),n},n.updateDisplay(),n}addVector(e,t,n=-1/0,s=1/0,i="any",o=2){const r=new It,a=e[t],l=this.props.addRow(Xe.prettyTitle(t)),d=[];for(let e=0;e<a.length;e++){const t=new vt;d.push(t),t.on("change",(()=>{a[e]=t.getValue(),"function"==typeof r.change&&r.change(),"function"==typeof r.finishChange&&r.finishChange()})),t.on("wheel",(e=>e.stopPropagation())),t.setRange(n,s).setPrecision(o),l.rightWidget.add(t),e<a.length-1&&l.rightWidget.add((new Ue).setStyle("min-width","3px"))}return function(e){let t=d[0].min,n=d[0].max;"any"===e&&(e=Number.isFinite(n)&&Number.isFinite(t)?(n-t)/20:1);for(let t=0;t<a.length;t++)d[t].setStep(e)}(i),r.name=function(e){return l.leftWidget.setInnerHtml(e),r},r.min=function(e){for(let t=0;t<d.length;t++)d[t].setMin(e);return r},r.max=function(e){for(let t=0;t<d.length;t++)d[t].setMax(e);return r},r.step=function(e){for(let t=0;t<d.length;t++)d[t].setStep(e);return r},r.precision=function(e){for(let t=0;t<d.length;t++)d[t].setPrecision(e);return r},r.updateDisplay=function(){for(let n=0;n<a.length;n++)d[n].setValue(e[t][n]),e[t][n]=d[n].getValue();return r},r.updateDisplay(),r}}class It{constructor(){const e=this;this.change=null,this.finishChange=null,this.name=function(){return e},this.updateDisplay=function(){return e},this.min=function(){return e},this.max=function(){return e},this.step=function(){return e},this.precision=function(){return e}}onChange(e){return this.change=e,this}onFinishChange(e){return this.finishChange=e,this}}class Lt extends Oe{constructor(){super(document.createElement("br"))}}class Mt extends Oe{constructor(e=300,t=150){const n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=e,n.height=t,super(n),this.ctx=this.dom.getContext("2d")}get width(){return this.dom.width}set width(e){this.dom.width=e}get height(){return this.dom.height}set height(e){this.dom.height=e}ratio(){const e=this.dom.getBoundingClientRect();return this.dom.width/this.dom.height/(e.width/e.height)}}class zt extends Ue{#u=0;#m=[];#p=null;constructor(e=!1){super();const t=this;this.setClass("suey-tree-list"),this.allowFocus(),this.multiSelect=e,this.options=[],this.selectedValue=null,this.selectedValues=[],this.on("keydown",(function(e){if(t.multiSelect){if(e.shiftKey||(t.#u=0,t.#m=[]),"ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault(),e.stopPropagation();let n=[...t.selectedValues];if(e.shiftKey){0===t.#m.length&&(t.#m=[...n]),n=[...t.#m];let s=n[n.length-1],i=t.getIndex(s);if(-1===i)return;if("ArrowUp"===e.key&&i+t.#u>0&&t.#u--,"ArrowDown"===e.key&&i+t.#u<t.options.length-1&&t.#u++,i+=t.#u,i<0||i>t.options.length-1)return;const o=t.getIndex(n[n.length-1]),r=i;if(o<r)for(let e=o;e<=r;e++){const s=t.options[e].value;n.includes(s)||n.push(s)}else for(let e=o;e>=r;e--){const s=t.options[e].value;n.includes(s)||n.push(s)}t.setValues(n,!0),t.dom.dispatchEvent(new Event("change"))}else if(n.length>0){let s=n[n.length-1],i=t.getIndex(s);if(-1===i)return;"ArrowUp"===e.key&&i--,"ArrowDown"===e.key&&i++,i>=0&&i<t.options.length&&(t.setValues([t.options[i].value],!0),t.dom.dispatchEvent(new Event("change")))}}}else if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault(),e.stopPropagation();let n=t.getIndex(t.selectedValue);if(-1===n)return;"ArrowUp"===e.key&&n--,"ArrowDown"===e.key&&n++,n>=0&&n<t.options.length&&(t.setValue(t.options[n].value,!0),t.dom.dispatchEvent(new Event("change")))}})),this.on("keyup",(function(e){switch(e.key){case"ArrowUp":case"ArrowDown":e.preventDefault(),e.stopPropagation(),e.shiftKey||(t.#u=0,t.#m=[])}}))}getIndex(e){for(let t=0;t<this.options.length;t++)if(this.options[t].value==e)return t;return-1}getOption(e){for(let t=0;t<this.options.length;t++)if(this.options[t].value==e)return this.options[t]}getValue(){return this.selectedValue}setValue(e,t=!1){let n;for(let e=0;e<this.options.length;e++)this.options[e].classList.remove("suey-active");for(let t=0;t<this.options.length;t++){const s=this.options[t];s.value==e&&(s.classList.add("suey-active"),n=s)}return n&&t&&setTimeout((()=>Re.scrollIntoView(n)),0),this.selectedValue=e,this}getValues(){return this.selectedValues}setValues(e=[],t=!1){let n;for(const e of this.options)e.classList.remove("suey-active"),e.classList.remove("suey-active-top"),e.classList.remove("suey-active-bottom");for(const t of e)for(const e of this.options)e.value==t&&(e.classList.add("suey-active"),n=e);for(let e=0;e<this.options.length-1;e++){const t=this.options[e],n=this.options[e+1];t.classList.contains("suey-active")&&n.classList.contains("suey-active")&&(t.classList.add("suey-active-top"),n.classList.add("suey-active-bottom"))}return n&&t&&setTimeout((()=>{Re.scrollIntoView(n)}),0),this.selectedValues=[...e],this}setOptions(e){const t=this;function n(e){if(e.shiftKey||(t.#u=0,t.#m=[]),t.multiSelect){let n=!1;if(n=n||!this.singleSelect,n=n||t.selectedValues.length<1,1===t.selectedValues.length){const e=t.getOption(t.selectedValues[0]);e&&!0===e.singleSelect&&(n=!1)}let s=[...t.selectedValues];if(e.altKey||e.ctrlKey||e.metaKey){if(s.includes(this.value)){const e=s.indexOf(this.value);s.splice(e,1)}else n&&s.push(this.value);t.setValues(s)}else if(e.shiftKey&&s.length>0){if(n){0===t.#m.length&&(t.#m=[...t.selectedValues]),s=[...t.#m];const e=t.getIndex(s[s.length-1]),n=t.getIndex(this.value);if(e<n)for(let i=e;i<=n;i++){if(t.options[i].singleSelect)continue;const e=t.options[i].value;s.includes(e)||s.push(e)}else for(let i=e;i>=n;i--){if(t.options[i].singleSelect)continue;const e=t.options[i].value;s.includes(e)||s.push(e)}t.#u=n-e,t.setValues(s)}}else s.includes(this.value)||t.setValues([this.value])}else t.setValue(this.value);this.addEventListener("pointerup",s,{once:!0}),t.dom.dispatchEvent(new Event("change"))}function s(e){t.multiSelect&&(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||t.setValues([this.value]))}let i;function o(){i=this}function r(e){if(t.multiSelect){const n=this.getBoundingClientRect(),s=n.width,i=n.height*t.selectedValues.length;t.#p=document.createElement("div"),t.#p.classList.add("suey-tree-list"),t.#p.classList.add("suey-drag-image"),t.#p.style.width=`${s}px`,t.#p.style.height=`${i}px`,t.#p.style.top=-2*i+"px";for(let e=0;e<t.selectedValues.length;e++){const n=t.selectedValues[e],s=t.getOption(n).cloneNode(!0);s.classList.add("suey-active-top"),s.classList.add("suey-active-bottom"),t.#p.appendChild(s)}document.body.appendChild(t.#p),e.dataTransfer.setDragImage(t.#p,0,0),e.dataTransfer.setData("text/plain",t.selectedValues)}else e.dataTransfer.setData("text/plain",t.selectedValue)}function a(e){t.#p instanceof HTMLElement&&(document.body.removeChild(t.#p),t.#p=null)}function l(e){if(!i||this===i)return;const t=e.offsetY/this.clientHeight;this.dropGroup!==i.dropGroup?(this.classList.remove("suey-drag"),this.classList.remove("suey-drag-top"),this.classList.remove("suey-drag-bottom")):this.noDirectDrop?(this.classList.remove("suey-drag"),t<.5?(this.classList.add("suey-drag-top"),this.classList.remove("suey-drag-bottom")):(this.classList.add("suey-drag-bottom"),this.classList.remove("suey-drag-top"))):t<.25?(this.classList.add("suey-drag-top"),this.classList.remove("suey-drag"),this.classList.remove("suey-drag-bottom")):t<.75?(this.classList.add("suey-drag"),this.classList.remove("suey-drag-top"),this.classList.remove("suey-drag-bottom")):(this.classList.add("suey-drag-bottom"),this.classList.remove("suey-drag"),this.classList.remove("suey-drag-top"))}function d(){i&&this!==i&&(this.classList.remove("suey-drag"),this.classList.remove("suey-drag-top"),this.classList.remove("suey-drag-bottom"))}function h(e){if(e.preventDefault(),e.stopPropagation(),this.classList.remove("suey-drag"),this.classList.remove("suey-drag-top"),this.classList.remove("suey-drag-bottom"),i&&this!==i&&this.dropGroup===i.dropGroup){const n=e.dataTransfer.getData("text/plain").split(",");"function"==typeof t.onDrop&&t.onDrop(e,this,n)}i=void 0}this.clearContents(),t.options=[];for(let s=0;s<e.length;s++){const i=e[s];i.classList.add("suey-option"),t.dom.appendChild(i),t.options.push(i),i.addEventListener("pointerdown",n),i.addEventListener("destroy",(()=>i.removeEventListener("pointerdown",n)),{once:!0}),i.draggable&&(i.addEventListener("drag",o),i.addEventListener("dragstart",r),i.addEventListener("dragend",a),i.addEventListener("dragover",l),i.addEventListener("dragleave",d),i.addEventListener("drop",h),i.addEventListener("destroy",(()=>{i.removeEventListener("drag",o),i.removeEventListener("dragstart",r),i.removeEventListener("dragend",a),i.removeEventListener("dragover",l),i.removeEventListener("dragleave",d),i.removeEventListener("drop",h)}),{once:!0}))}return this}}class Rt extends ot{constructor({style:e=PANEL_STYLES.FANCY}={}){super({style:e}),this.addClass("suey-dock"),this.selectedID=""}addFloater(...e){return console.error(`${this.constructor.name}.addFloater(): Method must be reimplemented from AbstractDock`),this}findFloater(e=""){return console.error(`${this.constructor.name}.findFloater(): Method must be reimplemented from AbstractDock`),null}removeFloater(e,t=!1){return console.error(`${this.constructor.name}.removeFloater(): Method must be reimplemented from AbstractDock`),this}removeFloaters(){return console.error(`${this.constructor.name}.removeFloaters(): Method must be reimplemented from AbstractDock`),this}selectFirst(){return console.error(`${this.constructor.name}.selectFirst(): Method must be reimplemented from AbstractDock`),this}selectFloater(e,t=!1){return console.error(`${this.constructor.name}.selectFloater(): Method must be reimplemented from AbstractDock`),this}tabCount(){return console.error(`${this.constructor.name}.tabCount(): Method must be reimplemented from AbstractDock`),0}}const Pt=new F;class Dt extends ot{constructor(e="unknown",t={}){if(super(),this.setID(e),this.addClass("suey-floater","suey-hidden"),this.dock=null,"object"!=typeof t&&(t={}),"color"in t&&null!=t.color||(t.color=ze.color(b.ICON)),"alpha"in t||(t.alpha=1),"icon"in t||(t.icon=s),"shadow"in t||(t.shadow=0),"shrink"in t||(t.shrink=1),!0===t.shrink&&(t.shrink=.7),"string"==typeof t.shrink&&(t.shrink=parseFloat(t.shrink)/(t.shrink.includes("%")?100:1)),this.button=new At(this,Xe.capitalize(e),t),"titled"in t||(t.titled=!0),"string"!=typeof t.title&&(t.title=e),t.titled){const e=(new Ue).addClass("suey-tab-title");e.add(new st(Xe.capitalize(t.title)).addClass("suey-tab-title-text")),this.add(e),this.tabTitle=e,this.scroller=(new Ue).addClass("suey-scroller"),this.add(this.scroller),this.contents=function(){return this.scroller}}}destroy(){this.button.destroy(),super.destroy()}removeSelf(){this.dock?this.dock.removeFloater(this,!0):super.removeSelf()}setTitle(e=""){e=Xe.capitalize(e);const t=this.dom.querySelector(".suey-tab-title-text");t&&(t.textContent=e)}}class At extends Ue{constructor(e,t,n={}){super();const s=this;if(this.setClass("suey-tab-button"),n.shadow&&this.addClass("suey-tab-shadow"),this.dom.draggable=!0,this.tabPanel=e,Object.defineProperty(this,"id",{get:function(){return e?e.id:""},set:function(t){e?e.id=t:console.warn("TabButton: TabPanel not found")}}),this.iconVector=new Ye(n.icon),this.iconBorder=(new Ue).setClass("suey-tab-icon-border"),this.add(this.iconVector,this.iconBorder),this.setTooltip=function(e){s.iconBorder.setAttribute("tooltip",e)},this.setTooltip(t),"string"==typeof n.color&&n.color.includes("var(--"))this.iconVector.setStyle("background-color",`rgba(${n.color}, ${n.alpha})`);else{Pt.set(n.color);const e=`linear-gradient(to bottom left, ${`rgba(${Pt.rgbString(n.alpha)})`}, ${`rgba(${Pt.darken(.75).rgbString(n.alpha)})`})`;this.iconVector.setStyle("background-image",e)}const i=n.shadow;if(this.iconVector.img&&!1!==i){Pt.set(i);const e=`drop-shadow(0 0 var(--pad-micro) rgba(${Pt.rgbString()}, 0.8))`;this.iconVector.img.setStyle("filter",e)}const o=n.shrink;this.iconVector.img&&!isNaN(o)&&this.iconVector.img.setStyle("transform",`scale(${o})`);let r,a,l,d=0,h=0,c=0,u=0,m=!1,p=performance.now()-1e3,g=performance.now();function b(e){if(e.stopPropagation(),e.preventDefault(),performance.now()-g<30)return;if(g=performance.now(),u=Math.max(u,Math.abs(d-e.pageX)),u=Math.max(u,Math.abs(h-e.pageY)),!r){if(u<5)return;z.setCursor("pointer"),document.body.classList.add("suey-dock-drag"),m=s.hasClass("suey-selected"),r=s.dom.cloneNode(!0),r.classList.add("suey-drag-tab-button"),document.body.appendChild(r),document.dispatchEvent(new Event("closemenu"))}const t=e.pageX-s.getWidth()/2,n=e.pageY-s.getHeight()/2;r.style.left=`${t}px`,r.style.top=`${n}px`;let i=null,o="";if(i||(i=Re.findElementAt("suey-window",e.pageX,e.pageY)),i&&(i===s.tabPanel.dock?s.tabPanel.dock.addClass("suey-drop-target"):i=null),!i){const t=s.tabPanel.dock?.parent?.getPrimary();if(t){const n=t.dom.getBoundingClientRect(),s=parseFloat(z.toPx("0.25em"));if(e.pageX<n.left+s&&(o="left"),e.pageY<n.top+s&&(o="top"),e.pageX>n.right-s&&(o="right"),e.pageY>n.bottom-s&&(o="bottom"),""!==o){const e=document.body.getElementsByClassName("suey-docker-primary");e&&(i=e[0].suey)}}if(!i){document.elementsFromPoint(e.pageX,e.pageY).includes(s.parent.dom)&&(i=s.parent),i||(i=Re.findElementAt("suey-docker",e.pageX,e.pageY))}}if(i&&i.isElement)if(i.hasClass("suey-tab-buttons")){const t=Re.findElementAt("suey-tab-button",e.pageX,e.pageY);if(t){-1===i.children.indexOf(s)&&(s.tabPanel.dock&&s.tabPanel.dock.removeFloater(s.tabPanel),t.tabPanel.dock.addFloater(s.tabPanel),m&&t.tabPanel.dock.selectFloater(s.tabPanel.id)),t.addClass("suey-drop-target");const e=Array.from(i.dom.children),n=e.indexOf(t.dom);n!==e.indexOf(s.dom)&&(i.dom.appendChild(s.dom),i.dom.insertBefore(s.dom,i.dom.children[n])),i=t}}else i.hasClass("suey-docker")&&(i.showDockLocations(""!==o),l=""!==o?Re.childWithClass(i,`suey-dock-${o}`):Re.findElementAt("suey-dock-location",e.pageX,e.pageY),l&&(l.addClass("suey-dock-drop"),l.hasClass("suey-dock-middle")&&(l.addClass("suey-dock-self"),l.parent.parent.addClass("suey-dock-self"))));i!==a&&a&&a.isElement&&(a.hasClass("suey-docker")&&a.hideDockLocations(),a.hasClass("suey-tab-button")&&a.removeClass("suey-drop-target"),a.hasClass("suey-window")&&a.removeClass("suey-drop-target")),a=i}function y(e){if(e.stopPropagation(),e.preventDefault(),r){if(z.setCursor(""),document.body.classList.remove("suey-dock-drag"),document.body.removeChild(r),a&&a.hasClass("suey-tab-button"))a.removeClass("suey-drop-target");else if(a&&a.hasClass("suey-docker")){if(l){let e=null;if(l.hasClassWithString("middle"))e=a.children.find((e=>e.hasClass("suey-tabbed")));else if(l.hasClassWithString("top"))e=a.addDock(x.TOP,"25%",!1).enableTabs();else if(l.hasClassWithString("bottom")){const t="left"===a.initialSide||"right"===a.initialSide;e=a.addDock(x.BOTTOM,"25%",!1).enableTabs(t)}else if(l.hasClassWithString("left"))e=a.addDock(x.LEFT,"20%",!1).enableTabs();else if(l.hasClassWithString("right"))e=a.addDock(x.RIGHT,"20%",!1).enableTabs();else if(l.hasClassWithString("center")){const t=a.getMainWindow();t&&(e=t.addWindow({title:s.tabPanel.id,width:"50%",height:"70%"}))}else console.warn("TabButton.tabPointerUp(): Unknown dock location",l);e&&(e!==s.tabPanel.dock&&s.tabPanel.dock.removeFloater(s.tabPanel),e.addFloater(s.tabPanel),e.selectFloater(s.tabPanel.id),e.focus())}a.hideDockLocations()}else a&&a.hasClass("suey-window")&&a.removeClass("suey-drop-target");r=void 0,a=null,l=null}else performance.now()-c<500&&(performance.now()-p<750?"function"==typeof s.tabPanel.dock.toggleTabs&&s.tabPanel.dock.toggleTabs():(document.dispatchEvent(new Event("closemenu")),s.tabPanel.dock.selectFloater(s.tabPanel.id,!0))),p=performance.now();document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",y)}this.on("pointerdown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),c=performance.now(),u=0,d=e.pageX,h=e.pageY,document.addEventListener("pointermove",b),document.addEventListener("pointerup",y),g=performance.now())}))}}class Ft extends Rt{constructor({style:e=y.FANCY,tabSide:t=C.RIGHT,opposite:n=!1,closeButton:s=!1}={}){super({style:e});var i;if(this.addClass("suey-tabbed"),this.buttons=(new Ue).setClass("suey-tab-buttons").setStyle("display","none"),this.floaters=(new Ue).setClass("suey-tab-floaters"),this.add(this.buttons,this.floaters),t=n?"left"===(i=t)?"right":"right"===i?"left":"top"===i?"bottom":"bottom"===i?"top":"center":t,this.setTabSide(t),s){const e="right"===t?v.LEFT:v.RIGHT,n="right"===t||"left"===t?0:1.7;je.addCloseButton(this,e,n,1.3)}}focus(){if(super.focus(),document.activeElement===this.dom||!1===this.dom.contains(document.activeElement)){const e=this.findFloater(this.selectedID);e&&e.dom.dispatchEvent(new Event("activate-window"))}}destroy(){this.removeFloaters(),super.destroy()}addFloater(...e){if(!e||!Array.isArray(e))return this;let t=0;for(const n of e)n&&n.hasClass("suey-floater")&&(n.dock=this,this.floaters.add(n),this.buttons.add(n.button),t++,this.buttons.setStyle("display",this.buttons.children.length>=1?"":"none"),this.setContentsStyle("minHeight",""),(this.buttons.hasClass("suey-left-side")||this.buttons.hasClass("suey-right-side"))&&this.setContentsStyle("minHeight",2.2*this.buttons.children.length+.4+"em"));return t>0&&(this.tabCount()>0&&this.setStyle("display",""),""===this.selectedID&&this.selectFirst(),this.dom.dispatchEvent(new Event("tabs-changed",{bubbles:!0}))),this}findFloater(e=""){return this.floaters.children.find((t=>t.id===e))}removeFloater(e,t=!1){if("string"==typeof e&&(e=this.findFloater(e)),!e)return this;t&&e.destroy();const n=this.floaters.children.indexOf(e);if(!e||-1===n)return this;const s=this.buttons.children[n],i=this.floaters.children[n];return s&&s.removeClass("suey-selected"),i&&i.addClass("suey-hidden"),this.buttons.detach(s),this.floaters.detach(i),i.id===this.selectedID&&(n>0?this.selectFloater(this.floaters.children[n-1].id):this.floaters.children.length>0&&this.selectFirst()),this.setContentsStyle("minHeight",""),(this.buttons.hasClass("suey-left-side")||this.buttons.hasClass("suey-right-side"))&&this.setContentsStyle("minHeight",2.2*this.buttons.children.length+.4+"em"),this.buttons.setStyle("display",this.buttons.children.length>=1?"":"none"),this.dom.dispatchEvent(new Event("tabs-changed",{bubbles:!0})),this}removeFloaters(){const e=[...this.floaters.children];for(const t of e)this.removeFloater(t,!0);return this}selectFirst(){return this.floaters.children.length>0&&this.selectFloater(this.floaters.children[0].id),this}selectFloater(e,t=!1){if(e&&e.isElement&&(e=e.id),"string"!=typeof e)return this;if(t&&this.parent.hasClass("suey-collapsed")&&this.toggleTabs(),this.selectedID===e)return this;const n=this.findFloater(e);if(n&&n.button){t||z.setVariable("--tab-timing","0"),this.floaters.children.forEach((e=>e.hide())),this.buttons.children.forEach((e=>e.removeClass("suey-selected"))),n.display(),n.button.addClass("suey-selected"),this.selectedID=e,this.setStyle("display","");const s=new Event("tab-selected",{bubbles:!0});s.value=e,this.dom.dispatchEvent(s),setTimeout((()=>z.setVariable("--tab-timing","200ms")),50)}return this}tabCount(){return this.floaters.children.length}toggleTabs(){this.parent&&this.parent.hasClass("suey-docker")&&(this.parent.hasClass("suey-collapsed")?this.parent.expandTabs():this.parent.collapseTabs())}setTabSide(e){e=String(e).toLowerCase(),this.buttons.removeClass("suey-left-side","suey-right-side","suey-top-side","suey-bottom-side"),this.buttons.addClass(`suey-${e}-side`)}}class Nt extends ot{#g=!1;constructor(e=!0){super({style:y.NONE});const t=this;if(this.addClass("suey-docker"),this.initialSide="center",this.dockSide="center",this.minimumSize=100,this.expandSize=null,this.expandSide="",this.#g=e,e){function n(){for(const e of t.children)e.dom.dispatchEvent(new Event("resized"))}this.addClass("suey-docker-primary"),this.initialSide="center",window.addEventListener("resize",n),this.on("destroy",(()=>{window.removeEventListener("resize",n)}))}}getMainWindow(){const e=this.getPrimary();if(e){const t=e.parent;if(t&&t.hasClass("suey-main-window"))return t}return null}getPrimary(){let e;return this.traverseAncestors((t=>{!e&&t.hasClass("suey-docker-primary")&&(e=t)}),!0),e}isPrimary(){return this.#g}clearDocks(){const e=this;this.remove(...this.children),this.contents=function(){return e}}isVertical(){return this.hasClass("suey-docker-vertical")}isHorizontal(){return this.hasClass("suey-docker-horizontal")}limitSize(){return"left"===this.initialSide&&"left"===this.dockSide||"right"===this.initialSide&&"right"===this.dockSide}addDock(e=x.LEFT,t="20%",n=!0){Object.values(x).includes(e)||(console.warn(`Docker.addDock(): Unkown dock side '${e}', defaulting to 'left'`),e="left");const s=new Nt(!1),i=new Nt(!1);switch(this.hasClass("suey-collapsed")&&(s.addClass("suey-collapsed"),i.addClass("suey-collapsed")),e){case x.LEFT:case x.RIGHT:s.addClass("suey-docker-vertical").setStyle("width",z.toPx(t,this.dom,"w")),i.addClass("suey-docker-vertical"),e===x.LEFT&&(s.setStyle("left",0),i.setStyle("right",0)),e===x.RIGHT&&(s.setStyle("right",0),i.setStyle("left",0));break;case x.TOP:case x.BOTTOM:s.addClass("suey-docker-horizontal").setStyle("height",z.toPx(t,this.dom,"h")),i.addClass("suey-docker-horizontal"),e===x.TOP&&(s.setStyle("top",0),i.setStyle("bottom",0)),e===x.BOTTOM&&(s.setStyle("bottom",0),i.setStyle("top",0))}const o=n?this.contents():this,r=[];for(const e of o.children)(e.hasClass("suey-docker")||e.hasClass("suey-tabbed")||e.hasClass("suey-flex-spacer"))&&(r.push(e),e.hasClass("suey-flex-spacer)")&&e.addClass("suey-hidden"));return i.add(...r),n?this.add(i,s):this.addToSelf(i,s),s.dockSide=e,i.dockSide=this.dockSide,s.initialSide="center"===this.initialSide?e:this.initialSide,i.initialSide=this.initialSide,s.addClass(`initalside-${s.initialSide}`),s.addClass(`dockside-${s.dockSide}`),i.addClass(`initalside-${i.initialSide}`),i.addClass(`dockside-${i.dockSide}`),s.isHorizontal()?(s.initialSide===x.LEFT&&(s.setStyle("left",0),i.setStyle("left",0)),s.initialSide===x.RIGHT&&(s.setStyle("right",0),i.setStyle("right",0))):s.isVertical()&&(s.initialSide===x.TOP&&(s.setStyle("top",0),i.setStyle("top",0)),s.initialSide===x.BOTTOM&&(s.setStyle("bottom",0),i.setStyle("bottom",0))),n&&(this.contents=function(){return i}),s.on("resized",(()=>{s.updateSize()})),s.updateSize(),this.buildResizers(),s}getTwin(){const e=this.parent;if(!e||!e.isElement||!e.hasClass("suey-docker"))return;return e.children.find((e=>e!==this&&e.hasClass("suey-docker")))}removeDock(){if(this.isPrimary())return void console.warn("Docker.removeDock(): Cannot remove the primary dock");const e=this.parent;if(!e||!e.isElement||!e.hasClass("suey-docker"))return void console.warn("Docker.removeDock(): Dock does not have a valid parent");const t=this.getTwin();if(!t)return void console.warn("Docker.removeDock(): Could not find the twin Docker");const n=[];for(const e of t.children)(e.hasClass("suey-tabbed")||e.hasClass("suey-docker")||e.hasClass("suey-flex-spacer"))&&(n.push(e),e.hasClass("suey-flex-spacer")&&e.removeClass("suey-hidden"));const s=t.hasClass("suey-collapsed"),i=this.getPrimary();e.addToSelf(...n),e.remove(this,t),e.contents=function(){return e},i.contents()!==t&&i.contents()!==this||(i.contents=function(){return e}),e.hideDockLocations(),e.traverse((e=>{e.hasClass("suey-tabbed")&&e.parent.hasClass("suey-docker")&&e.setStyle("height",e.parent.limitSize()?"auto":"100%"),e.dom.dispatchEvent(new Event("resized"))})),e.buildResizers(),s&&e.collapseTabs()}enableTabs(e=!1){if(this.isPrimary())return void console.warn("Docker.enableTabs(): Cannot enable tabs on the primary dock");let t=Re.childWithClass(this.contents(),"suey-tabbed",!1);return t||(t=new Ft({tabSide:this.initialSide,opposite:!0,closeButton:!0}),t.setStyle("width","100%"),t.setStyle("height",this.limitSize()?"auto":"100%"),t.on("tabs-changed",(()=>{0===t.tabCount()&&t.parent.hasClass("suey-docker")&&t.parent.removeDock()})),e&&this.add(new tt),this.add(t),this.buildResizers(),t)}collapseTabs(){z.setVariable("--tab-timing","0"),this.isPrimary()||(this.addClass("suey-collapsed"),this.dom.dispatchEvent(new Event("toggle",{bubbles:!1})));let e=this;this.traverseAncestors((t=>{if(!t.hasClass("suey-docker"))return;let n=!0;for(const e of t.children)e.hasClass("suey-docker")&&(n=n&&e.hasClass("suey-collapsed"));n&&(e=t)})),e.traverse((e=>{e.hasClass("suey-docker")&&e.children.length>0&&(e.addClass("suey-collapsed"),e.dom.dispatchEvent(new Event("toggle",{bubbles:!1})),null==e.expandSize&&("left"===e.initialSide||"right"===e.initialSide?(e.expandSize=e.dom.style.width,e.expandSide="width"):"top"!==e.initialSide&&"bottom"!==e.initialSide||(e.expandSize=e.dom.style.height,e.expandSide="height"),e.setStyle(e.expandSide,"0"),e.minimumSize=0,e.dom.dispatchEvent(new Event("resized"))))}),!this.isPrimary()),setTimeout((()=>z.setVariable("--tab-timing","200ms")),50)}expandTabs(){function e(e){e&&e.hasClass("suey-docker")&&(e.removeClass("suey-collapsed"),e.dom.dispatchEvent(new Event("toggle",{bubbles:!1})),e.minimumSize=100,""===e.expandSide||e.isPrimary()||e.setStyle(e.expandSide,e.expandSize),e.expandSize=null,e.expandSide="")}z.setVariable("--tab-timing","0"),this.isPrimary()?this.traverse((t=>e(t)),!1):this.traverseAncestors((t=>e(t)),!0),window.dispatchEvent(new Event("resize")),setTimeout((()=>z.setVariable("--tab-timing","200ms")),50)}updateSize(e,t){if(null!=e&&this.setStyle("width",`${e}px`),null!=t&&this.setStyle("height",`${t}px`),!this.parent)return;const n=this.getTwin();if(!n)return;let s=1/0;if(n.dom.children.length>0){const e=getComputedStyle(n.dom);this.isVertical()&&(s=this.parent.getWidth()-parseFloat(e.minWidth)),this.isHorizontal()&&(s=this.parent.getHeight()-parseFloat(e.minHeight))}if(this.isVertical()){let e=Math.max(this.getWidth(),this.minimumSize);Number.isFinite(s)&&(e=Math.min(e,s)),this.setStyle("width",`${e}px`)}if(this.isHorizontal()){let e=Math.max(this.getHeight(),this.minimumSize);Number.isFinite(s)&&(e=Math.min(e,s)),this.setStyle("height",`${e}px`)}this.isVertical()&&n.setStyle("width",this.parent.getWidth()-this.getWidth()+"px"),this.isHorizontal()&&n.setStyle("height",this.parent.getHeight()-this.getHeight()+"px");for(const e of this.children)e.dom.dispatchEvent(new Event("resized"));for(const e of n.children)e.dom.dispatchEvent(new Event("resized"));null==e&&null==t||this.dom.dispatchEvent(new Event("resized"))}buildResizers(){this.traverse((e=>{const t=e.children.filter((e=>e.hasClass("suey-tabbed")));for(const n of t){const s=n.children.filter((e=>e.hasClass("suey-resizer")));function i(e,t){const n=(new Ue).addClass("suey-resizer",e);z.setVariable("--resize-size","1em",n),z.setVariable("--offset","0em",n);let s,i,o,r,a=!1;const l={};function d(e){e.stopPropagation(),e.preventDefault(),n.dom.releasePointerCapture(e.pointerId),a=!1,document.removeEventListener("pointerup",d)}return n.on("pointerdown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.dom.setPointerCapture(e.pointerId),a=!0,s=e.pageX,i=e.pageY,o=e.pageX,r=e.pageY,document.addEventListener("pointerup",d),document.dispatchEvent(new Event("closemenu")),l.width=t.getWidth(),l.height=t.getHeight())})),n.on("pointermove",(function(e){if(!a)return;e.stopPropagation(),e.preventDefault(),e.isTrusted&&(o=e.pageX,r=e.pageY);const d=o-s,h=r-i;if(!t.parent||!t.parent.isElement)return;let c=null,u=null;n&&n.hasClassWithString("left")&&(c=l.width-d),n&&n.hasClassWithString("right")&&(c=l.width+d),n&&n.hasClassWithString("top")&&(u=l.height-h),n&&n.hasClassWithString("bottom")&&(u=l.height+h),t.updateSize(c,u)})),n}n.remove(...s);const o=[k.LEFT,k.RIGHT,k.TOP];"auto"!==n.dom.style.height&&o.push(k.BOTTOM);const r=e.dom.getBoundingClientRect();let a=e.parent;for(;o.length>0&&a&&a.hasClass("suey-docker");){for(const l of a.children){if(l===e)continue;if(!l.hasClass("suey-docker"))continue;function d(e){const t=l.getTwin();if(t){const s=i(`suey-resizer-${e}`,t);function r(){s.setStyle("display",l.hasClass("suey-collapsed")?"none":"")}n.addToSelf(s),l.dom.addEventListener("toggle",r),l.dom.addEventListener("destroy",(()=>l.dom.removeEventListener("toggle",r)),{once:!0}),s.dom.addEventListener("destroy",(()=>l.dom.removeEventListener("toggle",r)),{once:!0})}o.splice(o.indexOf(e),1)}const h=l.dom.getBoundingClientRect();o.includes(k.LEFT)&&h.right<=r.left&&d(k.LEFT),o.includes(k.RIGHT)&&h.left>=r.right&&d(k.RIGHT),o.includes(k.TOP)&&h.bottom<=r.top&&d(k.TOP),o.includes(k.BOTTOM)&&h.top>=r.bottom&&d(k.BOTTOM)}a=a.parent}}}),!0)}hideDockLocations(){this.removeClass("suey-dock-self"),this.dockLocations&&(this.remove(this.dockLocations),this.dockLocations=void 0)}showDockLocations(t=!1){if(!this.dockLocations){const n=(new Ue).addClass("suey-dock-locations");if("left"===this.initialSide||"right"===this.initialSide)if(this.getHeight()>160){const e=(new Ue).addClass("suey-dock-location","suey-dock-split-top"),t=(new Ue).addClass("suey-dock-location","suey-dock-split-bottom"),s=(new Ue).addClass("suey-dock-location","suey-dock-middle","suey-dock-middle-horizontal");n.add(e,t,s)}else{const e=(new Ue).addClass("suey-dock-location","suey-dock-middle","suey-dock-middle-horizontal");e.setStyle("top","0%","height","100%"),n.add(e)}else if("top"===this.initialSide||"bottom"===this.initialSide)if(this.getWidth()>200){const e=(new Ue).addClass("suey-dock-location","suey-dock-split-left"),t=(new Ue).addClass("suey-dock-location","suey-dock-split-right"),s=(new Ue).addClass("suey-dock-location","suey-dock-middle","suey-dock-middle-vertical");n.add(e,t,s)}else{const e=(new Ue).addClass("suey-dock-location","suey-dock-middle","suey-dock-middle-vertical");e.setStyle("left","0%","width","100%"),n.add(e)}else{const s=(new Ue).addClass("suey-dock-location","suey-dock-left"),i=(new Ue).addClass("suey-dock-location","suey-dock-right"),o=(new Ue).addClass("suey-dock-location","suey-dock-top"),r=(new Ue).addClass("suey-dock-location","suey-dock-bottom");if(t){const e="2em";s.setStyle("width",e),i.setStyle("width",e),o.setStyle("height",e),r.setStyle("height",e),n.add(s,i,o,r)}else if(this.getMainWindow()){o.setStyle("left","20%","width","60%"),r.setStyle("left","20%","width","60%");const t=(new Ue).addClass("suey-dock-location","suey-dock-center"),a=new Ke(e).evenShadow();a.firstImage()?.setStyle("filter",pe.fromColor(ze.color(b.COMPLEMENT))),a.setStyle("width","20%","height","20%"),t.add(a),n.add(s,i,o,r,t)}else o.setStyle("left","20%","width","60%","height","50%"),r.setStyle("left","20%","width","60%","height","50%"),n.add(s,i,o,r)}this.addToSelf(n),this.dockLocations=n}this.removeClass("suey-dock-self");for(const e of this.dockLocations.children)e.removeClass("suey-dock-drop"),e.removeClass("suey-dock-self")}}class Bt extends Rt{#b;constructor({style:e=y.FANCY,resizers:t="all",title:n="",draggable:s=!0,maxButton:i=!0,closeButton:o=!0,buttonSides:r=v.LEFT,width:a="60%",height:l="60%",initialWidth:d,initialHeight:h,startCentered:c=!0,left:u=0,top:m=0}={}){super({style:e});const p=this;this.addClass("suey-window","suey-hidden"),this.allowFocus(),this.isWindow=!0,this.maximized=!1,this.initialWidth=null!=d?d:a,this.initialHeight=null!=h?h:l;const g=new Ot(this,n,s,1.3);this.addToSelf(g),this.setTitle=function(e=""){g.setTitle(e)},o&&je.addCloseButton(this,r,1.7),i&&je.addMaxButton(this,r,1.7),this.buttons=(new Ue).setClass("suey-tab-buttons","suey-window-side"),this.floaters=(new Ue).setClass("suey-tab-floaters"),this.add(this.floaters),g.add(this.buttons),this.on("focusin",(()=>function(){if(document.activeElement===p.dom||!1===p.dom.contains(document.activeElement)){const e=p.findFloater(p.selectedID);e&&e.dom.dispatchEvent(new Event("activate-window"))}if(!p.hasClass("suey-active-window")&&(p.addClass("suey-active-window"),p.parent)){const e=Re.childrenWithClass(p.parent,"suey-window",!0,!1);e.forEach((e=>{e&&e.isElement&&(e=e.dom),e!==p.dom&&e.classList.remove("suey-active-window")}));const t=e.length+200;z.setVariable("--window-z-index",`${t}`,p),e.forEach((e=>{if(e===p.dom)return;let n=z.getVariable("--window-z-index",e);n>=t&&(n=t),n--,n<200&&(n=200),z.setVariable("--window-z-index",`${n}`,e)}))}}())),this.on("focusout",(()=>p.removeClass("suey-active-window")));let b={},f={};function w(){const e=getComputedStyle(p.dom),t={left:parseFloat(e.left),top:parseFloat(e.top),width:parseFloat(e.width),height:parseFloat(e.height)},n=parseInt(z.toPx("4em"));let s=Math.min(p.parentRect().width-t.width/2,t.left),i=Math.min(p.parentRect().height-n,t.top);s=Math.max(-t.width/2,s),i=Math.max(0,i),p.setStyle("top",`${i}px`),p.setStyle("left",`${s}px`)}je.makeResizeable(this,(function(){p.focus(),b=p.dom.getBoundingClientRect(),f=p.parentRect(),p.addClass("suey-window-moving")}),(function(e,t,n){if(e.hasClassWithString("left")){const e=Math.max(0,Math.min(b.right-300,b.left-f.left+t)),n=b.right-f.left-e;p.setStyle("left",`${e}px`),p.setStyle("width",`${n}px`)}if(e.hasClassWithString("top")){const e=Math.max(0,Math.min(b.bottom-150,b.top-f.top+n)),t=b.bottom-f.top-e;p.setStyle("top",`${e}px`),p.setStyle("height",`${t}px`)}if(e.hasClassWithString("right")){const e=Math.min(Math.max(300,b.width+t),f.width-(b.left-f.left));p.setStyle("width",`${e}px`)}if(e.hasClassWithString("bottom")){const e=Math.min(Math.max(150,b.height+n),f.height-(b.top-f.top));p.setStyle("height",`${e}px`)}p.removeClass("suey-maximized"),p.maximized=!1,p.dom.dispatchEvent(new Event("resizer"))}),(function(){w(),p.removeClass("suey-window-moving")})),this.addResizers(t),this.setStyle("left",z.parseSize(u),"top",z.parseSize(m),"width",z.parseSize(a),"height",z.parseSize(l)),window.addEventListener("resize",w),this.on("destroy",(()=>{window.removeEventListener("resize",w)})),this.on("displayed",(()=>{c&&p.center(),w()}))}destroy(){this.removeFloaters(),super.destroy()}setStyle(...e){super.setStyle(...e);const t=this;clearTimeout(this._styleTimeout),this._styleTimeout=setTimeout((()=>{t.dom.getBoundingClientRect().top<parseFloat(z.toPx("0.7em"))?t.addClass("suey-shrink-tab-button"):t.removeClass("suey-shrink-tab-button")}),10)}center(){const e=this.parentRect(),t=(e.width-this.getWidth())/2,n=(e.height-this.getHeight())/2;this.setStyle("left",`${t}px`,"top",`${n}px`)}parentRect(){return this.parent&&this.parent.isElement?this.parent.dom.getBoundingClientRect():document.body.getBoundingClientRect()}setInitialSize(){this.setStyle("width",z.parseSize(this.initialWidth)),this.setStyle("height",z.parseSize(this.initialHeight)),this.dom.dispatchEvent(new Event("resizer"))}showWindow(){this.display(),this.focus()}toggleMinMax(){this.removeClass("suey-docked-left","suey-docked-right","suey-docked-top","suey-docked-bottom");const e=this.parentRect();if(this.maximized){this.removeClass("suey-maximized");const t=Math.max(0,Math.min(e.width-this.#b.width,this.#b.left)),n=Math.max(0,Math.min(e.height-this.#b.height,this.#b.top));this.setStyle("left",`${t}px`),this.setStyle("top",`${n}px`),this.setStyle("width",`${this.#b.width}px`),this.setStyle("height",`${this.#b.height}px`),this.maximized=!1}else this.addClass("suey-maximized"),this.#b=this.dom.getBoundingClientRect(),this.setStyle("left","0"),this.setStyle("top","0"),this.setStyle("width",`${e.width}px`),this.setStyle("height",`${e.height}px`),this.maximized=!0;this.dom.dispatchEvent(new Event("resizer"))}dockLeft(){this.hasClass("suey-docked-left")||(this.#b=this.dom.getBoundingClientRect(),this.removeClass("suey-docked-left","suey-docked-right","suey-docked-top","suey-docked-bottom"),this.addClass("suey-docked-left")),this.setStyle("left","0"),this.setStyle("top","0"),this.setStyle("width","50%"),this.setStyle("height","100%")}dockRight(){this.hasClass("suey-docked-right")||(this.#b=this.dom.getBoundingClientRect(),this.removeClass("suey-docked-left","suey-docked-right","suey-docked-top","suey-docked-bottom"),this.addClass("suey-docked-right")),this.setStyle("left","50%"),this.setStyle("top","0"),this.setStyle("width","50%"),this.setStyle("height","100%")}dockTop(){this.hasClass("suey-docked-top")||(this.#b=this.dom.getBoundingClientRect(),this.removeClass("suey-docked-left","suey-docked-right","suey-docked-top","suey-docked-bottom"),this.addClass("suey-docked-top")),this.setStyle("left","0"),this.setStyle("top","0"),this.setStyle("width","100%"),this.setStyle("height","50%")}dockBottom(){this.hasClass("suey-docked-bottom")||(this.#b=this.dom.getBoundingClientRect(),this.removeClass("suey-docked-left","suey-docked-right","suey-docked-top","suey-docked-bottom"),this.addClass("suey-docked-bottom")),this.setStyle("left","0"),this.setStyle("top","50%"),this.setStyle("width","100%"),this.setStyle("height","50%")}undock(){if(this.hasClass("suey-docked-right")||this.hasClass("suey-docked-left")||this.hasClass("suey-docked-top")||this.hasClass("suey-docked-bottom")){const e=this.dom.getBoundingClientRect();if(this.removeClass("suey-docked-left","suey-docked-right","suey-docked-top","suey-docked-bottom"),this.#b){const t=e.left+(e.width-this.#b.width)/2;this.setStyle("left",`${t}px`),this.setStyle("width",`${this.#b.width}px`),this.setStyle("height",`${this.#b.height}px`)}}}addFloater(...e){if(!e||!Array.isArray(e))return this;let t=0;for(const n of e)n&&n.hasClass("suey-floater")&&(n.dock=this,this.floaters.add(n),this.buttons.add(n.button),t++);return t>0&&(this.tabCount()>0&&this.setStyle("display",""),""===this.selectedID&&this.selectFirst(),this.dom.dispatchEvent(new Event("tabs-changed",{bubbles:!0}))),this}findFloater(e=""){return this.floaters.children.find((t=>t.id===e))}removeFloater(e,t=!1){if("string"==typeof e&&(e=this.findFloater(e)),!e)return this;t&&e.destroy();const n=this.floaters.children.indexOf(e);if(!e||-1===n)return this;const s=this.buttons.children[n],i=this.floaters.children[n];return s&&s.removeClass("suey-selected"),i&&i.addClass("suey-hidden"),this.buttons.detach(s),this.floaters.detach(i),i.id===this.selectedID&&(n>0?this.selectFloater(this.floaters.children[n-1].id):this.floaters.children.length>0&&this.selectFirst()),this.dom.dispatchEvent(new Event("tabs-changed",{bubbles:!0})),0===this.tabCount()&&this.removeSelf(),this}removeFloaters(){const e=[...this.floaters.children];for(const t of e)this.removeFloater(t,!0);return this}selectFirst(){return this.floaters.children.length>0&&this.selectFloater(this.floaters.children[0].id),this}selectFloater(e,t=!1){if(e&&e.isElement&&(e=e.id),"string"!=typeof e)return this;if(this.selectedID===e)return this;const n=this.findFloater(e);if(n&&n.button){this.floaters.children.forEach((e=>e.hide())),this.buttons.children.forEach((e=>e.removeClass("suey-selected"))),n.display(),n.button.addClass("suey-selected"),this.selectedID=e,this.setTitle(e);const t=new Event("tab-selected",{bubbles:!0});t.value=e,this.dom.dispatchEvent(t),this.setStyle("display","")}return this}tabCount(){return this.floaters.children.length}}class Ot extends Ue{constructor(e,t="",n=!1,s=1.3){if(!e||!e.isElement)return console.warn("TitleBar: Missing window element");super(),this.setClass("suey-title-bar","suey-panel-button"),this.setStyle("height",`${s}em`,"width",6*s+"em"),this.setStyle("top",.8-(s+.28571+.071)/2+"em"),t&&"string"==typeof t&&""!=t&&this.setTitle(t),n&&je.makeDraggable(this,e,!0,(function(){e&&("function"==typeof e.focus&&e.focus(),e.addClass("suey-window-moving"))}),null,(function(){e&&e.removeClass("suey-dragging-window")})),this.on("dblclick",(function(){e&&e.isElement&&("function"==typeof e.setInitialSize&&e.setInitialSize(),"function"==typeof e.center&&e.center(),e.removeClass("suey-docked-left","suey-docked-right","suey-docked-top","suey-docked-bottom"),e.removeClass("suey-maximized"),e.maximized=!1,e.dom.dispatchEvent(new Event("resize")))}))}setTitle(e=""){e=Xe.capitalize(e);const t=this.dom.querySelector(".suey-window-title-text");if(t)t.textContent=e;else{const t=new et(e);t.addClass("suey-window-title-text"),t.setStyle("user-select","none"),this.add(t)}let n=parseFloat(z.getTextWidth(e,z.getFontCssFromElement(this.dom)));n+=parseFloat(z.toPx("4em")),z.setVariable("--title-width",`${n}px`,this),this.setStyle("width",z.toEm(`${n}px`))}}class Ht extends ot{constructor(){super({style:y.NONE}),this.addClass("suey-main-window"),this.isMainWindow=!0;const e=new Nt;this.add(e),this.docker=e;const t=(new Ue).addClass("suey-window-holder");t.getPrimary=function(){return e},this.add(t),this.windows=t}getPrimary(){return this.docker}clearDocks(){this.docker.clearDocks()}addWindow(e){let t;return t=e&&e.isElement&&e.hasClass("suey-window")?e:new Bt(e),this.windows.addToSelf(t),t.display(),t}clearWindows(){this.windows.clearContents()}clearFloaters(){this.clearDocks(),this.clearWindows()}floaters(){return Re.childrenWithClass(this,"suey-floater",!0,!1)}getFloaterByID(e){if(null!=e&&""!==e&&"string"==typeof e)return this.floaters().find((t=>t.id===e))}}const Vt=new F;class Wt extends ot{static buttonByValue(e){for(const t in E)if(E[t].value===e)return t;return"unknown"}constructor({icon:e=S.INFO,color:t,text:n="",buttons:s=[E.OKAY],defaultButton:i=E.OKAY}={}){super({style:y.FANCY});const d=this;this.addClass("suey-question"),this.allowFocus(),arguments.length>0&&"string"==typeof arguments[0]&&(n=arguments[0]),this.blackout=(new Ue).addClass("suey-screen-blackout"),this.setContentsStyle("flex-direction","row","background-color","rgba(var(--background-light), 1.0)");const h=(new Ue).addClass("suey-question-left"),c=(new Ue).addClass("suey-question-right");this.add(h,c);const u=(new Ue).addClass("suey-question-top"),m=(new Ue).addClass("suey-question-bottom");c.add(u,m),null==t&&(e===S.INFO&&(t="icon"),e===S.QUESTION&&(t="triadic2"),e===S.WARNING&&(t="complement"),e===S.ERROR&&(t="triadic1")),Object.values(b).includes(t)?Vt.set(ze.color(t)):Vt.set(t);const p=Re.childWithClass(this,"suey-panel-fancy-border");p&&p.setStyle("border-color",Vt.cssString()),e===S.INFO?e=r:e===S.QUESTION?e=o:e===S.WARNING?e=l:e===S.ERROR&&(e=a),e&&h.add(new Ke(e).setColor(t)),u.add(new et(n).setStyle("margin","auto 0")),0===(s=Array.isArray(s)?s:[]).length&&s.push(E.OKAY),m.add(new tt);let g=null,f=null;for(const e of s){const n=e.value??0,s=new Ge(e.text??"???");s.setColor(t),s.setStyle("margin","0.1em"),s.allowFocus(),s.onPress((()=>{d.answered(n)})),s.dom.buttonValue=n,m.add(s),i&&i.value===n&&(g=s),f=s}g||(g=f),this.focusedButton=g}destroy(){this.blackout.destroy(),super.destroy()}alert(e=(e=>{})){this.callback=e,document.body.appendChild(this.blackout.dom),document.body.appendChild(this.dom),this.display(),this.focus(),this.focusedButton.focus(),document.addEventListener("keydown",this.handleKeyDown.bind(this))}answered(e){document.body.removeChild(this.dom),document.body.removeChild(this.blackout.dom),this.callback&&"function"==typeof this.callback&&this.callback(e),document.removeEventListener("keydown",this.handleKeyDown.bind(this)),this.callback=null,this.removeSelf()}handleKeyDown(e){if("Tab"===e.key){e.preventDefault();const t=Array.from(this.contents().dom.querySelectorAll("button"));if(t.length>0){const e=t.findIndex((e=>e===document.activeElement));t[(e+1)%t.length].focus()}}if("Escape"===e.key){e.preventDefault();const t=Array.from(this.contents().dom.querySelectorAll("button"));if(t.length>0){for(const e of t)if(e.buttonValue===E.CANCEL.value)return this.answered(E.CANCEL.value);for(const e of t)if(e.buttonValue===E.NO.value)return this.answered(E.NO.value);for(const e of t)if(e.buttonValue===E.OKAY.value)return this.answered(E.OKAY.value)}}}}class $t extends Oe{constructor(){super(document.createElement("textarea"));const e=this;this.setClass("suey-text-area"),this.dom.spellcheck=!1,this.setAttribute("autocomplete","off"),this.on("keydown",(function(t){if(t.stopPropagation(),"Tab"===t.key){t.preventDefault();const n=e.dom.selectionStart;e.dom.value=e.dom.value.substring(0,n)+"\t"+e.dom.value.substring(n),e.dom.selectionStart=n+1,e.dom.selectionEnd=e.dom.selectionStart}}))}getValue(){return this.dom?this.dom.value:null}setValue(e){return this.dom?(this.dom.value=e,this):this}}class Gt extends Ue{constructor(){super(),this.setClass("suey-absolute-box")}}class Ut extends Ue{constructor(e="",t="icon",n=!0){super(),this.setClass("suey-asset-box"),this.allowFocus(),e&&"string"==typeof e&&""!==e||(e="No Name"),this.setAttribute("tooltip",e),this.name=e;const s=new Ke;if(s.dom.draggable=!0,"icon"==t)n&&(this.addClass("suey-asset-box-mini"),this.addClass("suey-asset-box-selectable")),this.add(s);else if("text"==t){n&&(this.addClass("suey-asset-box-mini"),this.addClass("suey-asset-box-combo"),this.addClass("suey-asset-box-selectable")),s.setStyle("transform","translate(-50%, -65%) scale(0.8)"),this.add(s);const t=new Ue(e).setClass("suey-asset-box-label");this.add(t)}else{this.addClass("suey-asset-box-row"),this.addClass("suey-asset-box-selectable");const t=(new et).setClass("suey-asset-box-icon").add(s),n=new et(e).setClass("suey-asset-box-text");this.add(t,n),this.assetText=n}this.contents=function(){return s}}}class _t extends Oe{constructor(){super(document.createElement("div")),this.addClass("suey-flex-box")}}const Yt=new F;class Kt extends Ge{constructor(e="",t="none"){switch(super(e,!0),this.setClass("suey-toolbar-button"),this.setStyle("pointerEvents","all"),t){case"left":this.addClass("suey-button-left");break;case"middle":this.addClass("suey-button-middle");break;case"right":this.addClass("suey-button-right")}const n=(new Ue).addClass("suey-button-background");this.add(n),this.buttonBackground=n;const s=(new Ke).setStyle("pointer-events","none");this.add(s),this.contents=function(){return s},this.on("pointerdown",(e=>{e.stopPropagation()})),this.on("pointerup",(e=>{e.stopPropagation()}))}setColor(e){return e="string"==typeof e&&Object.values(b).includes(e)?`var(--${e})`:Yt.set(e).rgbString(),this.buttonBackground.setStyle("background-image",`linear-gradient(to bottom, rgba(${e}, 0.9), rgba(${e}, 0.65))`),this}}class jt extends Oe{constructor(){super(document.createElement("div")),this.setClass("suey-toolbar-separator")}}class Xt extends Oe{constructor(e=1){super(document.createElement("div")),this.setClass("suey-toolbar-spacer"),this.setStyle("width",`calc(var(--button-size) * ${e})`)}}const qt=new F;class Zt extends ot{#y=1;#f={x:0,y:0};#v={x:0,y:0};#w=0;#x=0;constructor({snapToGrid:e=!0,curveType:t=I.CURVE,gridType:n=L.LINES}={}){super();const s=this;this.activeItem=void 0,this.connectItem=void 0,this.activePoint={x:0,y:0},this.curveType=t,this.gridType=n,this.snapToGrid=e,this.input=(new Ue).setClass("suey-graph-input"),this.grid=(new Ue).setClass("suey-graph-grid"),this.nodes=(new Ue).setClass("suey-graph-nodes"),this.lines=new Mt(2048,2048).setClass("suey-graph-lines"),this.bandbox=(new Ue).setClass("suey-graph-band-box"),this.minimap=(new Ue).setClass("suey-mini-map"),this.add(this.input,this.grid,this.lines,this.nodes,this.bandbox,this.minimap),this.mapCanvas=new Mt(1024,1024).setClass("suey-mini-map-canvas");const i=(new Ue).addClass("suey-mini-map-resizers");function o(){s.stopAnimation(),s.zoomTo()}this.minimap.add(this.mapCanvas,i),this.changeGridType(n),this.on("wheel",(function(e){e.preventDefault();const t=.001*e.deltaY;s.stopAnimation(),s.zoomTo(s.#y-t,e.clientX,e.clientY)})),window.addEventListener("resize",o),this.on("destroy",(()=>{window.removeEventListener("resize",o)}));let r=!1,a=!1,l=!1;document.addEventListener("keydown",(function(e){s.isHidden()||" "===e.key&&(l=!0,s.dom.style.cursor=r?"grabbing":"grab",s.input.setStyle("z-index","100"))})),document.addEventListener("keyup",(function(e){s.isHidden()||" "===e.key&&(l=!1,s.dom.style.cursor="auto",s.input.setStyle("z-index","-1"))}));let d={x:0,y:0},h={x:0,y:0};function c(e){e.stopPropagation(),e.preventDefault(),s.dom.releasePointerCapture(e.pointerId),r&&(s.dom.style.cursor=l?"grab":"auto",r=!1),a&&(s.dom.dispatchEvent(new Event("selected")),s.bandbox.setStyle("display","none"),a=!1),document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",c)}function u(e){if(e.stopPropagation(),e.preventDefault(),r){const t=(e.clientX-h.x)*(1/s.#y),n=(e.clientY-h.y)*(1/s.#y);s.#f.x=d.x+t,s.#f.y=d.y+n,s.zoomTo(null,null,null,!1)}else a&&m(e.clientX,e.clientY)}function m(e,t){const n=s.input.dom.getBoundingClientRect(),i=Math.min(h.x,e)-n.left,o=Math.min(h.y,t)-n.top,r=Math.abs(h.x-e),a=Math.abs(h.y-t);s.bandbox.setStyle("left",`${i}px`,"top",`${o}px`,"width",`${r}px`,"height",`${a}px`);const l=s.dom.getBoundingClientRect(),d=l.left+(l.right-l.left)/2,c=l.top+(l.bottom-l.top)/2,u=(d-i)/d,m=(c-o)/c,p=d-l.width/s.#y/2*u-s.#f.x,g=c-l.height/s.#y/2*m-s.#f.y,b=p+r/s.#y,y=g+a/s.#y;const f=[],v=s.getNodes();v.forEach((e=>{(function(e){return b>=e.left&&p<=e.right&&g<=e.bottom&&y>=e.top})(e)&&f.push(e)})),v.forEach((e=>{e.wantsClass("suey-node-selected",f.includes(e))}))}this.input.on("pointerdown",(function(e){if(s.stopAnimation(),h.x=e.clientX,h.y=e.clientY,2===e.button||0===e.button&&l)r=!0,s.dom.style.cursor="grabbing",d.x=s.#f.x,d.y=s.#f.y;else if(0===e.button){a=!0;document.querySelectorAll(".suey-node-selected").forEach((e=>e.classList.remove("suey-node-selected"))),s.bandbox.setStyle("display","block"),m(e.clientX,e.clientY)}(r||a)&&(s.dom.setPointerCapture(e.pointerId),document.addEventListener("pointermove",u),document.addEventListener("pointerup",c))}));let p={};je.makeResizeable(i,(function(){p=s.minimap.dom.getBoundingClientRect()}),(function(e,t,n){if(e.hasClassWithString("left")){const e=Math.max(0,Math.min(p.right-100,p.left+t)),n=p.right-e;s.minimap.setStyle("left",`${e}px`),s.minimap.setStyle("width",`${n}px`)}if(e.hasClassWithString("top")){const e=Math.max(0,Math.min(p.bottom-100,p.top+n)),t=p.bottom-e;s.minimap.setStyle("top",`${e}px`),s.minimap.setStyle("height",`${t}px`)}if(e.hasClassWithString("right")){const e=Math.min(Math.max(100,p.width+t),window.innerWidth-p.left);s.minimap.setStyle("width",`${e}px`)}if(e.hasClassWithString("bottom")){const e=Math.min(Math.max(100,p.height+n),window.innerHeight-p.top);s.minimap.setStyle("height",`${e}px`)}s.drawMiniMap(),s.drawLines()})).addResizers([k.LEFT,k.TOP]);let g=!1;function b(e,t){const n=s.minimap.dom.getBoundingClientRect(),i=s.nodes.dom.getBoundingClientRect(),o=(n.width/2-(e-n.left))/(n.width/2),r=(n.height/2-(t-n.top))/(n.height/2),a=s.nodeBounds(100,s.nodes.children,1200);if(a.isFinite){if(s.#w>s.#x){const e=s.#w/s.#x,t=a.center().x-a.width()/2*o,n=a.center().y-a.height()/2*e*r;s.#f.x=i.width/2/s.#y-t,s.#f.y=i.height/2/s.#y-n}else{const e=s.#x/s.#w,t=a.center().x-a.width()/2*e*o,n=a.center().y-a.height()/2*r;s.#f.x=i.width/2/s.#y-t,s.#f.y=i.height/2/s.#y-n}s.zoomTo(null,null,null,!1)}}this.minimap.on("pointerdown",(function(e){s.stopAnimation(),s.minimap.dom.setPointerCapture(e.pointerId),s.minimap.setStyle("cursor","grabbing"),b(e.clientX,e.clientY),g=!0})),this.minimap.on("pointerup",(function(e){s.minimap.dom.releasePointerCapture(e.pointerId),s.minimap.setStyle("cursor","grab"),g=!1})),this.minimap.on("pointermove",(function(e){g&&b(e.clientX,e.clientY)}))}getScale(){return this.#y}addNode(){for(let e=0,t=arguments.length;e<t;e++){const t=arguments[e];this.nodes&&(t.graph=this,this.nodes.add(t),t.setStyle("zIndex",this.nodes.children.length))}this.drawMiniMap(),this.drawLines()}getNodes(){return this.nodes.children}removeNode(e){if(!e||!e.isElement)return;const t=e.zIndex,n=this.nodes.children.length;this.nodes.remove(e);n!==this.nodes.children.length&&(this.nodes.children.forEach((e=>{e.zIndex>t&&e.setStyle("zIndex",""+(e.zIndex-1))})),this.drawMiniMap(),this.drawLines())}nodeBounds(e=0,t=this.nodes.children,n=void 0){const s={x:{min:1/0,max:-1/0},y:{min:1/0,max:-1/0},isFinite:!1,center:function(){return{x:0,y:0}}};if(t.forEach((e=>{s.x.min=Math.min(s.x.min,e.left),s.x.max=Math.max(s.x.max,e.right),s.y.min=Math.min(s.y.min,e.top),s.y.max=Math.max(s.y.max,e.bottom)})),s.x.max>s.x.min&&s.y.max>s.y.min&&(s.isFinite=!0,s.center=function(){return{x:s.x.min+(s.x.max-s.x.min)/2,y:s.y.min+(s.y.max-s.y.min)/2}},s.width=()=>s.x.max-s.x.min,s.height=()=>s.y.max-s.y.min,s.x.min-=e,s.x.max+=e,s.y.min-=e,s.y.max+=e,n)){if(s.width()<n){const e=(n-s.width())/2;s.x.min-=e,s.x.max+=e}if(s.height()<n){const e=(n-s.height())/2;s.y.min-=e,s.y.max+=e}}return s}traverseNodes(e){if("function"!=typeof e)return;if(!this.nodes)return;const t=this.nodes.children;t.sort(((e,t)=>e.zIndex-t.zIndex));for(let n=0;n<t.length;n++){const s=t[n];s&&s.isNode&&e(s)}}changeGridType(e=L.LINES){const t=100,n=50;if(this.gridType=e,e===L.LINES){const e=new Mt(t,t),s=e.ctx;s.clearRect(0,0,e.width,e.height),s.globalAlpha=.55,s.fillStyle=qt.set(ze.color(b.BUTTON_LIGHT)).cssString(),s.fillRect(0,0,50,50),s.fillRect(50,50,50,50),s.globalAlpha=.45,s.fillStyle=qt.set(ze.color(b.BUTTON_LIGHT)).cssString(),s.fillRect(50,0,50,50),s.fillRect(0,50,50,50),s.globalAlpha=1,s.lineWidth=0,s.strokeStyle=qt.set(ze.color(b.BACKGROUND_LIGHT)).cssString(),s.strokeRect(0,0,n,n),s.strokeRect(n,n,n,n),s.strokeRect(n,0,n,n),s.strokeRect(0,n,n,n),this.grid.setStyle("background-image",`url('${e.dom.toDataURL()}')`),this.grid.setStyle("background-size",d*this.#y*2+"px")}else if(e===L.DOTS){const e=4,s=new Mt(t,t),i=s.ctx;i.globalAlpha=.5,i.fillStyle=qt.set(ze.color(b.BUTTON_LIGHT)).cssString(),i.fillRect(0,0,s.width,s.height),i.fillStyle=qt.set(ze.color(b.BUTTON_LIGHT)).cssString();for(let t=0;t<3;t++)for(let s=0;s<3;s++)i.beginPath(),i.ellipse(n*t,n*s,e,e,0,0,2*Math.PI),i.fill();this.grid.setStyle("background-image",`url('${s.dom.toDataURL()}')`),this.grid.setStyle("background-size",d*this.#y*2+"px")}}connect(){if(this.activeItem&&this.connectItem){const e=this.activeItem,t=this.connectItem;e.type===M.OUTPUT?e.connect(t):t.type===M.OUTPUT&&t.connect(e)}this.activeItem=void 0,this.connectItem=void 0,this.drawLines()}disconnect(e){this.traverseNodes((t=>{t.outputList.children.forEach((t=>{const n=t.connections.indexOf(e);n>-1&&(t.connections.splice(n,1),e.reduceIncoming()),0===t.connections.length&&t.removeClass("suey-item-connected")}))}))}drawLines(){if(!this.lines)return;if(this.isHidden())return;const e=this,t=this.lines,n=t.dom.getBoundingClientRect(),s=n.left,i=n.right,o=n.top,r=n.bottom,a=t.ctx;function l(e){return e/n.width*t.width}function d(e){return e/n.height*t.height}function h(t,n,h,c,u=10,m="#ffffff",p=m,g=!1){if(i>=(t<h?t:h)&&s<=(t<h?h:t)&&o<=(n<c?c:n)&&r>=(n<c?n:c)){if(t=l(t),n=d(n),h=l(h),c=d(c),a.globalAlpha=1,g){const e=l(u),s=d(u);a.fillStyle=m,a.beginPath(),a.ellipse(t,n,e,s,0,0,2*Math.PI),a.fill(),a.fillStyle=p,a.beginPath(),a.ellipse(h,c,e,s,0,0,2*Math.PI),a.fill()}!function(t,n,s,i,o,r=o){if(Number.isFinite(t)&&!Number.isNaN(t)&&Number.isFinite(s)&&!Number.isNaN(s)&&Number.isFinite(n)&&!Number.isNaN(n)&&Number.isFinite(i)&&!Number.isNaN(i)){if(a.strokeStyle=o,null!=r&&o!==r){const e=a.createLinearGradient(t,n,s,i);e.addColorStop(0,o),e.addColorStop(1,r),a.strokeStyle=e}switch(a.lineWidth=4*e.#y,a.beginPath(),a.moveTo(t,n),e.curveType){case I.STRAIGHT:a.lineTo(s,i);break;case I.ZIGZAG:const e=Math.abs(.25*(s-t));a.lineTo(t+e,n),a.lineTo(s-e,i),a.lineTo(s,i);break;default:const o=Math.abs(.5*(s-t));a.bezierCurveTo(t+o,n,s-o,i,s,i)}a.stroke()}}(t,n,h,c,m,p)}}a.clearRect(0,0,t.width,t.height);const c=parseFloat(z.toPx("0.21429em",this.dom))*this.#y;if(this.traverseNodes((e=>{e.outputList&&e.outputList.children.forEach((e=>{const t=e.point.dom.getBoundingClientRect(),n=t.left+t.width/2,s=t.top+t.height/2,i=e.node.colorString();e.connections.forEach((e=>{const t=e.point.dom.getBoundingClientRect(),o=t.left+t.width/2,r=t.top+t.height/2,a=e.node.colorString();h(n,s,o,r,c,i,a)}))}))})),this.activeItem){const e=this.activeItem.point.dom.getBoundingClientRect(),t=e.left+e.width/2,n=e.top+e.height/2,s=this.activePoint.x,i=this.activePoint.y,o=this.activeItem.node.colorString(),r=this.activeItem.type===M.OUTPUT,a=!this.connectItem;r?h(t,n,s,i,c,o,o,a):h(s,i,t,n,c,o,o,a)}}drawMiniMap(){if(!this.mapCanvas)return;if(this.isHidden())return;const e=this.mapCanvas,t=e.ctx;t.clearRect(0,0,e.width,e.height);const n=this.nodeBounds(100,this.nodes.children,1200);if(!n.isFinite)return;this.#w=e.width,this.#x=e.height;let s=0,i=0;const o=e.width/n.width(),r=e.height/n.height()*this.mapCanvas.ratio();o>r?(this.#w*=r/o,s=(this.#w-e.width)/2):(this.#x*=o/r,i=(this.#x-e.height)/2);const a=this.dom.getBoundingClientRect(),l={},d=a.left+(a.right-a.left)/2,h=a.top+(a.bottom-a.top)/2;l.left=d-a.width/this.#y/2-this.#f.x,l.top=h-a.height/this.#y/2-this.#f.y,l.width=a.width/this.#y,l.height=a.height/this.#y;const c=this.#w*((l.left-n.x.min)/n.width())-s,u=this.#x*((l.top-n.y.min)/n.height())-i,m=this.#w*(l.width/n.width()),p=this.#x*(l.height/n.height());t.globalAlpha=.5,t.fillStyle=qt.set(ze.color(b.BUTTON_LIGHT)).cssString(),t.fillRect(c,u,m,p);const g=this.minimap.getWidth()/this.mapCanvas.width,y=this.minimap.getHeight()/this.mapCanvas.height;t.globalAlpha=.75,t.strokeStyle=qt.set(ze.color(b.TEXT)).cssString(),t.lineWidth=2/g,t.beginPath(),t.moveTo(c+0,u),t.lineTo(c+0,u+p),t.stroke(),t.beginPath(),t.moveTo(c+m,u),t.lineTo(c+m,u+p),t.stroke(),t.lineWidth=2/y,t.beginPath(),t.moveTo(c,u+0),t.lineTo(c+m,u+0),t.stroke(),t.beginPath(),t.moveTo(c,u+p),t.lineTo(c+m,u+p),t.stroke(),t.globalAlpha=.5,t.globalAlpha=.75,this.traverseNodes((e=>{t.fillStyle=e.colorString();const o=this.#w*((e.left-n.x.min)/n.width()),r=this.#w*(e.width/n.width()),a=this.#x*((e.top-n.y.min)/n.height()),l=this.#x*(e.height/n.height());t.beginPath(),t.roundRect(o-s,a-i,r,l,0),t.fill()}))}centerView(e=!0,t=!0){const n=[];this.traverseNodes((e=>{e.hasClass("suey-node-selected")&&n.push(e)}));const s=this.nodeBounds(0,n.length>0?n:this.nodes.children);this.focusView(s.center().x,s.center().y,e,t)}focusView(e,t,n=!1,s=!0){if(null==e||null==t)return;const i=this.nodes.dom.getBoundingClientRect();if(this.#k=i.width/2/this.#y-e,this.#C=i.height/2/this.#y-t,this.#S=1e3*(n?1:this.#y),s){const e=this;this.#T=performance.now(),this.#E=performance.now(),this.#I=1e3*this.#y,this.#L=setInterval((()=>{function t(e,t,n,s){return function(e,t,n){return(1-n)*e+n*t}(e,t,1-Math.exp(-n*s))}this.#M=!0;const n=(performance.now()-e.#T)/1e3,s=(performance.now()-e.#E)/1e3;e.#f.x=t(e.#f.x,e.#k,15,s),e.#f.y=t(e.#f.y,e.#C,15,s),e.#I=t(e.#I,e.#S,15*(n+.5),s);const i=Math.abs(e.#f.x-e.#k),o=Math.abs(e.#f.y-e.#C),r=Math.abs(e.#I-e.#S);i<.5&&o<.5&&r<.01&&e.stopAnimation(),n>2.5&&e.stopAnimation(),e.zoomTo(e.#I/1e3),e.#E=performance.now()}),4)}else this.#f.x=this.#k,this.#f.y=this.#C,this.zoomTo(this.#S/1e3)}#M=!1;#L=void 0;#T=0;#E=0;#k=0;#C=0;#I=0;#S=0;stopAnimation(){clearInterval(this.#L),this.#M&&(this.#M=!1,this.#f.x=this.#k,this.#f.y=this.#C,this.zoomTo(this.#S/1e3))}zoomTo(e,t,n,s=!0){null==e&&(e=this.#y),e=Math.round(100*Math.min(Math.max(e,.1),4))/100;const i=this.nodes,o=this.grid;if(null!=t&&null!=n){const s=i.dom.getBoundingClientRect();i.setStyle("transform",`scale(${e}) translate(${this.#f.x}px, ${this.#f.y}px)`);const o=i.dom.getBoundingClientRect();t-=s.left,n-=s.top;const r=o.left-s.left,a=o.top-s.top,l=t-t/this.#y*e,d=n-n/this.#y*e;this.#f.x-=(r-l)/e,this.#f.y-=(a-d)/e}i.setStyle("transform",`scale(${e}) translate(${this.#f.x}px, ${this.#f.y}px)`),this.#y=e,this.#v.x=this.#f.x,this.#v.y=this.#f.y;const r=this.dom.getBoundingClientRect(),a=(r.width-r.width*e)/2,l=(r.height-r.height*e)/2,h=this.#f.x*e,c=this.#f.y*e;o.setStyle("background-position",`left ${a+h}px top ${l+c}px`),o.setStyle("background-size",d*this.#y*2+"px"),o.setStyle("opacity",this.#y<1?this.#y*this.#y:"1");document.querySelectorAll(".suey-node").forEach((t=>{e<.5?t.classList.add("suey-too-small"):t.classList.remove("suey-too-small")})),this.drawMiniMap(),s&&this.drawLines()}}const Qt=new F,Jt=new F;class en extends Ue{#z=new F;#R={};#P=!0;#D={x:0,y:0};constructor({width:e=200,height:t=150,x:n=0,y:s=0,color:i=8947848,resizers:o=[k.TOP,k.BOTTOM,k.LEFT,k.RIGHT]}={}){super();const r=this;this.addClass("suey-node"),this.allowMouseFocus(),this.isNode=!0,this.graph=void 0,this.#z.set(i);const a=(new Ue).addClass("suey-node-panel"),l=(new Ue).addClass("suey-node-border"),d=(new Ue).addClass("suey-node-resizers");this.addToSelf(d,a,l),this.contents=function(){return a},this.header=(new Ue).setClass("suey-node-header-title").setStyle("display","none");const h=(new Ue).setClass("suey-node-interior");this.inputList=(new Ue).setClass("suey-node-item-list"),this.outputList=(new Ue).setClass("suey-node-item-list"),h.add(this.inputList,this.outputList),this.add(this.header,h),this.on("focusout",(()=>r.removeClass("suey-active-node"))),this.on("focusin",(()=>r.activeNode())),this.on("displayed",(()=>r.activeNode())),this.on("pointerdown",(()=>r.activeNode())),this.on("contextmenu",(e=>{e.preventDefault()}));let c,u={};je.makeResizeable(d,(function(){u.left=r.left,u.top=r.top,u.width=r.width,u.height=r.height,y()}),(function(e,t,n){const s=r.getScale();if(t*=1/s,n*=1/s,e.hasClassWithString("left")){const e=Math.max(r.roundNearest(u.width-t),200),n=u.left+(u.width-e);r.setStyle("left",`${n}px`,"width",`${e}px`)}if(e.hasClassWithString("top")){const e=Math.max(r.roundNearest(u.height-n),100),t=u.top+(u.height-e);r.setStyle("top",`${t}px`,"height",`${e}px`)}if(e.hasClassWithString("right")){const e=Math.max(r.roundNearest(u.width+t),200);r.setStyle("width",`${e}px`)}if(e.hasClassWithString("bottom")){const e=Math.max(r.roundNearest(u.height+n),100);r.setStyle("height",`${e}px`)}})).addResizers(o);const m=new MutationObserver((()=>{r.needsUpdate=!0,clearTimeout(c),c=setTimeout((()=>r.#A()),4)}));m.observe(this.dom,{attributes:!0,attributeFilter:["style","class"]}),this.setStyle("left",`${this.roundNearest(parseFloat(n))}px`,"top",`${this.roundNearest(parseFloat(s))}px`,"width",`${parseFloat(e)}px`,"height",`${parseFloat(t)}px`);let p,g=0,b=!1;function y(e){if(g++,e&&0!==e.button)return void(r.graph&&setTimeout((()=>r.graph.input.dom.dispatchEvent(e)),0));if(r.graph){const e=r.graph.getNodes();r.zIndex!==e.length&&(e.forEach((e=>e.setStyle("zIndex",""+(e.zIndex-1)))),r.setStyle("zIndex",e.length))}const t=document.querySelectorAll(".suey-node-selected");r.hasClass("suey-node-selected")?t.length>1&&(b=!0):(t.forEach((e=>{e!==r.dom&&e.classList.remove("suey-node-selected")})),r.addClass("suey-node-selected"),r.graph&&r.graph.dom.dispatchEvent(new Event("selected")),b=!1),document.addEventListener("pointerup",f)}function f(){clearTimeout(p),p=setTimeout((()=>{if(b&&1===g){document.querySelectorAll(".suey-node-selected").forEach((e=>{e!==r.dom&&e.classList.remove("suey-node-selected")})),r.addClass("suey-node-selected"),r.graph&&r.graph.dom.dispatchEvent(new Event("selected"))}g=0,b=!1}),250),document.removeEventListener("pointerup",f)}je.makeDraggable(r,r,!1,(function(){r.graph&&r.graph.getNodes().forEach((e=>e.setStartPosition(e.left,e.top)))}),(function(e,t){b=!1,g=0,r.graph&&r.graph.getNodes().forEach((n=>{n.hasClass("suey-node-selected")&&(n.setStyle("left",`${r.roundNearest(n.getStartPosition().x+e)}px`),n.setStyle("top",`${r.roundNearest(n.getStartPosition().y+t)}px`))}))}),(function(){r.graph&&r.dom.dispatchEvent(new Event("dragged"))})),this.on("pointerdown",y),this.on("dblclick",(function(){r.graph&&r.graph.centerView(!1,!0)})),this.on("destroy",(()=>{m&&m.disconnect()}))}get needsUpdate(){return this.#P}set needsUpdate(e){this.#P=e}#A(){if(!this.#P)return;const e=getComputedStyle(this.dom),t=this.#R;t.left=parseFloat(e.left),t.top=parseFloat(e.top),t.width=parseFloat(e.width),t.height=parseFloat(e.height),t.right=t.left+t.width,t.bottom=t.top+t.height,t.zIndex=parseInt(e.zIndex),this.#P=!1;const n=this;this.graph&&setTimeout((()=>{n.graph.drawMiniMap(),n.graph.drawLines()}),20)}get left(){return this.#A(),this.#R.left}get top(){return this.#A(),this.#R.top}get width(){return this.#A(),this.#R.width}get height(){return this.#A(),this.#R.height}get right(){return this.#A(),this.#R.right}get bottom(){return this.#A(),this.#R.bottom}get zIndex(){return this.#A(),this.#R.zIndex}roundNearest(e,t=25){return this.graph&&this.graph.snapToGrid?Math.round(e/t)*t:e}getScale(){return this.graph?this.graph.getScale():1}getStartPosition(){return this.#D}setStartPosition(e=0,t=0){this.#D.x=e,this.#D.y=t}addItem(e){switch(e.node=this,e.type){case M.INPUT:this.inputList.add(e);break;case M.OUTPUT:this.outputList.add(e)}}createHeader(e="",t){if(this.header.children.length>0)return;const n=new Ye(t),s=(new et).setClass("suey-node-header-icon").add(n),i=(new et).setClass("suey-node-header-text").setTextContent(e);this.header.add(s,i),this.header.setStyle("display",""),this.applyColor(),this.name=e}activeNode(e="suey-node"){const t=this.dom;document.querySelectorAll(`.${e}`).forEach((e=>{e!==t&&e.classList.remove("suey-active-node")})),t.classList.add("suey-active-node")}applyColor(e){void 0!==e&&this.#z.set(e);const t=Jt.set(this.#z).darken(1.3).rgbString(),n=Qt.set(this.#z).darken(.7).rgbString();this.header&&this.header.setStyle("background-image",`linear-gradient(to bottom, rgba(${t}, 0.75), rgba(${n}, 0.75))`),z.setVariable("--node-color",Qt.set(this.#z).rgbString(),this.dom)}colorString(){return this.#z.cssString()}}class tn extends Ue{constructor({quantity:e=1,type:t=M.INPUT,title:s=""}={}){super(s);const i=this;this.addClass("suey-node-item");const o=new Ye(n);switch(this.point=(new Ue).addClass("suey-node-item-point"),this.unhook=(new Ue).addClass("suey-node-item-unhook").add(o),this.add(this.point,this.unhook),this.connections=[],this.incoming=0,this.quantity=e,this.type=t,this.node=this,t){case M.INPUT:this.addClass("suey-node-left");break;case M.OUTPUT:this.addClass("suey-node-right")}function r(e){e.stopPropagation(),e.preventDefault(),i.point.removeClass("suey-active-item"),i.graph().connect(),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",r)}function a(e){e.stopPropagation(),e.preventDefault(),i.graph().activePoint.x=e.clientX,i.graph().activePoint.y=e.clientY,i.graph().drawLines()}this.graph=()=>i.node&&i.node.graph?i.node.graph:void 0,this.point.on("pointerdown",(function(e){0===e.button&&i.graph()&&(e.stopPropagation(),e.preventDefault(),document.addEventListener("pointermove",a),document.addEventListener("pointerup",r),i.point.addClass("suey-active-item"),i.graph().activeItem=i,i.graph().activePoint.x=e.clientX,i.graph().activePoint.y=e.clientY,i.graph().drawLines())})),this.point.on("pointerenter",(function(e){i.graph()&&i.graph().activeItem?i.type!==i.graph().activeItem.type&&(i.graph().connectItem=i,i.graph().activeItem&&i.point.addClass("suey-active-item"),i.point.addClass("suey-hover-point")):i.point.addClass("suey-hover-point")})),this.point.on("pointerleave",(function(e){i.graph()&&(i.graph().connectItem=void 0,i.graph().activeItem!==i&&i.point.removeClass("suey-active-item")),i.point.removeClass("suey-hover-point")})),this.unhook.on("pointerdown",(function(e){i.hasClass("suey-item-connected")&&0===e.button&&(e.stopPropagation(),e.preventDefault(),i.disconnect())}))}connect(e){e!==this&&(this.connections.includes(e)||(this.connections.length>=this.quantity&&(this.connections[this.connections.length-1].reduceIncoming(),this.connections.length=Math.max(0,this.connections.length-1)),this.connections.length<this.quantity&&(e.increaseIncoming(),this.connections.push(e))),this.wantsClass("suey-item-connected",this.connections.length>0))}disconnect(){switch(this.type){case M.OUTPUT:for(let e=0;e<this.connections.length;e++)this.connections[e].reduceIncoming();this.connections.length=0;break;case M.INPUT:this.graph()&&this.graph().disconnect(this)}this.removeClass("suey-item-connected"),this.graph()&&this.graph().drawLines()}increaseIncoming(){this.incoming++,this.addClass("suey-item-connected")}reduceIncoming(){this.incoming>0&&this.incoming--,0===this.incoming&&this.removeClass("suey-item-connected")}}class nn extends ot{constructor({style:e=y.NONE}={}){super(e),this.addClass("suey-scroller")}}class sn{constructor(){this.events=[]}add(e,t,n){this.events.push([e,t,n,!1])}clear(){this.destroy(),this.events=[]}create(){for(let e=0;e<this.events.length;e++){const t=this.events[e];t[0].addEventListener(t[1],t[2]),t[3]=!0}}destroy(){for(let e=0;e<this.events.length;e++){const t=this.events[e];t[0].removeEventListener(t[1],t[2]),t[3]=!1}}}class on{constructor(e,t){this.x=e||0,this.y=t||0}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}clone(){return new on(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(e){let t=Math.atan2(this.y,this.x);return e&&t<0&&(t+=2*Math.PI),t}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}equals(e){return e.x===this.x&&e.y===this.y}toArray(){return[this.x,this.y]}fromArray(e){return this.set(e[0],e[1]),this}rotateAround(e,t){let n=Math.cos(t),s=Math.sin(t),i=this.x-e.x,o=this.y-e.y;this.x=i*n-o*s+e.x,this.y=i*s+o*n+e.y}}class rn{constructor(e=[]){Array.isArray(e)?this.m=[...e]:this.identity()}copy(e){return this.m=e.m.slice(0),this}clone(){return new rn(this.m.slice(0))}identity(){return this.m=[1,0,0,1,0,0],this}multiply(e){let t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],s=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],r=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m=[t,n,s,i,o,r],this}premultiply(e){let t=e.m[0]*this.m[0]+e.m[2]*this.m[1],n=e.m[1]*this.m[0]+e.m[3]*this.m[1],s=e.m[0]*this.m[2]+e.m[2]*this.m[3],i=e.m[1]*this.m[2]+e.m[3]*this.m[3],o=e.m[0]*this.m[4]+e.m[2]*this.m[5]+e.m[4],r=e.m[1]*this.m[4]+e.m[3]*this.m[5]+e.m[5];this.m=[t,n,s,i,o,r]}compose(e,t,n,s,i,o,r){if(this.m=[1,0,0,1,e,t],0!==r){const e=Math.cos(r),t=Math.sin(r);this.multiply(new rn([e,t,-t,e,0,0]))}return 1===n&&1===s||this.scale(n,s),0===i&&0===o||this.multiply(new rn([1,0,0,1,-i,-o])),this}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}rotate(e){let t=Math.cos(e),n=Math.sin(e),s=this.m[0]*t+this.m[2]*n,i=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,r=this.m[1]*-n+this.m[3]*t;return this.m[0]=s,this.m[1]=i,this.m[2]=o,this.m[3]=r,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}setPosition(e,t){return this.m[4]=e,this.m[5]=t,this}getScale(){return new on(this.m[0],this.m[3])}getPosition(){return new on(this.m[4],this.m[5])}skew(e,t){return this.multiply(new rn([1,Math.tan(t),Math.tan(e),1,0,0]))}determinant(){return 1/(this.m[0]*this.m[3]-this.m[1]*this.m[2])}getInverse(){const e=this.determinant();return new rn([this.m[3]*e,-this.m[1]*e,-this.m[2]*e,this.m[0]*e,e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),e*(this.m[1]*this.m[4]-this.m[0]*this.m[5])])}transformPoint(e){const t=e.x*this.m[0]+e.y*this.m[2]+this.m[4],n=e.x*this.m[1]+e.y*this.m[3]+this.m[5];return new on(t,n)}setContextTransform(e){return e.setTransform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5]),this}tranformContext(e){return e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5]),this}cssTransform(){return"matrix("+this.m[0]+","+this.m[1]+","+this.m[2]+","+this.m[3]+","+this.m[4]+","+this.m[5]+")"}}const an=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];class ln{static generate(){if(window.crypto&&window.crypto.randomUUID)return crypto.randomUUID();const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,s=4294967295*Math.random()|0;return(an[255&e]+an[e>>8&255]+an[e>>16&255]+an[e>>24&255]+"-"+an[255&t]+an[t>>8&255]+"-"+an[t>>16&15|64]+an[t>>24&255]+"-"+an[63&n|128]+an[n>>8&255]+"-"+an[n>>16&255]+an[n>>24&255]+an[255&s]+an[s>>8&255]+an[s>>16&255]+an[s>>24&255]).toLowerCase()}}class dn{type="Object2D";constructor(){this.uuid=ln.generate(),this.children=[],this.parent=null,this.visible=!0,this.layer=0,this.level=0,this.position=new on(0,0),this.scale=new on(1,1),this.rotation=0,this.origin=new on(0,0),this.matrix=new rn,this.globalMatrix=new rn,this.inverseGlobalMatrix=new rn,this.matrixAutoUpdate=!0,this.matrixNeedsUpdate=!0,this.masks=[],this.draggable=!1,this.pointerEvents=!0,this.ignoreViewport=!1,this.saveContextState=!0,this.restoreContextState=!0,this.pointerInside=!1,this.beingDragged=!1,this.serializable=!0}getWorldPointIntersections(e,t=[]){!1===Array.isArray(t)&&(t=[]);const n=this.inverseGlobalMatrix.transformPoint(e);this.isInside(n)&&t.push(this);for(const n of this.children)n.getWorldPointIntersections(e,t);return t}isWorldPointInside(e,t){const n=this.inverseGlobalMatrix.transformPoint(e);if(this.isInside(n))return!0;if(t)for(const t of this.children)if(t.isWorldPointInside(e,!0))return!0;return!1}destroy(){return this.parent&&this.parent.remove(this),this}traverse(e){e(this);for(const t of this.children)t.traverse(e)}getChildByUUID(e){let t=null;return this.traverse((function(n){n.uuid===e&&(t=n)})),t}add(e){return e.parent=this,e.level=this.level+1,e.traverse((function(e){"function"==typeof e.onAdd&&e.onAdd(this)})),this.children.push(e),this}remove(e){let t=this.children.indexOf(e);if(-1!==t){let e=this.children[t];e.parent=null,e.level=0,e.traverse((function(e){"function"==typeof e.onRemove&&e.onRemove(this)}))}this.children.splice(t,1)}isInside(e){return!1}updateMatrix(e){(this.matrixAutoUpdate||this.matrixNeedsUpdate)&&(this.matrix.compose(this.position.x,this.position.y,this.scale.x,this.scale.y,this.origin.x,this.origin.y,this.rotation),this.globalMatrix.copy(this.matrix),this.parent&&this.globalMatrix.premultiply(this.parent.globalMatrix),this.inverseGlobalMatrix=this.globalMatrix.getInverse(),this.matrixNeedsUpdate=!1)}transform(e,t,n,s){this.globalMatrix.tranformContext(e)}onPointerDrag(e,t,n,s){this.position.add(n)}}class hn{constructor(e){this.callback=e,this.running=!1,this.id=-1}start(){if(this.running)return;this.running=!0;const e=this;!function t(){e.callback(),e.running&&(e.id=requestAnimationFrame(t))}()}stop(){this.running=!1,cancelAnimationFrame(this.id)}}class cn{static DOWN=-1;static UP=1;static RESET=0;constructor(){this.pressed=!1,this.justPressed=!1,this.justReleased=!1}update(e){this.justPressed=!1,this.justReleased=!1,e===cn.DOWN?(!1===this.pressed&&(this.justPressed=!0),this.pressed=!0):e===cn.UP?(this.pressed&&(this.justReleased=!0),this.pressed=!1):e===cn.RESET&&(this.justReleased=!1,this.justPressed=!1)}set(e,t,n){this.justPressed=e,this.pressed=t,this.justReleased=n}reset(){this.justPressed=!1,this.pressed=!1,this.justReleased=!1}}class un{static LEFT=0;static MIDDLE=1;static RIGHT=2;static BACK=3;static FORWARD=4;constructor(e,t){const n=this;this._keys=new Array(5),this._position=new on(0,0),this._positionUpdated=!1,this._delta=new on(0,0),this._wheel=0,this._wheelUpdated=!1,this._doubleClicked=new Array(5),this.keys=new Array(5),this.position=new on(0,0),this.delta=new on(0,0),this.wheel=0,this.doubleClicked=new Array(5),this.domElement=e??window,this.canvas=null,t&&this.setCanvas(t),this.events=new sn;for(let e=0;e<5;e++)this._doubleClicked[e]=!1,this.doubleClicked[e]=!1,this._keys[e]=new cn,this.keys[e]=new cn;this.events.add(this.domElement,"wheel",(function(e){n._wheel=e.deltaY,n._wheelUpdated=!0}));const s=new on(0,0);this.events.add(this.domElement,"touchstart",(function(e){const t=e.touches[0];n.updatePosition(t.clientX,t.clientY,0,0),n.updateKey(un.LEFT,cn.DOWN),s.set(t.clientX,t.clientY)})),this.events.add(this.domElement,"touchend",(function(e){n.updateKey(un.LEFT,cn.UP)})),this.events.add(this.domElement,"touchcancel",(function(e){n.updateKey(un.LEFT,cn.UP)})),this.events.add(document.body,"touchmove",(function(e){const t=e.touches[0];n.updatePosition(t.clientX,t.clientY,t.clientX-s.x,t.clientY-s.y),s.set(t.clientX,t.clientY)})),this.events.add(this.domElement,"mousemove",(function(e){n.updatePosition(e.clientX,e.clientY,e.movementX,e.movementY)})),this.events.add(this.domElement,"mousedown",(function(e){n.updateKey(e.which-1,cn.DOWN)})),this.events.add(this.domElement,"mouseup",(function(e){n.updateKey(e.which-1,cn.UP)})),this.events.add(this.domElement,"dragstart",(function(e){n.updateKey(e.which-1,cn.UP)})),this.events.add(this.domElement,"dblclick",(function(e){n._doubleClicked[e.which-1]=!0})),this.create()}dispose(){this.events.destroy()}create(){this.events.create()}setCanvas(e){this.canvas=e,e.pointerInside=!1,e.addEventListener("mouseenter",(function(){this.pointerInside=!0})),e.addEventListener("mouseleave",(function(){this.pointerInside=!1}))}insideCanvas(){return!!this.canvas&&this.canvas.pointerInside}updatePosition(e,t,n,s){if(this.canvas){const n=this.canvas.getBoundingClientRect();e-=n.left,t-=n.top}this._position.set(e,t),this._delta.x+=n,this._delta.y+=s,this._positionUpdated=!0}updateKey(e,t){e>-1&&this._keys[e].update(t)}buttonPressed(e){return this.keys[e].pressed}buttonDoubleClicked(e){return this.doubleClicked[e]}buttonJustPressed(e){return this.keys[e].justPressed}buttonJustReleased(e){return this.keys[e].justReleased}update(){for(let e=0;e<5;e++)this._keys[e].justPressed&&this.keys[e].justPressed&&(this._keys[e].justPressed=!1),this._keys[e].justReleased&&this.keys[e].justReleased&&(this._keys[e].justReleased=!1),this.keys[e].set(this._keys[e].justPressed,this._keys[e].pressed,this._keys[e].justReleased),!0===this._doubleClicked[e]?(this.doubleClicked[e]=!0,this._doubleClicked[e]=!1):this.doubleClicked[e]=!1;this._wheelUpdated?(this.wheel=this._wheel,this._wheelUpdated=!1):this.wheel=0,this._positionUpdated?(this.delta.copy(this._delta),this.position.copy(this._position),this._delta.set(0,0),this._positionUpdated=!1):(this.delta.x=0,this.delta.y=0)}}class mn{constructor(e,t){this.min=e??new on,this.max=t??new on}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e=[]){this.min=new on(1/0,1/0),this.max=new on(-1/0,-1/0);for(const t of e)this.expandByPoint(t);return this}setFromCenterAndSize(e,t){let n=(new on).copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new mn).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return e=e??new on,this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5),e}getSize(e){return e=e??new on,this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min),e}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}distanceToPoint(e){return(new on).copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toArray(){return[this.min.x,this.min.y,this.max.x,this.max.y]}fromArray(e){return this.min.set(e[0],e[1]),this.max.set(e[2],e[3]),this}}class pn{constructor(){this.cache=null,this.needsUpdate=!0}get(e){}}class gn extends pn{constructor(e="#000000"){super(),this.color=e}get(e){return this.color}}class bn extends dn{type="Circle";constructor(){super(),this.radius=10,this.strokeStyle=new gn("#000000"),this.lineWidth=1,this.fillStyle=new gn("#FFFFFF")}isInside(e){return e.length()<=this.radius}draw(e,t,n){e.beginPath(),e.arc(0,0,this.radius,0,2*Math.PI),this.fillStyle&&(e.fillStyle=this.fillStyle.get(e),e.fill()),this.strokeStyle&&(e.lineWidth=this.lineWidth,e.strokeStyle=this.strokeStyle.get(e),e.stroke())}}class yn extends dn{type="Mask";constructor(){super(),this.isMask=!0}clip(e,t,n){}}var fn=Object.freeze({__proto__:null,EventManager:sn,Object2D:dn,Renderer:class{constructor(e,t={}){void 0===t&&(t={}),"alpha"in t||(t.alpha=!0),"disableContextMenu"in t||(t.disableContextMenu=!0),"imageSmoothingEnabled"in t||(t.imageSmoothingEnabled=!0),"imageSmoothingQuality"in t||(t.imageSmoothingQuality="low"),"globalCompositeOperation"in t||(t.globalCompositeOperation="source-over"),this.manager=new sn,t.disableContextMenu&&this.manager.add(e,"contextmenu",(function(e){e.preventDefault(),e.stopPropagation()})),this.manager.create(),this.canvas=e,this.container=null,this.context=this.canvas.getContext("2d",{alpha:t.alpha}),this.context.imageSmoothingEnabled=t.imageSmoothingEnabled,this.context.imageSmoothingQuality=t.imageSmoothingQuality,this.context.globalCompositeOperation=t.globalCompositeOperation,this.pointer=new un(window,this.canvas),this.autoClear=!0}getDomContainer(){return this.container??this.canvas.parentElement}createRenderLoop(e,t,n){t.offsetCanvas();const s=this,i=new hn((function(){"function"==typeof n&&n(),s.update(e,t)}));return i.start(),i}dispose(e,t,n){this.manager.destroy(),this.pointer.dispose()}update(e,t){this.pointer.update(),t.update(this.pointer),t.updateMatrix();const n=this.pointer,s=n.position.clone(),i=t.inverseMatrix.transformPoint(s),o=[];e.traverse((function(e){e.visible&&o.push(e)})),o.sort((function(e,t){return t.layer===e.layer?t.level-e.level:t.layer-e.layer})),o.reverse();for(const e of o){if(!e.pointerEvents)continue;const o=e.inverseGlobalMatrix.transformPoint(e.ignoreViewport?s:i);if(e.isInside(o)){if(e.pointerInside||"function"!=typeof e.onPointerEnter||e.onPointerEnter(n,t),"function"==typeof e.onPointerOver&&e.onPointerOver(n,t),n.buttonDoubleClicked(un.LEFT)&&"function"==typeof e.onDoubleClick&&e.onDoubleClick(n,t),n.buttonPressed(un.LEFT)&&"function"==typeof e.onButtonPressed&&e.onButtonPressed(n,t),n.buttonJustReleased(un.LEFT)&&"function"==typeof e.onButtonUp&&e.onButtonUp(n,t),n.buttonJustPressed(un.LEFT)&&("function"==typeof e.onButtonDown&&e.onButtonDown(n,t),e.draggable)){e.beingDragged=!0,"function"==typeof e.onPointerDragStart&&e.onPointerDragStart(n,t);break}e.pointerInside=!0}else e.pointerInside&&("function"==typeof e.onPointerLeave&&e.onPointerLeave(n,t),e.pointerInside=!1);!0===e.beingDragged&&n.buttonJustReleased(un.LEFT)&&("function"==typeof e.onPointerDragEnd&&e.onPointerDragEnd(n,t),e.beingDragged=!1)}for(const e of o){if(e.beingDragged&&"function"==typeof e.onPointerDrag){const s=n.position.clone();s.sub(n.delta);const i=t.inverseMatrix.transformPoint(n.position),o=t.inverseMatrix.transformPoint(s),r=i.clone();r.sub(o),e.onPointerDrag(n,t,r,i)}"function"==typeof e.onUpdate&&e.onUpdate()}e.traverse((function(e){e.updateMatrix()})),this.context.setTransform(1,0,0,1,0,0),this.autoClear&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(const e of o)if(!e.isMask){e.saveContextState&&this.context.save();for(const n of e.masks)n.ignoreViewport||t.matrix.setContextTransform(this.context),n.transform(this.context,t,this.canvas,this),n.clip(this.context,t,this.canvas);e.ignoreViewport?e.masks.length>0&&this.context.setTransform(1,0,0,1,0,0):t.matrix.setContextTransform(this.context),e.transform(this.context,t,this.canvas,this),"function"==typeof e.style&&e.style(this.context,t,this.canvas),"function"==typeof e.draw&&e.draw(this.context,t,this.canvas),e.restoreContextState&&this.context.restore()}}},Viewport:class{constructor(e){this.uuid=ln.generate(),this.canvas=e,this.position=new on(0,0),this.center=new on(0,0),this.scale=1,this.rotation=0,this.matrix=new rn,this.inverseMatrix=new rn,this.matrixNeedsUpdate=!0,this.dragButton=un.RIGHT,this.rotateButton=un.MIDDLE,this.allowDrag=!0,this.allowScale=!0,this.allowRotation=!0,this.rotationPoint=null,this.rotationInitial=0}update(e){if(this.allowScale&&0!==e.wheel){const t=.001*e.wheel*this.scale;this.scale-=t;const n=Math.cos(this.rotation),s=Math.sin(this.rotation),i=new rn([n,s,-s,n,0,0]),o=this.inverseMatrix.transformPoint(e.position),r=i.transformPoint(o.multiplyScalar(t));this.position.add(r),this.matrixNeedsUpdate=!0}if(this.allowRotation&&e.buttonPressed(this.rotateButton)){if(!this.rotationPoint)return this.rotationPoint=e.position.clone(),void(this.rotationInitial=this.rotation);const t=e.position.clone().sub(this.rotationPoint);return this.rotation=this.rotationInitial+.01*t.x,void(this.matrixNeedsUpdate=!0)}this.rotationPoint=null,this.allowDrag&&e.buttonPressed(this.dragButton)&&(this.position.add(e.delta),this.matrixNeedsUpdate=!0)}updateMatrix(){if(!this.matrixNeedsUpdate)return;this.matrix.identity(),this.matrix.multiply(new rn([1,0,0,1,this.position.x,this.position.y]));const e=Math.cos(this.rotation),t=Math.sin(this.rotation);this.matrix.multiply(new rn([e,t,-t,e,0,0])),this.matrix.multiply(new rn([this.scale,0,0,this.scale,0,0])),this.inverseMatrix=this.matrix.getInverse(),this.matrixNeedsUpdate=!1}centerObject(e,t){const n=e.globalMatrix.transformPoint(new on);n.multiplyScalar(-this.scale),n.x+=t.width/2,n.y+=t.height/2,this.position.copy(n),this.matrixNeedsUpdate=!0}offsetCanvas(){const e=new on(this.canvas.width/2,this.canvas.height/2);this.position.copy(e)}},Key:cn,Pointer:un,Box2:mn,Matrix2:rn,UUID:ln,Vector2:on,Box:class extends dn{type="Box";constructor(){super(),this.box=new mn(new on(-50,-50),new on(50,50)),this.strokeStyle=new gn("#000000"),this.lineWidth=1,this.fillStyle=new gn("#FFFFFF")}isInside(e){return this.box.containsPoint(e)}draw(e,t,n){const s=this.box.max.x-this.box.min.x,i=this.box.max.y-this.box.min.y;this.fillStyle&&(e.fillStyle=this.fillStyle.get(e),e.fillRect(this.box.min.x,this.box.min.y,s,i)),this.strokeStyle&&(e.lineWidth=this.lineWidth,e.strokeStyle=this.strokeStyle.get(e),e.strokeRect(this.box.min.x,this.box.min.y,s,i))}},Circle:bn,Mask:yn,BoxMask:class extends yn{type="BoxMask";constructor(){super(),this.box=new mn(new on(-50,-35),new on(50,35)),this.invert=!1}isInside(e){return this.box.containsPoint(e)}clip(e,t,n){e.beginPath();const s=this.box.max.x-this.box.min.x;if(this.invert)e.rect(this.box.min.x-1e4,-5e3,1e4,1e4),e.rect(this.box.max.x,-5e3,1e4,1e4),e.rect(this.box.min.x,this.box.min.y-1e4,s,1e4),e.rect(this.box.min.x,this.box.max.y,s,1e4);else{const t=this.box.max.y-this.box.min.y;e.fillRect(this.box.min.x,this.box.min.y,s,t)}e.clip()}},Style:pn,ColorStyle:gn,AnimationTimer:hn,Helpers:class{static rotateTool(e){const t=new bn;t.radius=4,t.layer=e.layer+1,t.draggable=!0,t.onPointerDrag=function(t,n,s){e.rotation+=.01*s.x},e.add(t)}static boxResizeTool(e){if(null==e.box)return void console.warn("Helpers.boxResizeTool(): Object box property missing");function t(){n.position.copy(e.box.min),i.position.copy(e.box.max),s.position.set(e.box.max.x,e.box.min.y),o.position.set(e.box.min.x,e.box.max.y)}const n=new bn;n.radius=4,n.layer=e.layer+1,n.draggable=!0,n.onPointerDrag=function(s,i,o){dn.prototype.onPointerDrag.call(this,s,i,o),e.box.min.copy(n.position),t()},e.add(n);const s=new bn;s.radius=4,s.layer=e.layer+1,s.draggable=!0,s.onPointerDrag=function(n,i,o){dn.prototype.onPointerDrag.call(this,n,i,o),e.box.max.x=s.position.x,e.box.min.y=s.position.y,t()},e.add(s);const i=new bn;i.radius=4,i.layer=e.layer+1,i.draggable=!0,i.onPointerDrag=function(n,s,o){dn.prototype.onPointerDrag.call(this,n,s,o),e.box.max.copy(i.position),t()},e.add(i);const o=new bn;o.radius=4,o.layer=e.layer+1,o.draggable=!0,o.onPointerDrag=function(n,s,i){dn.prototype.onPointerDrag.call(this,n,s,i),e.box.min.x=o.position.x,e.box.max.y=o.position.y,t()},e.add(o),t()}},FileUtils:class{read(e,t,n){const s=new XMLHttpRequest;s.overrideMimeType("text/plain"),s.open("GET",e,!0),"function"==typeof t&&(s.onload=function(){t(s.response)}),"function"==typeof n&&(s.onerror=n),s.send(null)}write(e,t){const n=new Blob([t],{type:"octet/stream"}),s=document.createElement("a");s.download=e,s.href=window.URL.createObjectURL(n),s.style.display="none",s.onclick=function(){document.body.removeChild(this)},document.body.appendChild(s),s.click()}select(e,t){const n=document.createElement("input");n.type="file",n.style.display="none",document.body.appendChild(n),t&&(n.accept=t),n.onchange=function(t){"function"==typeof e&&e(n.files),document.body.removeChild(n)},n.click()}}});function vn(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}vn("/**\n * Units\n *  px      Pixels\n *  %       Percentage relative to the parent element\n *  em      Relative to the font-size of the element (2em means 2 times the size of the current font)\n *  rem     Relative to the font-size of the root element\n *  ch      Relative to the width of the character '0' of the current font\n *  ex      Relative to the height of a lowercase letter ('x') of the current font\n *  cap     Relative to the height of a capital letter of the current font\n *  vw      Relative to 1% of the width of the viewport (browser window)\n *  vh      Relative to 1% of the width of the viewport (browser window)\n *  vmin    Relative to 1% of viewport's (browser window's) smaller dimension\n *  vmax    Relative to 1% of viewport's (browser window's) larger dimension\n */\n\n:root {\n    color-scheme: light dark;\n\n    /* Scheme Colors */\n    --shadow:                 0,   0,   0;      /* black for dark theme, white for light theme */\n    --darkness:               0,   0,   0;      /* lightens as theme lightens */\n\n    --background-dark:       24,  24,  24;\n    --background-light:      32,  32,  32;\n    --button-dark:           40,  40,  40;\n    --button-light:          60,  60,  60;\n\n    --text-dark:            100, 100, 100;\n    --text:                 190, 190, 190;\n    --text-light:           225, 225, 225;\n\n    --blacklight:             0,   0,   0;\n    --darklight:              8,   8,   8;\n    --midlight:              85,  85,  85;\n    --highlight:            255, 255, 255;\n\n    --icon-dark:              0,  85, 102;      /* icon darkened            dark classic aqua   #005566 */\n    --icon:                   0, 170, 204;      /* icon color               classic aqua        #00aacc */\n    --icon-light:           101, 229, 255;      /* icon brightened          light clasic aqua   #65e5ff */\n\n    --complement:           255, 132,  10;      /* icon shifted 180°        orange              #ff840a */\n    --triadic1:             255,  10,  67;      /* icon shifted 120°        red                 #ff0a43 */\n    --triadic2:             157, 255,  59;      /* complement shifted 120°  lime green          #9dff3b */\n    --triadic3:             255,  10, 238;      /* icon shifted 90°         pink                #ff0aee */\n    --triadic4:             232, 255,  59;      /* complement shifted 90°   pale yellow         #e8ff3b */\n    --triadic5:             116,  10, 255;      /* icon shifted 60°         purple              #740aff */\n    --triadic6:             255, 228,  59;      /* complement shifted 60°   yellow              #ffe43b */\n\n    /* Theme Multiplier */\n    --bright:               1;                  /* 1: Mid/Dark, 0: Light */\n\n    /* Basic Colors */\n    --white:                255, 255, 255;\n    --gray:                 128, 128, 128;\n    --black:                  0,   0,   0;\n\n    /* Input Colors */\n    --valid:                131, 242,  13;      /* green */\n    --invalid:              242,  51,  13;      /* red */\n    --warning:              242, 204,  13;      /* yellow */\n    --info:                  13,  51, 242;      /* blue */\n\n    /* Hue Rotation for Icon Color */\n    --rotate-hue:           0deg;               /* Programatically changes to degree offset icon color is from Aqua */\n\n    /* Transparency */\n    --panel-transparency:   0.85;\n\n    /* Font */\n    font-size:              10px;               /* 10px or 62.5% (62% of 16px (browser root default) === 10px) */\n    --base-size:            10px;               /* Gui designed to scale from this original font size */\n    --font-size:            14px;               /* Current font size, NOTE: 1em = 14px (i.e. 10px * 1.4)  */\n    --font-family:          'Roboto', Helvetica, Arial, sans-serif;\n\n    /* Sizes */\n    --pixel:                0.07143em;          /*  1px @ font size 1.4em (14px) */\n    --minus:               -0.07143em;          /*  1px @ font size 1.4em (14px) */\n\n    --border-micro:         0.07143em;          /*  1px @ font size 1.4em (14px) */\n    --border-small:         0.14286em;          /*  2px @ font size 1.4em (14px) */\n\n    --radius-small:         0.28571em;          /*  4px @ font size 1.4em (14px) */\n    --radius-large:         0.42857em;          /*  6px @ font size 1.4em (14px) */\n\n    --pad-micro:            0.07143em;          /*  1px @ font size 1.4em (14px), i.e. 1px = 1 / 14 */\n    --pad-x-small:          0.14286em;          /*  2px; */\n    --pad-small:            0.21429em;          /*  3px; */\n    --pad-smallish:         0.28571em;          /*  4px; */\n    --pad-medium:           0.35714em;          /*  5px; */\n    --pad-large:            0.71429em;          /* 10px; */\n\n    --arrow-size:           0.4em;              /* Dropdown arrow */\n    --asset-size:           3.45em;             /* AssetBox size */\n    --button-size:          2.65em;             /* Toolbar button size */\n    --scroll-size:          0.57143em;          /* 8px, scrollbar thickness */\n    --resize-size:          1.0em;              /* 14px, panel resizer thickness */\n    --row-height:           1.7em;              /* min row height (Asset Box, Property List, Tree List, etc.) */\n    --tab-size:             2.25em;             /* Tab button diameter */\n    --tab-timing:           200ms;              /* Tab animation time */\n\n    /* Timing */\n    --menu-timing:          0.2s;               /* Various gui related time delays (in seconds) */\n    --tooltip-delay:        500ms;              /* Time that passes before tooltips are shown */\n\n    /* Box Shadows:         'inner-glow', 'pop-out-shadow', 'sunk-in-shadow' */\n\n    /* Filters */\n    --drop-shadow:          drop-shadow(0 0 var(--pad-x-small) black);\n    --tint-icon:            none;\n    --tint-complement:      none;\n    --tint-triadic1:        none;\n    --tint-triadic2:        none;\n    --tint-triadic3:        none;\n    --tint-triadic4:        none;\n    --tint-triadic5:        none;\n    --tint-triadic6:        none;\n    --tint-text:            none;\n\n}\n");vn("/********** Base Styling **********/\n\n*:not(.suey-custom-font *) {\n    font-family: var(--font-family);\n    font-size: var(--font-size);\n}\n\nhtml {\n    box-sizing: border-box;\n}\n\nhtml *, html *::before, html *::after {\n    box-sizing: inherit;\n}\n\nbody {\n    margin: 0;\n    padding: 0;\n\n    /* Color main text and background */\n    color: rgba(var(--text-light), 0.75);\n    background-color: rgb(var(--background-dark));\n}\n\nimage {\n    image-rendering: smooth;\n}\n\n.suey-text {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: var(--pad-micro);\n}\n\n/********** Scrollbars **********/\n\ndiv::-webkit-scrollbar {\n    height: var(--scroll-size);\n    width: var(--scroll-size);\n    background: rgba(var(--shadow), 0.35);\n    border-radius: calc(var(--scroll-size) / 2.0);\n}\n\ndiv::-webkit-scrollbar-thumb:horizontal {\n    background: linear-gradient(to left, rgba(var(--icon), 1), rgba(var(--icon-dark), 1));\n    border-radius: calc(var(--scroll-size) / 2.0);\n}\n\ndiv::-webkit-scrollbar-thumb:vertical {\n    background: linear-gradient(to bottom, rgba(var(--icon), 1), rgba(var(--icon-dark), 1));\n    border-radius: calc(var(--scroll-size) / 2.0);\n}\n\ndiv::-webkit-scrollbar-corner {\n    background: rgba(var(--background-dark), 1);\n}\n\n/********** SVG **********/\n\n@media all {\n    svg {\n        shape-rendering: auto;\n    }\n}\n");vn("/********** ELEMENT: <input> (number, text, etc) **********/\n\n.suey-input {\n    color: rgba(var(--text), 1);\n    background-color: rgba(var(--background-dark), 0.35);\n    box-shadow: inset 0 0.075em 0.15em 0 rgba(var(--shadow), 0.35);\n\n    border: var(--border-micro) solid rgba(var(--shadow), 0.5);\n    border-radius: var(--radius-small);\n    outline: var(--border-micro) solid rgba(var(--shadow), 0.0);\n    padding: var(--pad-x-small) var(--pad-smallish);\n    vertical-align: middle;\n    min-width: 1em;\n    text-align: left;\n}\n\n.suey-input:hover {\n    color: rgba(var(--highlight), 1);\n    background-color: rgba(var(--button-dark), 0.5);\n}\n\n.suey-input:focus {\n    color: rgba(var(--highlight), 1);\n    background: rgba(var(--darklight), 1);\n    border: var(--border-micro) solid rgb(var(--icon));\n    outline: var(--border-micro) solid rgba(var(--shadow), 1.0);\n    border-radius: 0;\n}\n\n.suey-input.suey-valid-type {\n    color: rgba(var(--text), 1);\n    box-shadow:\n        inset 0 0 0 var(--pixel) rgba(var(--valid), 0.5),\n        inset 0 0.075em 0.5em 0 rgba(var(--shadow), 0.5);\n    padding-left: var(--pad-medium);\n    text-align: left !important;\n}\n\n.suey-input.suey-invalid-type {\n    color: rgba(var(--text), 0.35);\n    box-shadow:\n        inset 0 0 0 var(--pixel) rgba(var(--invalid), 0.5),\n        inset 0 0.075em 0.5em 0 rgba(var(--shadow), 0.5);\n    text-align: center !important;\n}\n\n.suey-input.suey-yes-drop {\n    color: rgba(var(--valid), 1);\n    background: rgba(var(--darklight), 1);\n    border-radius: 0;\n    border: var(--border-micro) solid rgb(var(--valid));\n    /* outline: var(--border-micro) solid rgb(var(--valid)); */\n    box-shadow: inset 0 0 0 var(--pixel) rgba(var(--valid), 0.5);\n    text-align: center !important;\n}\n\n.suey-input.suey-no-drop {\n    color: rgba(var(--invalid), 1.0);\n    background: rgba(var(--darklight), 1);\n    border-radius: 0;\n    border: var(--border-micro) solid rgb(var(--invalid));\n    /* outline: var(--border-micro) solid rgb(var(--invalid)); */\n    box-shadow: inset 0 0 0 var(--pixel) rgba(var(--invalid), 0.5);\n    text-align: center !important;\n}\n\n/** Hide Arrow Spinners - Chrome, Safari, Edge, Opera */\n.suey-input::-webkit-outer-spin-button,\n.suey-input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n}\n\n/********** ELEMENT: <button> Button **********/\n\n.suey-button {\n    /* display: flex; */\n    position: relative;\n\n    cursor: pointer;\n    pointer-events: all;\n\n    color: rgba(var(--text-light), 1);\n\n    border: var(--border-micro) solid rgba(var(--shadow), 0.75);\n    border-radius: var(--radius-small);\n    outline: var(--border-micro) solid rgba(var(--darklight), 0.0);\n\n    background-color: rgba(var(--button-dark), 0.75);\n    background-image: linear-gradient(to bottom, rgba(var(--icon-light), 0.5), rgba(var(--icon-dark), 0.5));\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.1),\n        inset var(--pixel) var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.1);\n    text-shadow: var(--minus) var(--pixel) rgba(var(--shadow), 0.5);\n\n    font-size: var(--font-size);\n    margin: 0;\n    padding: var(--pad-x-small) var(--pad-medium);\n\n    overflow: hidden;\n    text-align: center;\n    text-overflow: ellipsis;\n    vertical-align: middle;\n    white-space: nowrap;\n}\n\n.suey-button:not(.suey-selected):enabled:hover {\n    filter: brightness(1.25);\n}\n\n.suey-button:not(.suey-selected):focus {\n    outline: var(--border-micro) solid rgba(var(--highlight), 0.5);\n}\n\n.suey-button:not(.suey-selected):enabled:active {\n    color: rgba(var(--text-dark), 1);\n    background-color: rgba(var(--background-dark), 0.5);\n    background-image: none;\n    box-shadow: inset 0 var(--pad-micro) var(--pad-x-small) 0 rgba(var(--shadow), 0.75); /* sunk-in-shadow */\n}\n\n.suey-button.suey-selected {\n    background-color: rgba(var(--shadow), 1.0);\n    background-image: linear-gradient(to bottom left, rgba(var(--icon-light), 0.20), rgba(var(--icon), 0.20));\n    box-shadow: inset 0 var(--pad-micro) var(--pad-x-small) 0 rgba(var(--shadow), 0.75); /* sunk-in-shadow */\n}\n\n.suey-button:disabled {\n    pointer-events: none;\n}\n\n.suey-button:disabled {\n    filter: contrast(75%) grayscale(100%) brightness(50%);\n}\n\n/* Little borderless buttons */\n.suey-borderless-button {\n    user-select: none;\n    border: none;\n    border-radius: var(--radius-large);\n    background: transparent;\n    box-shadow: none;\n    outline: none;\n\n    min-height: 1.5em;\n    min-width: 1.5em;\n}\n\n.suey-borderless-button:not(.suey-selected):enabled:hover {\n    background-image: linear-gradient(to bottom, rgba(var(--white), 0.1), rgba(var(--white), 0.2));\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) 0 rgba(var(--white), 0.25),\n        inset var(--pixel) var(--minus) var(--pixel) 0 rgba(var(--black), 0.25);\n}\n\n.suey-borderless-button:not(.suey-selected):enabled:active {\n    background-image: linear-gradient(to bottom, rgba(var(--black), 0.2), rgba(var(--black), 0.1));\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) 0 rgba(var(--black), 0.5),\n        inset var(--pixel) var(--minus) var(--pixel) 0 rgba(var(--black), 0.5);\n}\n\n/********** ELEMENT: <input> Checkbox **********/\n\n/* Container */\n.suey-checkbox {\n    background: transparent;\n    display: inline-block;\n    position: relative;\n    justify-content: left;\n    cursor: pointer;\n    margin-left: 0.1em;\n}\n\n/* Native Element (holds checkbox value) */\n.suey-checkbox-input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n}\n\n/* Visible Background: Unchecked */\n.suey-checkbox-button {\n    flex-grow: 0;\n    flex-shrink: 0;\n    position: absolute;\n    color: rgba(var(--text), 1);\n    background-image: none;\n    background-color: rgba(var(--background-dark), 0.5);\n    box-shadow: inset 0 var(--pad-micro) var(--pad-x-small) 0 rgba(var(--shadow), 0.35); /* sunk-in-shadow */\n    left: 0;\n    top: 50%;\n    width: 2.0em;\n    height: 1.20em;\n    border-radius: 1.0em;\n    border: var(--border-micro) solid rgba(var(--shadow), 1.0);\n    transform: translateY(-50%);\n    transition: transform var(--menu-timing);\n}\n\n/* Visible Background: Checked */\n.suey-checkbox-input:checked + .suey-checkbox-button {\n    --bg-color-light: var(--icon-light);\n    --bg-color-dark: var(--icon-dark);\n    background-color: rgba(var(--highlight), 0.2);\n    background-image: linear-gradient(to bottom, rgba(var(--bg-color-light), 0.7), rgba(var(--bg-color-dark), 0.7));\n    border: var(--border-micro) solid rgba(var(--shadow), 1.0);\n}\n\n/* Visible Background: Checked & Hover */\n.suey-checkbox-input:checked:hover + .suey-checkbox-button {\n    background-color: rgba(var(--highlight), 0.5);\n}\n\n/* Button: Unchecked */\n.suey-checkbox-button:before {\n    content: '';\n    flex-grow: 0;\n    flex-shrink: 0;\n    position: absolute;\n    left: 0.2em;\n    top: 50%;\n    width: 0.65em;\n    height: 0.65em;\n    background-color: rgba(var(--text-light), 0.8);\n    border-radius: 1em;\n    transform: translate(0, -50%);\n    transition: transform var(--menu-timing);\n}\n\n/* Button: Checked */\n.suey-checkbox-input:checked + .suey-checkbox-button:before {\n    /* background-color: rgba(var(--highlight), 0.7); */\n    box-shadow: 0px 0px 3px 2px rgba(var(--shadow), 0.5); /* drop shadow */\n    transform: translate(0.75em, -50%);\n    transition: transform var(--menu-timing);\n}\n\n/* Button: Hover, Unchecked */\n.suey-checkbox-input:hover + .suey-checkbox-button:before {\n    background-color: rgba(var(--highlight), 0.9);\n}\n\n/********** CLASS: Drop down buttons and menus **********/\n\n/** Buttons that drop down a 'select' option list  */\n.suey-dropdown.suey-selected, .suey-dropdown:not(.suey-selected):enabled:active {\n    background-color: rgba(var(--darklight), 1);\n    background-image: none;\n    border: var(--border-micro) solid rgb(var(--icon));\n    outline: var(--border-small) solid rgb(var(--darklight));\n    border-radius: 0;\n}\n\n/** Color input attached to Button */\n.suey-color-input-button {\n    position: absolute;\n    cursor: pointer;\n    margin: 0;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0.0;\n}\n\n/** Div used for a Dropdown Color Button */\n.suey-drop-color {\n    background-color: #ff0000;\n    width: calc(100% - 0.5em);\n    height: 1.1em;\n    border: var(--border-micro) solid rgba(var(--shadow), 0.75);\n    border-radius: var(--radius-small);\n}\n\n/********** CLASS: Drop Arrow (adds a little down arrow on right side of element) **********/\n\n.suey-drop-arrow {\n    padding-right: 1.4em;\n}\n.suey-drop-arrow::after {\n    content: '';\n    position: absolute;\n    pointer-events: none;\n    width: 0;\n    height: 0;\n    right: 0.65em;\n    top: 50%;\n    transform: translateY(-25%);\n    z-index: 101; /* Drop Arrow */\n    border: var(--arrow-size) solid transparent;\n    border-color: rgba(var(--text-light)) transparent transparent transparent;\n    transition: all var(--menu-timing);\n}\n.suey-drop-arrow:hover::after, .suey-drop-arrow.suey-selected::after {\n    border-color: rgba(var(--highlight)) transparent transparent transparent;\n}\n.suey-drop-arrow.suey-selected::after {\n    transform: translateY(-75%) scale(1.0, -1.0);\n}\n\n/********** CLASS: <input> Number **********/\n\n/** Hide Arrow Spinners - Firefox (input[type=number] {}) */\n.suey-number {\n    -moz-appearance: textfield;\n}\n\n.suey-number {\n    font-size: 100%;\n}\n\n.suey-number-holder {\n    position: relative;\n    display: flex;\n    margin: 0;\n    padding: 0;\n}\n\n.suey-number-label-box {\n    pointer-events: none;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    padding: 0 var(--pad-smallish);\n    color: rgba(var(--text-dark), 1);\n}\n\n/********** ELEMENT: <input> Slider **********/\n\n.suey-slide-container {\n    position: relative;\n    overflow: hidden;\n    width: 100%;\n}\n\n.suey-tick-marks {\n    --divides: 10; /* (max - min) / step */\n\n    position: absolute;\n    pointer-events: none;\n\n    width: calc(100% - (var(--pad-large) * 2));\n    height: 0.2em;\n    left: var(--pad-large);\n    top: 1.2em;\n    padding: 0;\n    margin: 0;\n\n    background-image: repeating-linear-gradient(to right,\n        rgba(var(--icon), 0.75) 0 1px, transparent 1px calc((100% - var(--pad-micro)) / var(--divides)));\n}\n\n.suey-slider {\n    --middle: 0.5; /* (value - min) / (max - min) */\n\n    -webkit-appearance: none;\n    position: absolute;\n    width: 98%;\n    padding: 0;\n    height: 0.375em;\n    top: calc(50% - 0.375em);\n\n    background: linear-gradient(to right,\n        rgba(var(--icon), 0.65) 0%, rgba(var(--icon), 0.65) calc(var(--middle) * 100%),\n        rgba(var(--background-dark), 0.5) calc(var(--middle) * 100%), rgba(var(--background-dark), 0.5) 100%);\n    border: var(--border-micro) solid transparent;\n    border: var(--border-micro) solid rgba(var(--shadow), 1.0);\n    border-radius: var(--radius-large);\n    outline: var(--border-micro) solid transparent;\n\n    cursor: pointer;\n}\n\n.suey-slider:hover, .suey-slider:focus, .suey-slider:active {\n    background: linear-gradient(to right,\n        rgba(var(--icon-light), 0.65) 0%, rgba(var(--icon-light), 0.65) calc(var(--middle) * 100%),\n        rgba(var(--darklight), 0.5) calc(var(--middle) * 100%), rgba(var(--darklight), 0.5) 100%);\n    border: var(--border-micro) solid transparent;\n    border: var(--border-micro) solid rgba(var(--shadow), 1.0);\n    border-radius: var(--radius-large);\n    outline: var(--border-micro) solid transparent;\n}\n.suey-slider:active {\n    cursor: ew-resize;\n}\n\n/* Safari / Chrome Thumb */\n.suey-slider::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    width: 1.1em;\n    height: 1.1em;\n    border: var(--border-micro) solid rgba(var(--background-dark), 1.0);\n    border-radius: 50%;\n    background-color: rgba(var(--shadow), 1.0);\n    background-image: linear-gradient(to bottom, rgba(var(--icon-light), 0.8), rgba(var(--icon-dark), 0.8));\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.1),\n        inset var(--pixel) var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.1);\n}\n.suey-slider::-webkit-slider-thumb:hover, .suey-slider::-webkit-slider-thumb:active {\n    background-color: rgba(var(--shadow), 1.0);\n    background-image: linear-gradient(to bottom, rgba(var(--icon-light), 1.0), rgba(var(--icon-dark), 1.0));\n}\n.suey-slider::-webkit-slider-thumb:active { cursor: ew-resize; }\n\n/* Firefox thumb */\n.suey-slider::-moz-range-thumb {\n    width: 1.1em;\n    height: 1.1em;\n    border: var(--border-micro) solid rgba(var(--background-dark), 1.0);\n    border-radius: 50%;\n    background-color: rgba(var(--shadow), 1.0);\n    background-image: linear-gradient(to bottom, rgba(var(--icon-light), 0.8), rgba(var(--icon-dark), 0.8));\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.1),\n        inset var(--pixel) var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.1);\n}\n.suey-slider::-moz-range-thumb:hover, .suey-slider::-moz-range-thumb:active {\n    background-color: rgba(var(--shadow), 1.0);\n    background-image: linear-gradient(to bottom, rgba(var(--icon-light), 1.0), rgba(var(--icon-dark), 1.0));\n}\n.suey-slider::-moz-range-thumb:active { cursor: ew-resize; }\n\n/********** ELEMENT: <textarea> Text Area **********/\n\n.suey-text-area {\n    color: rgba(var(--text), 1);\n    background-color: rgba(var(--background-dark), 0.35);\n    border: var(--pixel) solid rgba(var(--shadow), 1);\n    border-radius: var(--radius-large);\n    outline: none; /* for macos */\n    padding: var(--pad-x-small) var(--pad-smallish);\n    tab-size: 4;\n    white-space: pre;\n    word-wrap: normal;\n    vertical-align: top;\n}\n\n.suey-text-area:hover {\n    color: rgba(var(--highlight), 1);\n    background-color: rgba(var(--button-dark), 0.5);\n}\n\n.suey-text-area:focus {\n    color: rgba(var(--highlight), 1);\n    background: rgba(var(--darklight), 1);\n    border: var(--border-micro) solid rgb(var(--icon));\n    outline: var(--border-micro) solid rgba(var(--shadow), 1.0);\n    border-radius: 0;\n}\n\n.suey-text-area::-webkit-scrollbar {\n    height: 0.4em;\n    width: 0.4em;\n    background: rgba(var(--shadow), 0.35);\n    border-radius: 0.2em;\n}\n\n.suey-text-area::-webkit-scrollbar-thumb:horizontal {\n    background: linear-gradient(to left, rgba(var(--text), 1), rgba(var(--text-dark), 1));\n    border-radius: 0.2em;\n}\n\n.suey-text-area::-webkit-scrollbar-thumb:vertical {\n    background: linear-gradient(to bottom, rgba(var(--text), 1), rgba(var(--text-dark), 1));\n    border-radius: 0.2em;\n}\n\n.suey-text-area::-webkit-scrollbar-corner {\n    background: rgba(var(--background-dark), 1);\n}\n\n.suey-text-area.success {\n    border-color: #8b8 !important;\n}\n\n.suey-text-area.fail {\n    border-color: #f00 !important;\n    background-color: rgba(255, 0, 0, 0.05);\n}\n\n/********** ELEMENT: <input> Text Box **********/\n\n.suey-text-box {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}\n\n.suey-text-box::selection {\n    color: rgba(var(--blacklight), 1);\n    background-color: rgba(var(--icon), 1);\n}\n");vn("/********** Absolute Box **********/\n\n.suey-absolute-box {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    padding: 0;\n    margin: 0;\n    display: flex;\n    align-items: center;\n    vertical-align: middle;\n    justify-content: center;\n    text-align: center;\n}\n\n/********** Asset Box / Asset Box Icon Only **********/\n\n.suey-asset-box {\n    position: relative;\n    display: flex;\n    cursor: pointer;\n\n    border: var(--border-small) solid transparent;\n    border-radius: var(--radius-large);\n    margin: var(--pad-x-small);\n    vertical-align: middle;\n\n    outline: none; /* for macos */\n}\n\n.suey-asset-box-selectable:hover {\n    background-color: rgba(var(--highlight), 0.15);\n    border: var(--border-small) solid rgba(var(--shadow), 0.5);\n    border-radius: var(--radius-large);\n}\n\n.suey-asset-box-selectable:active, .suey-asset-box-selectable:focus {\n    background-color: rgba(var(--shadow), 1.0);\n    border: var(--border-small) solid rgba(var(--icon-light), 1);\n    border-radius: 0;\n}\n\n.suey-asset-box-selectable:focus > *, .suey-asset-box-selectable:active > * {\n    filter: brightness(100%);\n}\n\n.suey-asset-box-selectable:hover > * {\n    filter: brightness(150%);\n}\n\n.suey-asset-box-mini {\n    /* Minimum Icon Size: */\n    min-width: var(--asset-size);\n    min-height: var(--asset-size);\n}\n\n.suey-asset-box-row {\n    width: 100%;\n    min-height: 2em;\n    padding: var(--pad-x-small);\n}\n\n.suey-asset-box-icon {\n    position: relative;\n    min-width: var(--row-height);\n    height: 100%;\n}\n\n.suey-asset-box-text {\n    position: relative;\n    width: calc(100% - var(--row-height));\n    margin: auto;\n    margin-left: 0.25em;\n    white-space: nowrap;\n}\n\n.suey-asset-box-combo {\n    overflow: hidden;\n    position: relative;\n}\n.suey-asset-box-combo:hover {\n    overflow: visible;\n}\n.suey-asset-box-label {\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%) scale(75%);\n}\n\n/********** Flex Box **********/\n\n.suey-flex-box {\n    display: flex;\n    align-items: center;\n    vertical-align: middle;\n}\n\n/********** Row **********/\n\n.suey-row {\n    padding: var(--pad-micro) var(--border-small);\n    margin: 0;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: left;\n    vertical-align: middle;\n}\n\n/********** Shadow Box **********/\n\n.suey-shadow-box { /* affects Toolbar icons! */\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 80%;\n    height: 80%;\n    margin: 0;\n    padding: 0;\n    overflow: visible;\n}\n\n.suey-shadow-box.suey-full-size {\n    width: 100%;\n    height: 100%;\n}\n\n.suey-shadow-box.suey-drop-shadow > * {\n    filter: var(--drop-shadow);\n}\n\n.suey-shadow-box.suey-even-shadow > * {\n    filter: var(--drop-shadow);\n}\n\n/********** Vector Box **********/\n\n.suey-vector-box {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    overflow: visible;\n}\n");vn("/********** Menu Show (Show menu that was previously hidden) **********/\n\n.suey-menu.suey-menu-show {\n    pointer-events: auto;\n    opacity: 1.0;\n    transform: translate(0, 0) scale(1.0, 1.0);\n}\n\n.suey-menu.suey-menu-show.suey-menu-under {\n    left: 50%;\n    top: 100%;\n    transform: translate(-50%, 0) scale(1.0, 1.0);\n}\n\n/********** Menu **********/\n\n/* Normal Menu Styling */\n.suey-menu {\n    position: absolute;\n    display: block;\n    align-items: center;\n    justify-content: center;\n\n    color: rgba(var(--text), 1.0);\n    background-color: rgba(var(--background-light), 1);\n    box-shadow:\n        inset 0px 1px 2px 0px rgba(var(--midlight), 1.0),\n             -2px 2px 2px 0px rgba(var(--shadow), 0.5),\n              2px 0px 2px 0px rgba(var(--shadow), 0.5);\n    /* border: 1px solid rgba(var(--shadow), 1.0); */\n    border: 2px solid rgba(var(--icon), 1.0);\n    border-radius: var(--radius-large);\n    /* outline: 1px solid rgba(var(--background-light), calc(var(--panel-transparency) * 0.5)); */\n    outline: none;\n\n    min-width: 1.0em;\n    z-index: 1000; /* Menu */\n    opacity: 0;\n    padding: var(--pad-x-small);\n    margin: 0;\n    pointer-events: none;\n\n    transform: translate(0, 0) scale(1.0, 0.0);\n\n    /* To enable menu transitions use menu timing variable */\n    transition: all 0s; /* var(--menu-timing) */\n}\n\n.suey-border-icon {\n    border: 2px solid rgba(var(--complement), 1.0);\n}\n\n.suey-menu-under {\n    transition: opacity 0.2s ease-in-out;\n}\n\n.suey-menu:not(.suey-menu-show).suey-slide-down {\n    transform: translate(0, -50%) scale(1.0, 0.0);\n}\n\n.suey-menu:not(.suey-menu-show).suey-slide-up {\n    transform: translate(0, 50%) scale(1.0, 0.0);\n}\n\n/* Dropdown Menu Styling */\n.suey-select-menu, .suey-popup-menu {\n    box-shadow: none;\n    color: rgba(var(--highlight), 1);\n    background: rgba(var(--darklight), 1);\n    border: 1px solid rgb(var(--icon));\n    border-radius: 0px;\n    outline: 2px solid rgb(var(--darklight));\n    z-index: 1000; /* Select Menu */\n}\n\n/* Menu Item */\n.suey-menu-item {\n    position: relative;\n    display: block;\n\n    color: rgba(var(--text), 1);\n    cursor: pointer;\n\n    border: 1px solid transparent;\n    border-radius: calc(var(--radius-small) * 0.75);\n\n    margin: var(--pad-x-small);\n    white-space: nowrap;\n}\n\n/* Hover Item */\n.suey-menu:not(.suey-invisible-menu) .suey-menu-item:not(.suey-disabled):hover {\n    color: rgba(var(--highlight), 1);\n    background-color: rgba(var(--icon-light), 0.1);\n    border: 1px solid rgba(var(--icon-light), 0.3);\n    border-radius: calc(var(--radius-small) * 0.75);\n}\n\n/* Image */\n.suey-menu-icon {\n    --menu-icon-size:   1.45em;\n\n    position: relative;\n    flex: 0 0 auto;\n    height: var(--menu-icon-size);\n    width: var(--menu-icon-size);\n    filter: var(--drop-shadow);\n    overflow: hidden;\n}\n\n/* Text */\n.suey-menu-text {\n    user-select: none;\n    margin-left: 7px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n/* Shortcut Key */\n.suey-menu-shortcut {\n    /*\n    System Font Info:\n    https://stackoverflow.com/questions/32660748/how-to-use-apples-new-san-francisco-font-on-a-webpage\n    https://furbo.org/2018/03/28/system-fonts-in-css/\n    https://css-tricks.com/snippets/css/system-font-stack/\n    */\n    display: flex;\n    filter: contrast(75%) grayscale(100%);\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n    opacity: 0.5;\n    padding-left: 2.0em;\n}\n\n.suey-menu-shortcut-character {\n    /* background-color: blueviolet; */\n    /* border: solid 1px; */\n    text-align: center;\n    margin: auto;\n}\n\n/* Separator */\n.suey-menu-separator {\n    pointer-events: none;\n    border-top: 1px solid rgba(var(--midlight), 0.5);\n    border-radius: 1px;\n    height: 1px;\n    margin: var(--pad-medium) var(--pad-large);\n}\n\n/* Little Arrow */\n.suey-menu:not(.suey-invisible-menu) .suey-sub-menu-item::after {\n    content: '';\n    position: absolute;\n    right: 0.50em;\n    top: 50%;\n    transform: translateY(-50%);\n    border: var(--arrow-size) solid transparent;\n    border-left-color: rgba(var(--text), 1.0);\n}\n\n.suey-menu:not(.suey-invisible-menu) .suey-sub-menu-item:hover::after {\n    border-left-color: rgba(var(--highlight), 1.0);\n}\n\n/* Sub Menu */\n.suey-menu-item .suey-menu {\n    top:  0px;\n    left: 101%;\n}\n\n/* Sub Menu Mouse Triangle */\n.suey-menu-mouse-triangle {\n    position: absolute;\n}\n\n/***** Invisible Hover Menu *****/\n\n.suey-invisible-menu, .suey-invisible-menu-item {\n    color: transparent;\n    background-color: transparent;\n    box-shadow: none;\n    border: none;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    padding: 0;\n}\n\n.suey-invisible-menu-item {\n    margin: 0;\n}\n\n/************ Toolbar Button **********/\n\n.suey-toolbar-button {\n    display: flex;\n    cursor: pointer;\n    background-color: transparent !important;\n    border: none;\n    border-radius: var(--radius-large);\n    outline: none;\n    position: relative;\n    height: var(--button-size);\n    width: var(--button-size);\n    min-height: var(--button-size);\n    min-width: var(--button-size);\n    margin-left: var(--pad-x-small);\n    margin-right: var(--pad-x-small);\n    opacity: 1.0;\n    overflow: hidden;\n}\n\n/* Background */\n.suey-button-background {\n    pointer-events: none;\n    position: absolute;\n    left: 0; right: 0; top: 0; bottom: 0;\n    margin: 0;\n    background-color: rgb(var(--darkness));\n    background-image: linear-gradient(to bottom, rgba(var(--icon-light), 0.6), rgba(var(--icon), 0.6));\n    border-radius: var(--radius-large);\n    border: none;\n    outline: none;\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) rgba(var(--white), 0.25),\n        inset var(--pixel) var(--minus) var(--pixel) rgba(var(--black), 0.25);\n    z-index: -1;\n}\n\n/* Hover */\n.suey-toolbar-button:not(.suey-selected):enabled:hover > .suey-button-background {\n    filter: brightness(125%);\n    box-shadow: /* pop-out-shadow */\n        inset var(--pixel) 0 var(--pixel) 0 rgba(var(--black), 0.25),\n        inset var(--minus) 0 var(--pixel) 0 rgba(var(--black), 0.25),\n        inset var(--minus) var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.15),\n        inset var(--pixel) var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.15);\n}\n\n/* Active / Selected */\n.suey-toolbar-button:not(.suey-selected):enabled:active,\n.suey-toolbar-button.suey-selected:enabled {\n    box-shadow: inset var(--minus) var(--pixel) var(--pad-small) rgba(0, 0, 0, 0.5); /* sunk-in-shadow */\n}\n.suey-toolbar-button:not(.suey-selected):enabled:active > .suey-button-background,\n.suey-toolbar-button.suey-selected:enabled > .suey-button-background {\n    filter: brightness(50%) grayscale(20%);\n}\n\n/* Hover Active */\n.suey-hover-active {\n    overflow: visible;\n}\n.suey-hover-active:hover, .suey-hover-active:active {\n    box-shadow: inset var(--minus) var(--pixel) var(--pad-small) rgba(0, 0, 0, 0.5) !important; /* sunk-in-shadow */\n}\n.suey-hover-active:hover > .suey-button-background,\n.suey-hover-active:active > .suey-button-background {\n    filter: brightness(50%) grayscale(20%) !important;\n}\n\n/* Disabled Button */\n.suey-toolbar-button:disabled {\n    background-color: rgba(var(--button-dark), var(--panel-transparency));\n    box-shadow: none;\n}\n.suey-toolbar-button:disabled {\n    filter: none;\n}\n.suey-toolbar-button:disabled > * {\n    filter: contrast(75%) grayscale(100%) brightness(50%);\n}\n\n/* Left / Middle / Right */\n.suey-button-left, .suey-button-left > .suey-button-background {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    margin-right: 0;\n}\n.suey-button-middle, .suey-button-middle > .suey-button-background {\n    border-radius: 0;\n    margin-right: 0;\n    margin-left: 0;\n}\n.suey-button-right, .suey-button-right > .suey-button-background {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n    margin-left: 0;\n}\n\n.suey-button-left > .suey-button-background {\n    box-shadow: /* pop-out-shadow */\n        inset            0 var(--pixel) rgba(var(--white), 0.25),\n        inset var(--pixel) var(--minus) var(--pixel) rgba(var(--black), 0.25);\n}\n.suey-button-middle > .suey-button-background {\n    box-shadow: /* pop-out-shadow */\n        inset            0 var(--pixel) rgba(var(--white), 0.25),\n        inset            0 var(--minus) rgba(var(--black), 0.25);\n}\n.suey-button-right > .suey-button-background {\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) rgba(var(--white), 0.25),\n        inset            0 var(--minus) rgba(var(--black), 0.25);\n}\n\n/********** Toolbar Separator / Toolbar Spacer **********/\n\n.suey-toolbar-separator {\n    border-left: solid var(--border-micro) rgba(var(--shadow), 0.50);\n    border-right: solid var(--border-micro) rgba(var(--shadow), 0.15);\n    border-top: 0;\n    border-bottom: 0;\n    width: var(--pad-micro);\n    height: calc(var(--button-size) - 1.25ch);\n    margin-left: var(--pad-medium);\n    margin-right: var(--pad-medium);\n    margin-top: var(--pad-small);\n}\n\n.suey-toolbar-spacer {\n    pointer-events: none;\n    border: none;\n    margin: none;\n    width: 1em;\n    height: var(--button-size);\n}\n");vn("/********** Panel (simple / fancy) **********/\n\n.suey-panel {\n    pointer-events: auto;\n    position: relative;\n    overflow: visible;\n    outline: none; /* for macos */\n    z-index: 0; /* Panel */\n}\n\n.suey-panel-simple {\n    --edge-thickness:       0.35714em;      /* 5px @ font size 1.4em (14px) */\n\n    background-color: rgba(var(--background-light), var(--panel-transparency));\n    border: var(--border-small) solid rgb(var(--icon));\n    border-radius: var(--radius-large);\n    margin: calc(var(--edge-thickness) + var(--pad-x-small));\n}\n\n.suey-panel-fancy-outer {\n    --edge-thickness:       0.35714em;      /* 5px @ font size 1.4em (14px) */\n    --border-radius-outer:  0.71429em;      /* 10px @ font size 1.4em (14px) */\n\n    height: 100%;\n\n    background-color: rgba(var(--background-light), calc(var(--panel-transparency) * 0.5));\n    border-radius: var(--border-radius-outer);\n    box-shadow: 0px 0px 5px 1px rgba(var(--shadow), 0.25);\n    padding: var(--edge-thickness); /* outside of border padding */\n    overflow: hidden;\n\n    /* Need for scroll bars to appear on proper layer */\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}\n\n.suey-panel-fancy-border {\n    height: 100%;\n\n    background-color: rgba(var(--background-light), var(--panel-transparency));\n    border: var(--border-small) solid rgb(var(--icon));\n    border-radius: var(--radius-large);\n    padding: var(--pad-x-small);\n    overflow: hidden;\n\n    /* Need for scroll bars to appear on proper layer */\n    display: flex;\n    flex-direction: column;\n}\n\n.suey-window .suey-panel-fancy-border {\n    border: var(--border-small) solid rgb(var(--button-light));\n}\n.suey-window.suey-active-window .suey-panel-fancy-border {\n    border: var(--border-small) solid rgb(var(--icon));\n}\n\n.suey-panel-fancy-inside {\n    height: 100%;\n    width: 100%;\n    background-color: rgba(var(--icon-light), calc(var(--panel-transparency) * 0.05));\n    border-radius: var(--radius-small);\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n\n    /* Need for scroll bars to appear on proper layer */\n    display: flex;\n    flex-direction: column;\n}\n\n/********** Scroller ********/\n\n.suey-scroller {\n    overflow: auto;\n}\n\n/********** Shrinkable **********/\n\n.suey-shrinkable {\n    background-color: transparent;\n    border: solid var(--border-small) rgba(var(--shadow), 0.25);\n    border-radius: var(--radius-large);\n    margin: var(--pad-micro);\n    box-shadow: inset 0 0 var(--pad-small) 0 rgba(var(--midlight), 0.5); /* inner-glow */\n    overflow: visible;\n}\n.suey-shrinkable.suey-borderless-panel {\n    border: solid var(--border-small) transparent;\n    margin-bottom: 0;\n    box-shadow: none;\n}\n.suey-shrinkable.suey-borderless-panel.suey-expanded {\n    border-bottom: none;\n}\n\n/* Shrinkable Title Div */\n.suey-shrink-title {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n    min-height: calc(var(--row-height));\n    overflow: hidden;\n\n    cursor: default;\n    color: rgba(var(--text-light), 1.0);\n    background-color: rgba(var(--icon), 0.35);\n\n    box-shadow: inset 0 0 var(--pad-small) 0 rgba(var(--midlight), 0.5); /* inner-glow */\n    text-shadow: var(--minus) var(--pixel) rgba(var(--shadow), 0.5);\n\n    border-bottom: solid var(--border-micro) transparent;\n    border-top: solid var(--border-micro) transparent;\n    border-top-left-radius: var(--radius-small);\n    border-top-right-radius: var(--radius-small);\n    padding: 0 var(--pad-medium); /* vertical horizontal */\n}\n.suey-shrink-title:hover {\n    color: rgba(var(--highlight), 1.0)\n}\n.suey-shrinkable:not(.suey-expanded) .suey-shrink-title {\n    border-radius: var(--radius-small);\n}\n.suey-shrinkable.suey-borderless-panel .suey-shrink-title {\n    outline: solid var(--border-small) rgba(var(--shadow), 0.25);\n    border-radius: var(--radius-small);\n}\n\n/* Title Icon */\n.suey-shrink-icon > * {\n    filter: var(--drop-shadow);\n}\n.suey-shrink-icon {\n    flex-grow: 0;\n    flex-shrink: 0;\n\n    position: relative;\n    display: flex;\n    margin: 0.15em;\n    height: calc(var(--arrow-size) * 3.5);\n    min-height: calc(var(--arrow-size) * 3.5);\n}\n.suey-shrink-icon.suey-has-icon {\n    width: calc(var(--arrow-size) * 3.5);\n    min-width: calc(var(--arrow-size) * 3.5);\n}\n\n/* Title Text */\n.suey-shrink-text {\n    flex-grow: 1;\n    flex-shrink: 2;\n\n    overflow: hidden;\n    text-align: left;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    padding-left: 0.2em;\n}\n\n/* Title Arrow */\n.suey-shrink-arrow {\n    flex-grow: 0;\n    flex-shrink: 1;\n\n    position: relative;\n    content: '';\n    margin: 0 0.35em; /* vertical horizontal */\n    width: 0;\n    height: 0;\n    transform: translateX(25%);\n    z-index: 101; /* Shrink Arrow */\n    border: var(--arrow-size) solid transparent;\n    border-color: transparent transparent transparent rgba(var(--text));\n    transition: transform var(--menu-timing);\n}\n.suey-shrink-arrow-clicker {\n    position: absolute;\n    content: '';\n    width: 1.7em;\n    height: 1.7em;\n    left: calc(1.7em * -0.5);\n    top: calc(1.7em * -0.5);\n    cursor: pointer;\n}\n.suey-shrinkable.suey-expanded .suey-shrink-title .suey-shrink-arrow {\n    transform: rotate(90deg) translateX(25%);\n}\n.suey-shrink-title:hover .suey-shrink-arrow {\n    border-color: transparent transparent transparent rgba(var(--highlight));\n}\n\n/* Shrinkable Body Div */\n.suey-shrink-body {\n    position: relative;\n    display: flex;\n    flex-wrap: wrap;\n    border-bottom-left-radius: var(--radius-small);\n    border-bottom-right-radius: var(--radius-small);\n    padding: var(--pad-small) 0;\n    overflow: hidden;\n    pointer-events: auto;\n}\n.suey-shrinkable.suey-borderless-panel .suey-shrink-body {\n    padding-bottom: 0;\n}\n.suey-shrinkable:not(.suey-expanded) .suey-shrink-body {\n    pointer-events: none;\n    display: none;\n}\n.suey-shrinkable.suey-expanded:not(.suey-borderless-panel) .suey-shrink-body {\n    border-top: solid var(--border-small) rgba(var(--shadow), 0.25);\n}\n\n/********** Titled **********/\n\n.suey-titled {\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n    display: flex; /* needed for scroll bars to appear on proper layer */\n    flex-direction: column;\n}\n\n.suey-title-arrow {\n    position: absolute;\n    content: '';\n    font-size: var(--font-size);\n    pointer-events: none;\n    width: 0;\n    height: 0;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n    transform: translateY(-25%) scale(1.0, -1.0);\n    border: 0.5em solid transparent;\n    border-color: rgba(var(--text)) transparent transparent transparent;\n    transition: transform var(--menu-timing);\n}\n.suey-title-arrow-click {\n    position: absolute;\n    cursor: pointer;\n    content: '';\n    pointer-events: all;\n    width: 2em;\n    height: 2em;\n    top: 0;\n    bottom: 0;\n    margin-top: auto;\n    margin-bottom: auto;\n    right: 0.25em;\n    z-index: 101; /* Title Arrow */\n}\n.suey-title-arrow-click:hover .suey-title-arrow {\n    border-color: rgba(var(--highlight)) transparent transparent transparent;\n}\n.suey-titled.suey-expanded .suey-tab-title .suey-title-arrow {\n    transform: translateY(25%);\n}\n\n/* Title Bar Class for top of Title Panel */\n.suey-tab-title {\n    --font-size-increase:   1.3;\n\n    position: relative;\n    display: flex;\n    flex-shrink: 0; /* don't allow title to shrink */\n    color: rgba(var(--text-light), 1);\n    background-color: transparent;\n    background-image: linear-gradient(to bottom, rgba(var(--icon-light), 0.5), rgba(var(--icon-dark), 0.5));\n    border: 0;\n    border-radius: calc(var(--radius-small) / var(--font-size-increase));\n    outline: solid calc(var(--border-small) / var(--font-size-increase)) rgba(var(--shadow), 0.25);\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.1),\n        inset var(--pixel) var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.1);\n    text-shadow: calc(var(--minus) * var(--font-size-increase)) calc(var(--pixel) * var(--font-size-increase)) rgba(var(--shadow), 0.5);\n    text-align: center;\n    overflow: hidden;\n\n    font-size: calc(100% * var(--font-size-increase));\n    margin: var(--pad-x-small);\n    justify-content: center;\n    align-items: center;\n    min-height: 1.867em;\n}\n.suey-tab-title-text {\n    user-select: none;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    font-size: 100%;\n}\n.suey-tab-title-text::selection {\n    color: rgba(var(--icon), 1);\n    background-color: rgba(var(--blacklight), 1);\n}\n");vn("/***** Question *****/\n\n.suey-question {\n    position: fixed;\n    display: flex;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 100001; /* question */\n}\n\n.suey-screen-blackout {\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: rgba(var(--background-dark), 0.75);\n    z-index: 100000; /* blackout */\n}\n\n.suey-question-left {\n    user-select: none;\n    position: relative;\n    width: 5em;\n    min-height: 5em;\n    margin: 1.5em;\n}\n\n.suey-question-right {\n    position: relative;\n    flex-direction: column;\n    display: flex;\n    min-width: 16em;\n    min-height: 5em;\n}\n\n.suey-question-top {\n    position: relative;\n    display: flex;\n    flex: 1 1 auto;\n    min-height: 3em;\n    margin-top: 0.5em;\n    text-align: center;\n}\n\n.suey-question-bottom {\n    position: relative;\n    display: flex;\n    height: 2em;\n    margin: 0.5em;\n}\n");vn("/********** Main Window **********/\n\n.suey-main-window {\n    user-select: none;\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n}\n\n.suey-window-holder {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    pointer-events: none;\n}\n\n/********** Abstract Dock **********/\n\n.suey-dock {\n    position: relative;\n}\n\n/********** Docker **********/\n\n.suey-docker {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    min-width: 8em;\n    min-height: 8em;\n    max-width: 100%;\n    max-height: 100%;\n    pointer-events: none;\n}\n\n.suey-docker.suey-docker-primary {\n    width: 100vw;\n    height: 100vh;\n    top: 0;\n    left: 0;\n    overflow: visible;\n}\n\n.suey-docker-vertical {\n    height: 100%;\n}\n\n.suey-docker-horizontal {\n    width: 100%;\n}\n\n.suey-dock-drag .suey-docker {\n    pointer-events: all !important;\n}\n\n/***** Collapsed Docks */\n\n.suey-docker.suey-collapsed {\n    min-width: calc(var(--tab-size) * 1) !important;\n    min-height: calc(var(--tab-size) * 1) !important;\n}\n\n.suey-collapsed .suey-corner-button {\n    display: none !important;\n}\n\n.suey-collapsed > .suey-tabbed .suey-panel-simple,\n.suey-collapsed > .suey-tabbed .suey-panel-fancy-outer,\n.suey-collapsed > .suey-tabbed .suey-panel-fancy-border,\n.suey-collapsed > .suey-tabbed .suey-panel-fancy-inside {\n    background-color: transparent !important;\n    border-color: transparent !important;\n    outline: none !important;\n    box-shadow: none !important;\n}\n\n.suey-collapsed > .suey-tabbed .suey-tab-floaters * {\n    opacity: 0 !important;\n    user-select: none !important;\n    pointer-events: none !important;\n}\n\n.suey-collapsed > .suey-tabbed .suey-tab-buttons.suey-left-side { top: 0; right: 0; left: auto; }\n.suey-collapsed > .suey-tabbed .suey-tab-buttons.suey-right-side { top: 0; left: 0; right: auto; }\n.suey-collapsed > .suey-tabbed .suey-tab-buttons.suey-top-side { left: 0; bottom: 0; top: auto; }\n.suey-collapsed > .suey-tabbed .suey-tab-buttons.suey-bottom-side { left: 0; top: 0; bottom: auto; }\n.suey-collapsed > .suey-tabbed .suey-tab-button {\n    margin: 0 !important;\n}\n\n.suey-collapsed .suey-tabbed .suey-resizer {\n    pointer-events: none !important;\n    display: none !important;\n}\n\n/***** Dock Locations */\n\n.suey-dock-locations {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.suey-dock-location {\n    --size: 2em;\n    position: absolute;\n    opacity: 0.0;\n}\n.suey-dock-left   { left:  0; top:    0; width:  20%; height: 100%; }\n.suey-dock-right  { right: 0; top:    0; width:  20%; height: 100%; }\n.suey-dock-top    { left:  0; top:    0; width: 100%; height:  25%; }\n.suey-dock-bottom { left:  0; bottom: 0; width: 100%; height:  25%; }\n.suey-dock-center { left: 20%; top: 20%; width:  60%; height:  60%; }\n\n.suey-dock-middle-vertical   { left: var(--size); top:   0; height: 100%; width:  calc(100% - (var(--size) * 2)); }\n.suey-dock-middle-horizontal { left:   0; top: var(--size); width:  100%; height: calc(100% - (var(--size) * 2)); }\n.suey-dock-split-left   { left:  0; top:    0; width:  var(--size); height: 100%; }\n.suey-dock-split-right  { right: 0; top:    0; width:  var(--size); height: 100%; }\n.suey-dock-split-top    { left:  0; top:    0; width: 100%; height:  var(--size); }\n.suey-dock-split-bottom { left:  0; bottom: 0; width: 100%; height:  var(--size); }\n\n.suey-dock-location.suey-dock-drop {\n    background-color: transparent;\n    opacity: 1.0;\n}\n.suey-dock-location.suey-dock-drop:not(.suey-dock-self)::before {\n    --shrink: 0.57143em;\n    content: '';\n    position: absolute;\n    left: var(--shrink);\n    right: var(--shrink);\n    top: var(--shrink);\n    bottom: var(--shrink);\n    background-color: rgba(var(--background-light), var(--panel-transparency));\n    border: var(--border-small) solid rgb(var(--complement));\n    border-radius: var(--radius-large);\n    outline: var(--radius-large) solid rgba(var(--background-light), calc(var(--panel-transparency) * 0.5));\n}\n\n.suey-docker.suey-dock-self .suey-panel-simple,\n.suey-docker.suey-dock-self .suey-panel-fancy-border {\n    border: var(--border-small) solid rgb(var(--complement)) !important;\n}\n\n/********** Floater **********/\n\n.suey-floater {\n    display: flex; /* needed for scroll bars to appear on proper layer */\n    flex-direction: column;\n    pointer-events: auto;\n    height: 100%;\n    width: 100%;\n    overflow: auto;\n}\n\n/********** Tabbed **********/\n\n.suey-tabbed {\n    pointer-events: all;\n    max-height: 100%;\n    padding: var(--pad-small);\n}\n\n/***** TabPanels */\n\n/* Child of Tabbed that holds multiple 'Floater' */\n.suey-tab-floaters {\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n\n    /* Need for scroll bars to appear on proper layer */\n    display: flex;\n    flex-direction: column;\n}\n\n/***** TabButtons */\n\n/* Child of Tabbed that holds multiple 'TabButton' */\n.suey-tab-buttons {\n    pointer-events: none;\n    position: absolute;\n    display: flex;\n    z-index: 101; /* Tabs */\n    min-width: var(--tab-size);\n    min-height: var(--tab-size);\n    margin: 0;\n}\n\n.suey-dock-drag .suey-tab-buttons {\n    pointer-events: all;\n}\n\n.suey-tab-buttons.suey-left-side,\n.suey-tab-buttons.suey-right-side {\n    flex-direction: column;\n    top: 1em;\n}\n\n.suey-tab-buttons.suey-top-side,\n.suey-tab-buttons.suey-bottom-side {\n    flex-direction: row;\n    left: 1em;\n}\n\n.suey-tab-buttons.suey-top-side { top: calc((var(--tab-size) / -2.0) + 0.52em); }\n.suey-tab-buttons.suey-bottom-side { bottom: calc((var(--tab-size) / -2.0) + 0.52em); }\n\n.suey-tab-buttons.suey-left-side { left: calc((var(--tab-size) / -2.0) + 0.52em); }\n.suey-tab-buttons.suey-right-side { right: calc((var(--tab-size) / -2.0) + 0.52em); }\n\n/***** TabButton *****/\n\n.suey-tab-button {\n    pointer-events: all;\n    width: var(--tab-size);\n    height: var(--tab-size);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    color: rgba(var(--text), 1.0);\n    background-color: transparent;\n    border: none;\n    border-radius: var(--tab-size);\n    outline: none;\n    margin: var(--pad-x-small);\n    transform: scale(70%);\n    transition: margin var(--tab-timing) ease-in-out, transform var(--tab-timing) ease-in-out;\n}\n\n.suey-window .suey-tab-button {\n    transition: 0s;\n}\n\n.suey-tab-buttons.suey-top-side .suey-tab-button:not(.suey-selected),\n.suey-tab-buttons.suey-bottom-side .suey-tab-button:not(.suey-selected) {\n    margin-left: calc(-1 * var(--pad-x-small));\n    margin-right: calc(-1 * var(--pad-x-small));\n}\n\n.suey-tab-buttons.suey-left-side .suey-tab-button:not(.suey-selected),\n.suey-tab-buttons.suey-right-side .suey-tab-button:not(.suey-selected) {\n    margin-top: calc(-1 * var(--pad-x-small));\n    margin-bottom: calc(-1 * var(--pad-x-small));\n}\n\n.suey-drag-tab-button {\n    position: absolute;\n    z-index: 10000;\n    pointer-events: none;\n    opacity: 0.8;\n    transform: scale(100%);\n}\n.suey-drag-tab-button .suey-tab-icon-border {\n    border-width: var(--border-small);\n}\n\n:not(.suey-collapsed) > .suey-dock .suey-tab-button.suey-selected {\n    color: rgba(var(--highlight), 1.0);\n    margin-top: var(--pad-x-small);\n    margin-bottom: var(--pad-x-small);\n    transform: scale(100%);\n}\n\n/* Tab Image */\n.suey-tab-button .suey-vector-box {\n    position: absolute;\n    border: none;\n    border-radius: var(--tab-size);\n    outline: none;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    filter: contrast(75%) grayscale(100%) brightness(75%);\n}\n\n:not(.suey-collapsed) > .suey-dock .suey-tab-button.suey-selected .suey-vector-box {\n    filter: none;\n}\n\n.suey-tab-button:hover .suey-vector-box,\n.suey-tab-button:active .suey-vector-box {\n    filter: brightness(120%) !important;\n}\n\n.suey-tab-button:active .suey-vector-box .suey-image {\n    transform: translate(0, var(--pixel));\n}\n\n/* Tab Image Border / Shadow */\n.suey-tab-icon-border {\n    cursor: pointer;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border: var(--pad-small) solid rgba(var(--icon));\n    border-radius: calc(var(--tab-size) * 0.7);\n    outline: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transform: scale(1.05);\n}\n\n.suey-tab-button.suey-drop-target .suey-tab-icon-border {\n    border-color: rgba(var(--complement)) !important;\n}\n\n.suey-tab-button:hover .suey-tab-icon-border {\n    box-shadow:\n        inset 0 var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.50),\n        inset 0 var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.35);\n}\n\n.suey-tab-button:active .suey-tab-icon-border {\n    box-shadow:\n        inset 0 var(--pixel) var(--pixel) var(--pixel) rgba(var(--black), 0.35);\n}\n\n:not(.suey-collapsed) > .suey-tabbed .suey-tab-button.suey-selected .suey-tab-icon-border {\n    border: 0.15em solid rgb(var(--icon));\n}\n\n/********** Window **********/\n\n.suey-window {\n    --window-z-index: 200;\n\n    position: absolute;\n    padding: var(--pad-small);\n    opacity: calc(90% + (10% * var(--panel-transparency)));\n    z-index: var(--window-z-index); /* Window */\n}\n\n.suey-window.suey-drop-target .suey-panel-simple,\n.suey-window.suey-drop-target .suey-panel-fancy-border {\n    border: var(--border-small) solid rgb(var(--complement)) !important;\n}\n\n.suey-window:not(.suey-active-window) div::-webkit-scrollbar-thumb:horizontal {\n    background: linear-gradient(to left, rgba(var(--button-light), 1), rgba(var(--button-dark), 1));\n    border-radius: calc(var(--scroll-size) / 2.0);\n}\n.suey-window:not(.suey-active-window) div::-webkit-scrollbar-thumb:vertical {\n    background: linear-gradient(to bottom, rgba(var(--button-light), 1), rgba(var(--button-dark), 1));\n    border-radius: calc(var(--scroll-size) / 2.0);\n}\n\n.suey-panel-button.suey-title-bar {\n    --title-width: 0;\n    color: rgba(var(--highlight), 0.5);\n    border: var(--border-small) solid rgb(var(--button-light));\n    border-radius: var(--radius-large);\n    background-color: rgba(var(--background-dark), 1.0);\n    background-image: linear-gradient(to bottom, rgba(var(--background-light), 0.5), rgba(var(--background-dark), 0.5));\n    box-shadow: none;\n    text-shadow: none;\n    text-align: center;\n    left: 0;\n    right: 0;\n    min-width: 6em;\n    min-height: 1.6em;\n    margin-left: auto;\n    margin-right: auto;\n    overflow: visible;\n}\n\n.suey-active-window .suey-panel-button.suey-title-bar {\n    color: rgba(var(--highlight), 1);\n    background-image: linear-gradient(to bottom, rgba(var(--icon-light), 0.5), rgba(var(--icon), 0.5));\n    border: var(--border-small) solid rgb(var(--icon));\n    text-shadow: var(--minus) var(--pixel) rgba(var(--shadow), 0.5);\n}\n\n/* Window Tab Buttons */\n\n.suey-tab-buttons.suey-window-side {\n    flex-direction: row;\n    top: calc((var(--tab-size) / -2.0) + 0.4em);\n}\n.suey-tab-buttons.suey-window-side .suey-tab-icon-border {\n    border: var(--border-small) solid rgba(var(--icon));\n}\n.suey-window-moving .suey-tab-buttons.suey-window-side {\n    transition: transform 0.15s;\n}\n.suey-window-moving .suey-tab-buttons.suey-window-side .suey-tab-icon-border {\n    transition: border 0.15s;\n}\n\n.suey-shrink-tab-button .suey-tab-buttons.suey-window-side {\n    top: calc((var(--tab-size) / -2.0) + 0.5em); /* 42857em);*/\n    transform: scale(65%);\n}\n.suey-shrink-tab-button .suey-tab-buttons.suey-window-side .suey-tab-icon-border {\n    border: 0.24em solid rgba(var(--icon));\n}\n\n.suey-panel-button.suey-title-bar .suey-tab-buttons {\n    left: 110%;\n    margin-left: 0.5em;\n}\n\n.suey-window:not(.suey-active-window) .suey-tab-icon-border {\n    border-color: rgba(var(--button-light)) !important;\n}\n\n/* Window Floaters */\n.suey-window .suey-panel-fancy-outer,\n.suey-window .suey-panel-fancy-border,\n.suey-window .suey-panel-fancy-inside,\n.suey-window .suey-tab-floaters,\n.suey-window .suey-floater,\n.suey-window .suey-titled {\n    overflow: visible;\n}\n\n.suey-window .suey-floater {\n    z-index: 101; /* window floater */\n}\n\n.suey-window .suey-tab-floaters {\n    margin-top: 1em;\n    height: calc(100% - 1em);\n}\n\n/* Window Tab Title Buttons */\n.suey-window .suey-tab-title {\n    pointer-events: none;\n    position: absolute;\n    top: -1.8em;\n    left: 0;\n    right: 0;\n    width: 75%;\n    margin: auto;\n    min-height: 1.9em;\n    background: transparent;\n    background-image: none;\n    box-shadow: none;\n    outline: none;\n    color: transparent;\n    text-shadow: none;\n    overflow: visible;\n}\n.suey-window .suey-tab-title .suey-borderless-button {\n    pointer-events: all;\n    position: relative;\n    pointer-events: all;\n    background: rgb(var(--button-dark)) !important;\n    border: solid var(--border-small) rgb(var(--icon));\n    overflow: visible;\n}\n.suey-window:not(.suey-active-window) .suey-tab-title .suey-borderless-button {\n    border: solid var(--border-small) rgb(var(--button-light));\n}\n");vn("/********** Gooey Panel **********/\n\n.suey-gooey {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 21em;\n    z-index: 1; /* Gooey */\n}\n");vn("/********** Property List **********/\n\n.suey-property-list {\n    width: 100%;\n}\n\n/***** Property Header */\n\n.suey-property-header-title {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n    min-height: calc(var(--row-height));\n    overflow: hidden;\n\n    cursor: default;\n    background-color: rgba(var(--icon), 0.1); /* transparent; */\n    border-top: solid var(--border-small) rgba(var(--shadow), 0.25);\n    border-bottom: solid var(--border-small) rgba(var(--shadow), 0.25);\n    text-shadow: var(--minus) var(--pixel) rgba(var(--shadow), 0.5);\n    margin: var(--pad-micro) 0;\n    padding: 0;\n    padding-left: 0.425em;\n    padding-top: var(--pad-micro);\n    padding-bottom: var(--pad-micro);\n}\n\n.suey-shrinkable.suey-borderless-panel .suey-property-header-title {\n    border-radius: var(--radius-small);\n}\n\n.suey-property-header-icon > * {\n    filter: var(--drop-shadow);\n}\n\n.suey-property-header-icon {\n    flex-grow: 0;\n    flex-shrink: 0;\n\n    position: relative;\n    display: flex;\n    margin: 0.15em;\n    height: calc(var(--arrow-size) * 3.5);\n    min-height: calc(var(--arrow-size) * 3.5);\n    width: calc(var(--arrow-size) * 3.5);\n    min-width: calc(var(--arrow-size) * 3.5);\n}\n\n.suey-property-header-text {\n    flex-grow: 1;\n    flex-shrink: 2;\n    color: rgba(var(--text-light), 1.0);\n    font-size: 100%;\n    overflow: hidden;\n    text-align: left;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-left: 0.5em;\n}\n\n/***** Property Row */\n\n.suey-property-row {\n    position: relative;\n    min-height: var(--row-height);\n}\n\n.suey-property-row:hover .suey-property-left {\n    color: rgba(var(--highlight), 0.8);\n}\n\n.suey-property-row:hover .suey-property-left .suey-image {\n    filter: brightness(250%);\n}\n\n.suey-property-space {\n    flex: 0 0 auto;\n    min-width: 0.2em;\n}\n\n.suey-property-left {\n    --left-property-width: 50%;\n\n    width: var(--left-property-width) !important;\n\n    position: relative;\n    flex-shrink: 0;\n    margin: 0;\n    padding-left: var(--pad-medium);\n    height: 100%;\n    min-height: var(--row-height);\n    text-align: left;\n    text-transform: capitalize;\n}\n.suey-left-tab-spacing {\n    padding-left: 0.85em;\n}\n\n.suey-property-right {\n    --right-property-width: 50%;\n\n    width: calc(var(--right-property-width) - var(--pad-small)) !important;\n\n    flex-shrink: 0;\n    margin: auto;\n    margin-right: var(--pad-small) !important;\n    justify-content: left;\n    text-align: left;\n    height: 100%;\n    min-height: var(--row-height);\n}\n\n.suey-property-full {\n    margin: auto;\n    margin-right: var(--pad-small) !important;\n    justify-content: center;\n    text-align: center;\n    height: 100%;\n    min-height: var(--row-height);\n    width: calc(100% - var(--pad-small)) !important;\n}\n\n.suey-property-full > *:not(.suey-property-space) {\n    flex: 1 1 auto;\n    min-height: var(--row-height);\n    min-width: 0;\n    margin: auto;\n    height: 100%;\n}\n\n/***** Right side of Property Row */\n\n.suey-property-right .suey-number:not(.suey-property-tiny-row),\n.suey-property-right > *:not(.suey-property-tiny-row):not(.suey-property-button):not(.suey-property-space) {\n    flex: 1 1 auto;\n    min-height: var(--row-height);\n    min-width: 0;\n    margin: auto;\n    text-align: left;\n    height: 100%;\n}\n\n.suey-property-right > .suey-button:not(.suey-property-tiny-row):not(.suey-property-button):not(.suey-menu-button) {\n    text-align: center;\n}\n\n/* Right side of Property Box flex fill when using multiple controls */\n.suey-property-tiny-row {\n    --min-width: 2em;\n\n    flex: 2 2 var(--min-width);\n    min-height: var(--row-height);\n    min-width: var(--min-width);\n    height: 100%;\n}\n\n/***** Property Button */\n\n/* Button appearing in right column of Property List, fixed size */\n.suey-property-button {\n    position: relative;\n    min-height: var(--row-height);\n    min-width: 2.1em;\n}\n\n/* Button appearing in right column of Property List, flex box */\n.suey-property-button-flex {\n    flex: 1 1 auto;\n    position: relative;\n    display: block;\n    overflow: hidden;\n    margin: 0 0.05em;\n    padding: 0 0.1em;\n    height: var(--row-height);\n    white-space: nowrap;\n}\n\n/********** Tree List **********/\n\n.suey-tree-list {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: left;\n    overflow: hidden;\n    margin: var(--pad-small);\n\n    color: rgba(var(--text), 1.0);\n    background-color: rgba(var(--background-dark), 0.25);\n    border: 0;\n    border-radius: var(--radius-small);\n    outline: solid var(--border-small) rgba(var(--shadow), 0.35);\n    box-shadow: inset 0 0 var(--pad-small) 0 rgba(var(--midlight), 0.5); /* inner-glow */\n\n    cursor: default;\n}\n\n/********** Tree List Option **********/\n\n.suey-tree-list .suey-option {\n    position: relative;\n    text-align: left;\n    border: var(--border-small) solid transparent;\n    padding: var(--pad-x-small);\n    width: 100%;\n    white-space: nowrap;\n}\n.suey-tree-list .suey-option:hover:not(.suey-no-select) {\n    color: rgba(var(--text-light), 1.0);\n    background-color: rgba(var(--background-dark), 0.2);\n}\n\n.suey-tree-list .suey-option.suey-active:not(.suey-no-select) {\n    color: rgba(var(--highlight), 1.0);\n    background-color: rgba(var(--icon-light), 0.4);\n    border-top: var(--border-small) solid rgba(var(--shadow), 0.25);\n    border-bottom: var(--border-small) solid rgba(var(--shadow), 0.25);\n    border-radius: var(--radius-small);\n}\n.suey-tree-list .suey-option.suey-active-top:not(.suey-no-select) {\n    border-bottom: var(--border-small) solid transparent;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n}\n.suey-tree-list .suey-option.suey-active-bottom:not(.suey-no-select) {\n    border-top: var(--border-small) solid transparent;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n}\n\n.suey-tree-list .suey-option.suey-drag:not(.suey-active) {\n    border: var(--border-small) solid rgba(var(--icon-light), 1.0);\n    border-radius: var(--radius-small);\n}\n.suey-tree-list .suey-option.suey-drag-top:not(.suey-active) {\n    border-top: var(--border-small) solid rgba(var(--icon-light), 1.0);\n}\n.suey-tree-list .suey-option.suey-drag-bottom:not(.suey-active) {\n    border-bottom: var(--border-small) solid rgba(var(--icon-light), 1.0);\n}\n\n/********** Tree List Opener **********/\n\n.suey-tree-list .suey-opener {\n    display: inline-block;\n    width: 1em;\n    height: 1em;\n    margin: 0 0.25em;\n\n    vertical-align: top;\n    text-align: center;\n}\n\n.suey-tree-list .suey-opener.suey-is-open:after {\n    content: '-';\n}\n\n.suey-tree-list .suey-opener.suey-is-closed:after {\n    content: '+';\n}\n\n/********** Drag Image **********/\n\n.suey-drag-image {\n    display: flex;\n    position: absolute;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    left: 0;\n    top: 0;\n    background-color: transparent;\n    box-shadow: none;\n    border: none;\n    border-radius: var(--radius-small);\n    z-index: 100000; /* Drag Clone */\n}\n");vn("/********** Graph **********/\n\n.suey-graph-input, .suey-graph-grid, .suey-graph-nodes, .suey-graph-lines {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n}\n\n/* Div used for processing user input */\n.suey-graph-input {\n    background: transparent;\n    z-index: -1; /* Graph Input */\n}\n\n/* Background div that holds tiled grid */\n.suey-graph-grid {\n    pointer-events: none;\n    background-color: rgb(var(--darkness));\n    background-repeat: repeat;\n    transition: none;\n}\n\n/* Scalable div to hold nodes */\n.suey-graph-nodes {\n    pointer-events: none;\n    background-color: transparent;\n    transition: none;\n}\n\n/* Canvas where lines are drawn */\n.suey-graph-lines {\n    pointer-events: none;\n}\n\n/* Shows rubberband box */\n.suey-graph-band-box {\n    position: absolute;\n    display: none;\n    background-color: rgba(var(--icon), 0.2);\n    border: solid var(--border-small) rgba(var(--icon), 0.75);\n}\n\n/***** Graph Minimap */\n\n.suey-mini-map {\n    position: absolute;\n    background-color: rgba(var(--background-dark), 0.5);\n    border: var(--border-small) solid rgba(var(--icon), 0.75);\n    border-radius: var(--radius-large);\n    bottom: var(--pad-large);\n    right: var(--pad-large);\n    width: 20%;\n    height: 20%;\n    z-index: 101; /* GraphMap */\n    cursor: grab;\n}\n\n.suey-mini-map-canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    outline: none;\n}\n\n.suey-mini-map-resizers {\n    position: absolute;\n    width: calc(100% + var(--resize-size));\n    height: calc(100% + var(--resize-size));\n    margin: calc(var(--resize-size) / -2);\n    outline: none;\n}\n\n/********** Node **********/\n\n.suey-node {\n    --node-color:       255, 0, 0;\n\n    pointer-events: all;\n    position: absolute;\n    background-color: transparent;\n    border-radius: var(--radius-large);\n    border: none;\n    outline: solid var(--pad-micro) rgb(var(--black), 0.5);\n    margin: 0;\n    cursor: inherit;\n    overflow: visible;\n    z-index: 0; /* Node */\n}\n\n.suey-active-node {\n    z-index: 1; /* Active Node */\n}\n\n.suey-node:hover, .suey-node.suey-node-selected {\n    filter: brightness(120%);\n}\n\n.suey-node.suey-too-small .suey-resizer {\n    pointer-events: none;\n}\n\n.suey-node-panel {\n    pointer-events: none;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    background-color: rgba(var(--button-dark), 1);\n    border-radius: var(--radius-large);\n    position: absolute;\n    left: 0; top: 0; right: 0; bottom: 0;\n    margin: 0;\n    padding: 0;\n    cursor: inherit;\n    overflow: visible;\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.1),\n        inset var(--pixel) var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.1);\n}\n\n.suey-node-border {\n    pointer-events: none;\n    border: var(--border-small) solid transparent;\n    border-radius: var(--radius-large);\n    position: absolute;\n    left: 0; top: 0; right: 0; bottom: 0;\n    margin: calc(var(--border-small) * -0.5);\n    padding: 0;\n}\n\n.suey-node.suey-node-displayed .suey-node-border {\n    border: var(--border-small) solid rgba(var(--complement), 1);\n}\n\n.suey-node.suey-node-selected .suey-node-border {\n    border: var(--border-small) solid rgba(var(--icon), 1);\n}\n\n.suey-node.suey-node-selected,\n.suey-node.suey-node-displayed {\n    outline: solid var(--pad-small) rgb(var(--black), 0.5);\n}\n.suey-node.suey-node-selected .suey-node-border {\n    border: var(--border-small) solid rgba(var(--icon), 1);\n}\n/* .suey-node.suey-node-selected.suey-node.suey-node-displayed {\n    outline: solid var(--pad-small) rgb(var(--icon), 1);\n} */\n/* .suey-node.suey-node-selected.suey-node.suey-node-displayed .suey-node-border {\n    border: var(--border-small) solid rgba(var(--complement), 1);\n} */\n\n.suey-node-resizers {\n    pointer-events: all;\n    position: absolute;\n    opacity: 0;\n    left: 0; top: 0; right: 0; bottom: 0;\n    margin: calc(var(--resize-size) / -2);\n    padding: 0;\n}\n\n/***** Node Header */\n\n.suey-node-header-title {\n    pointer-events: none;\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    background-image: linear-gradient(to bottom, rgba(var(--icon-light), 0.5), rgba(var(--icon-dark), 0.5));\n    border-top-right-radius: var(--radius-large);\n    border-top-left-radius: var(--radius-large);\n    width: 100%;\n    height: 1.82em;\n    margin: 0;\n    padding: var(--pad-x-small) 0.5em; /* vertical | horizontal */\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.1),\n        inset var(--pixel) var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.2);\n}\n\n.suey-node-header-icon .suey-vector-box {\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 85%;\n    height: 85%;\n    filter: drop-shadow(0 0 var(--pad-micro) rgba(var(--shadow), 0.8));\n}\n\n.suey-node-header-icon .suey-image {\n    filter: brightness(calc(10 * var(--bright))) opacity(0.9);\n}\n\n.suey-node-displayed .suey-node-header-icon .suey-image {\n    filter: var(--tint-complement);\n}\n\n.suey-node-header-icon {\n    pointer-events: none;\n    position: absolute;\n    background-color: rgba(var(--button-dark), 1);\n    border-radius: 0.25em;\n    left: 0.2em;\n    top: 0.2em;\n    width: 1.65em;\n    height: 1.35em;\n    opacity: 1;\n    box-shadow: inset 0 0 var(--pixel) rgba(var(--shadow), 0.5);\n}\n\n.suey-node-header-text {\n    pointer-events: none;\n    flex-grow: 1;\n    flex-shrink: 2;\n    color: rgba(var(--text-light), 1.0);\n    text-shadow: var(--minus) var(--pixel) rgba(var(--shadow), 0.5);\n    font-size: 100%;\n    overflow: hidden;\n    text-align: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-left: 0.5em;\n}\n\n.suey-node-displayed .suey-node-header-text {\n    color: rgba(var(--complement), 1);\n    text-shadow: 0 0 0.15em rgba(var(--shadow), 1);\n}\n\n/***** Node Item */\n\n.suey-node-interior {\n    pointer-events: none;\n    display: flex;\n    flex-direction: row;\n    flex: 1 1 auto;\n    position: relative;\n    background-color: transparent;\n    min-width: 100px;\n    min-height: 25px;\n}\n\n.suey-node-item-list {\n    pointer-events: none;\n    display: block;\n    flex: 1 1 auto;\n    position: relative;\n    background-color: transparent;\n    width: 50%;\n    min-height: 25px;\n}\n\n/* Item */\n.suey-node-item {\n    pointer-events: none;\n    position: relative;\n    background-color: transparent;\n    color: var(--text);\n    font-size: 85%;\n    width: 100%;\n    padding: var(--pad-medium);\n    margin-top: var(--pad-x-small);\n    margin-bottom: var(--pad-x-small);\n    vertical-align: middle;\n}\n\n.suey-node-displayed .suey-node-item {\n    color: rgba(var(--complement), 1);\n}\n\n.suey-node-left {\n    text-align: left;\n    padding-left: 1.2em;\n}\n\n.suey-node-right {\n    text-align: right;\n    padding-right: 1.2em;\n}\n\n/* Item point */\n.suey-node-item-point {\n    pointer-events: all;\n    position: absolute;\n    width: 1em;\n    height: 1em;\n    background-color: rgba(var(--background-dark), 1);\n    border: var(--border-small) solid rgba(var(--button-light), 1);\n    border-radius: 0.3em;\n    outline: none;\n    top: 50%;\n    overflow: visible;\n    z-index: 100; /* Node Item Point */\n}\n\n.suey-node-left .suey-node-item-point {\n    left: 0;\n    transform: translate(-50%, -50%);\n}\n.suey-node-right .suey-node-item-point {\n    right: 0;\n    transform: translate( 50%, -50%);\n}\n\n/* Increases mouse over hit area */\n.suey-node-item-point::before {\n    content: ' ';\n    position: absolute;\n    left: 0; right: 0; top: 0; bottom: 0;\n    margin: -0.5em;\n    background-color: transparent;\n}\n\n/* Inner square */\n.suey-node-item.suey-item-connected .suey-node-item-point::after,\n.suey-node-item .suey-node-item-point.suey-active-item::after {\n    content: ' ';\n    position: absolute;\n    left: 0; right: 0; top: 0; bottom: 0;\n    margin: var(--pad-x-small);\n    background-color: rgb(var(--node-color));\n    border-radius: 0.08em;\n}\n\n/* Item point highlight border */\n.suey-node.suey-node-displayed .suey-node-item-point {\n    border: var(--border-small) solid rgba(var(--complement), 1);\n}\n.suey-node.suey-node-selected .suey-node-item-point {\n    border: var(--border-small) solid rgba(var(--icon), 1);\n}\n\n.suey-node-item-point.suey-hover-point, .suey-node.suey-node-selected .suey-node-item-point.suey-hover-point,\n.suey-node-item-point.suey-active-item, .suey-node.suey-node-selected .suey-node-item-point.suey-active-item {\n    border: var(--border-small) solid rgba(var(--highlight), 1);\n    width: 1.2em;\n    height: 1.2em;\n}\n\n/* Item Unhooker (little 'X') */\n.suey-node-item-unhook {\n    pointer-events: none;\n    position: absolute;\n    width: 1em;\n    height: 1em;\n    top: 10%;\n    background-color: transparent;\n    border: none;\n    outline: none;\n    overflow: visible;\n    filter: brightness(50%);\n    transform: translateY(-50%);\n    opacity: 0;\n}\n\n.suey-node-right .suey-node-item-unhook {\n    left: calc(100% + 0.7em);\n}\n.suey-node-left .suey-node-item-unhook {\n    left: calc(0em - var(--row-height));\n}\n\n/* Increases mouse over hit area */\n.suey-node-item-unhook::before {\n    content: ' ';\n    position: absolute;\n    left: 0; right: 0; top: 0; bottom: 0;\n    margin: -0.5em;\n    background-color: transparent;\n}\n\n.suey-node-item.suey-item-connected .suey-node-item-unhook {\n    pointer-events: all;\n}\n\n.suey-node-item.suey-item-connected:hover .suey-node-item-unhook {\n    opacity: 1;\n}\n\n.suey-node-item-unhook .suey-image {\n    filter: var(--drop-shadow);\n}\n\n.suey-node-item.suey-item-connected .suey-node-item-unhook:hover {\n    filter: brightness(100%);\n}\n");vn("/********** Panel Button **********/\n\n.suey-panel-button {\n    pointer-events: all;\n    border: var(--border-small) solid rgb(var(--icon));\n    outline: solid var(--border-small) rgba(var(--shadow), 0.2);\n    box-shadow: /* pop-out-shadow */\n        inset var(--minus) var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.1),\n        inset var(--pixel) var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.1);\n    position: absolute;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    filter: none;\n    z-index: 1001; /* Panel Button */\n}\n\n.suey-panel-button:hover {\n    opacity: 1.0;\n    filter: brightness(125%);\n    transition: opacity 0.1s;\n}\n\n.suey-panel-button:active {\n    box-shadow: inset 0 var(--pad-micro) var(--pad-x-small) 0 rgba(var(--shadow), 0.75); /* sunk-in-shadow */\n    filter: brightness(100%);\n}\n\n/********** Corner Buttons **********/\n\n.suey-corner-button {\n    cursor: pointer;\n    border-radius: 50%;\n    outline: none;\n    opacity: 0;\n    overflow: visible;\n    transition: background-color 0.1s, opacity 0.25s ease-in-out;\n}\n\n/* Enlarge button click area */\n.suey-corner-button:before {\n    position: absolute;\n    content: '';\n    top: -0.25em;\n    right: -0.25em;\n    left: -0.25em;\n    bottom: -0.25em;\n    outline: none;\n}\n\n.suey-corner-button.suey-item-shown {\n    opacity: 1.0;\n    filter: brightness(100%);\n    transition: opacity 0.1s;\n}\n\n.suey-corner-button.suey-item-hidden {\n    opacity: 0;\n    transition: opacity 0.1s;\n}\n\n.suey-corner-image {\n    outline: none;\n    opacity: 0;\n    transition: opacity 0.1s;\n}\n\n.suey-corner-button:hover .suey-corner-image {\n    opacity: 1.0;\n}\n\n/********** Resizeable **********/\n\n.suey-resizer {\n    --height: 100%;\n    --width: 100%;\n    --offset: 0em;\n    position: absolute;\n    pointer-events: all;\n    margin: 0;\n    opacity: 0;                             /* NOTE: Change to > 0.0 to see 'Resizers' */\n    z-index: 0; /* Resizer */\n}\n\n.suey-resizer-left {\n    background-color: rgb(255, 0, 0);\n    width: var(--resize-size);\n    height: calc(var(--height) - (var(--offset) * 2));\n    left: 0;\n    top: 0;\n    margin-left: var(--offset);\n    margin-top: var(--offset);\n    cursor: col-resize;\n}\n\n.suey-resizer-right {\n    background-color: rgb(0, 0, 255);\n    width: var(--resize-size);\n    height: calc(var(--height) - (var(--offset) * 2));\n    right: 0;\n    top: 0;\n    margin-right: var(--offset);\n    margin-top: var(--offset);\n    cursor: col-resize;\n}\n\n.suey-resizer-top {\n    background-color: rgb(0, 255, 0);\n    width: calc(var(--width) - (var(--offset) * 2));\n    height: var(--resize-size);\n    left: 0;\n    top: 0;\n    margin-left: var(--offset);\n    margin-top: var(--offset);\n    cursor: row-resize;\n}\n\n.suey-resizer-bottom {\n    background-color: rgb(255, 255, 255);\n    width: calc(var(--width) - (var(--offset) * 2));\n    height: var(--resize-size);\n    left: 0;\n    bottom: 0;\n    margin-left: var(--offset);\n    margin-bottom: var(--offset);\n    cursor: row-resize;\n}\n\n.suey-resizer-top-left {\n    background-color: rgb(255, 255, 0);\n    width: var(--resize-size);\n    height: var(--resize-size);\n    left: 0;\n    top: 0;\n    margin-left: var(--offset);\n    margin-top: var(--offset);\n    cursor: nwse-resize;\n    z-index: 100; /* Resizer Corner */\n}\n\n.suey-resizer-top-right {\n    background-color: rgb(0, 255, 255);\n    width: var(--resize-size);\n    height: var(--resize-size);\n    right: 0;\n    top: 0;\n    margin-right: var(--offset);\n    margin-top: var(--offset);\n    cursor: nesw-resize;\n    z-index: 100; /* Resizer Corner */\n}\n\n.suey-resizer-bottom-right {\n    background-color: rgb(255, 0, 255);\n    width: var(--resize-size);\n    height: var(--resize-size);\n    right: 0;\n    bottom: 0;\n    margin-right: var(--offset);\n    margin-bottom: var(--offset);\n    cursor: nwse-resize;\n    z-index: 100; /* Resizer Corner */\n}\n\n.suey-resizer-bottom-left {\n    background-color: rgb(0, 0, 0);\n    width: var(--resize-size);\n    height: var(--resize-size);\n    left: 0;\n    bottom: 0;\n    margin-left: var(--offset);\n    margin-bottom: var(--offset);\n    cursor: nesw-resize;\n    z-index: 100; /* Resizer Corner */\n}\n");vn(".suey-tooltip, .suey-info-box {\n    display: inline-block;\n    color: rgba(var(--highlight), 1);\n\n    /* NEW: Dark, Flat Box */\n    background-color: rgba(var(--background-dark), 1.0);\n    border: solid var(--border-small) rgba(var(--icon), 1);\n\n    /* OLD: Raised Icon Color Button\n    background-color: transparent;\n    background-image: linear-gradient(to top, rgba(var(--icon-dark), 1.0), rgba(var(--icon-light), 1.0));\n    border-radius: var(--radius-large);\n    */\n\n    border-radius: var(--radius-large);\n    box-shadow:\n        0px 0px 3px 2px rgba(var(--shadow), 0.75),\n        inset var(--minus) var(--pixel) var(--pixel) var(--pixel) rgba(var(--white), 0.1),\n        inset var(--pixel) var(--minus) var(--pixel) var(--pixel) rgba(var(--black), 0.1);\n    text-shadow: var(--minus) var(--pixel) rgba(var(--shadow), 0.5);\n    padding: 0.3em 1.1em;\n    pointer-events: none;\n\n    white-space: nowrap;\n    z-index: 1001; /* Tooltip, InfoBox */\n}\n\n.suey-tooltip {\n    position: absolute;\n    opacity: 0;\n    transform: scale(0.25);\n    transform-origin: center;\n    transition: opacity 0.2s, transform 0.2s;\n    transition-delay: 0ms;\n}\n\n.suey-tooltip.suey-updated {\n    opacity: 1.0;\n    transform: scale(1.0);\n    transition-delay: var(--tooltip-delay);\n}\n\n.suey-info-box {\n    margin: 0;\n    position: absolute;\n    opacity: 0;\n    transition: opacity 1.0s ease-in;\n}\n\n.suey-info-box.suey-updated {\n    opacity: 1.0;\n    transition: opacity 0.0s ease-in;\n}\n");vn("/********** Disabled **********/\n\n.suey-hidden {\n    display: none !important;\n    pointer-events: none !important;\n}\n\n/** Grayscale filter for disabled items */\n.suey-disabled {\n    filter: contrast(75%) grayscale(100%) !important;\n    opacity: 0.7 !important;\n    cursor: default !important;\n    /* pointer-events: none !important; */\n}\n\n/** Element becomes 'unselectable', https://developer.mozilla.org/en-US/docs/Web/CSS/user-select */\n.suey-unselectable {\n    user-select: none;\n}\n\n/********** Coloring **********/\n\n.suey-icon-colorize /* aqua */ {\n    filter: brightness(65%) sepia(1000%) saturate(1000%) hue-rotate(calc(var(--rotate-hue) + 160deg));\n}\n\n.suey-complement-colorize /* orange */ {\n    filter: brightness(65%) sepia(1000%) saturate(1000%) hue-rotate(calc(var(--rotate-hue) + 0deg));\n}\n\n.suey-match-scheme {\n    filter: saturate(125%) hue-rotate(var(--rotate-hue));\n}\n\n.suey-match-complement {\n    filter: saturate(125%) hue-rotate(calc(var(--rotate-hue) + 180deg));\n}\n\n.suey-black-or-white {\n    filter: brightness(calc(1 * var(--bright)));\n}\n\n.suey-black-or-white.suey-highlight {\n    filter: brightness(calc((2 * var(--bright)) + 0.35));\n}\n\n.suey-black-or-white.suey-drop-shadow {\n    filter: brightness(calc(10 * var(--bright))) var(--drop-shadow);\n}\n\n/********** Menu **********/\n\n.suey-keep-open {\n    /* keeps menu open on click, handled in Menu */\n}\n\n/********** Mouse Cursor **********/\n\n.suey-cursor-override {\n    /** global cursor override */\n}\n\n.suey-cursor-override * {\n    cursor: inherit !important;\n}\n\n/********** Tree List **********/\n\n.suey-no-select {\n    /* disables tree list option, handled in Tree List */\n}\n");export{R as ALIGN,Gt as AbsoluteBox,Ut as AssetBox,p as BACKGROUNDS,E as BUTTON_TYPES,Lt as Break,Ge as Button,v as CLOSE_SIDES,w as CORNER_BUTTONS,Mt as Canvas,dt as Checkbox,ct as Color,ze as ColorScheme,pe as ColorizeFilter,z as Css,x as DOCK_SIDES,Ue as Div,Nt as Docker,Re as Dom,yt as Dropdown,Oe as Element,_t as FlexBox,tt as FlexSpacer,Dt as Floater,L as GRAPH_GRID_TYPES,I as GRAPH_LINE_TYPES,d as GRID_SIZE,Tt as Gooey,Zt as Graph,e as IMAGE_ADD,t as IMAGE_CHECK,n as IMAGE_CLOSE,s as IMAGE_EMPTY,a as IMAGE_ERROR,i as IMAGE_EXPAND,r as IMAGE_INFO,o as IMAGE_QUESTION,l as IMAGE_WARNING,_e as Image,je as Interaction,F as Iris,f as LEFT_SPACING,h as MOUSE_CLICK,u as MOUSE_SLOP_LARGE,c as MOUSE_SLOP_SMALL,Ht as MainWindow,pt as Menu,bt as MenuItem,ut as MenuSeparator,gt as MenuShortcut,M as NODE_TYPES,en as Node,tn as NodeItem,vt as NumberBox,wt as NumberScroll,P as OVERFLOW,y as PANEL_STYLES,D as POSITION,ot as Panel,A as Popper,it as PropertyList,T as QUESTION_COLORS,S as QUESTION_ICONS,Wt as Question,k as RESIZERS,rt as Resizeable,nt as Row,fn as Scene,nn as Scrollable,Ke as ShadowBox,at as Shrinkable,Ne as Signal,Pe as SignalBinding,kt as Slider,et as Span,Xe as Strings,C as TAB_SIDES,g as THEMES,m as TOOLTIP_Y_OFFSET,b as TRAIT,Ft as Tabbed,st as Text,$t as TextArea,Ct as TextBox,lt as Titled,Kt as ToolbarButton,jt as ToolbarSeparator,Xt as ToolbarSpacer,zt as TreeList,Ye as VectorBox,Bt as Window,Je as tooltipper};
